(self.webpackChunkyv_app=self.webpackChunkyv_app||[]).push([[332],{8375:(ft,b,D)=>{"use strict";D.d(b,{f:()=>s});var _=D(1413),f=D(7944);let s=(()=>{class h{toastEvents=new _.B;show(w,c,l=""){this.toastEvents.next({header:w,body:c,className:l})}static \u0275fac=function(c){return new(c||h)};static \u0275prov=f.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},1079:(ft,b,D)=>{"use strict";D.d(b,{f:()=>i});var _=D(467),f=D(7247),u=D.n(f),s=D(4412),h=D(4843),v=D(7944),c=D(1626),l=D(1907);let i=(()=>{class p{http;storageService;contentMetadata=new s.t(null);contentItemsSubject=new s.t(null);currentPart=new s.t(null);currentPartId=1;category="";contentItems=null;constructor(n,r){this.http=n,this.storageService=r,this.loadInitialMetadata()}loadInitialMetadata(){var n=this;return(0,_.A)(function*(){const r=yield n.storageService.getMetadata();r&&n.contentMetadata.next(r)})()}loadPart(n){var r=this;return(0,_.A)(function*(){try{const o=yield r.storageService.getPart(n);o&&(r.currentPartId=n,r.currentPart.next(o))}catch(o){throw console.error("Error loading part:",o),o}})()}buildImageKey(n,r){var o=this;return(0,_.A)(function*(){let g=null,k=!1;if(n&&r){if(g=n+"/section"+r+".jpg",k=yield o.hasImage(g),k)return g}else if(n){if(g=n+".jpg",k=yield o.hasImage(g),k)return g}else if(g="bookCover.jpg",k=yield o.hasImage(g),k)return g;return g})()}getMetadata(){return this.contentMetadata.asObservable()}getCurrentPart(){return this.currentPart.asObservable()}loadPreviousPart(){var n=this;return(0,_.A)(function*(){n.currentPartId>1&&(yield n.loadPart(n.currentPartId-1))})()}loadNextPart(){var n=this;return(0,_.A)(function*(){const r=n.contentMetadata.value;r&&n.currentPartId<r.partsMetadata.length&&(yield n.loadPart(n.currentPartId+1))})()}hasPreviousPart(){return this.currentPartId>1}hasNextPart(){const n=this.contentMetadata.value;return!!n&&this.currentPartId<n.partsMetadata.length}loadContentPackage(n){var r=this;return(0,_.A)(function*(){try{console.log("Loading content package from",n);const o=yield r.http.get(n,{responseType:"arraybuffer"}).toPromise();if(!o)throw new Error("No response from server");const k=yield(new(u())).loadAsync(o);yield r.loadContent(k),console.log("Content stored")}catch(o){throw console.error("Error loading content package:",o),o}})()}loadContent(n){var r=this;return(0,_.A)(function*(){try{const o=yield n.file("meta.json")?.async("text");if(console.log("Loading metadata file "+o),!o)throw new Error("No metadata file found");console.log("Metadata file found");const g=JSON.parse(o);r.contentMetadata.next(g),console.log("Metadata loaded "+g.title),yield r.storeContent(n,g),localStorage.setItem("lastLoadedContentItemId",g.id)}catch(o){throw console.error("Error loading content:",o),o}})()}hasImage(n){var r=this;return(0,_.A)(function*(){return r.storageService.hasImage(n)})()}getImageUrl(n){var r=this;return(0,_.A)(function*(){console.log("Getting image url for "+n),(""===n||null===n)&&(n="bookCover.jpg");try{const g=(yield r.storageService.initDatabase()).transaction("images","readonly").objectStore("images");let k=yield g.get(n);if(k)return console.log(`Image found: ${n}`),URL.createObjectURL(k);if(console.warn(`Image not found: ${n}`),r.contentMetadata.value&&r.contentMetadata.value.coverImage)return r.contentMetadata.value.coverImage;const x=n.split("/")[0];if(x){const j=`${x}.jpg`;if(k=yield g.get(j),k)return console.log(`Using part cover image: ${j}`),URL.createObjectURL(k)}return k=yield g.get("bookCover.jpg"),k?(console.log("Using book cover image"),URL.createObjectURL(k)):r.getFallbackImageUrl()}catch(o){return console.error("Error retrieving image:",o),r.getCoverImageUrl()}})()}storeContent(n,r){var o=this;return(0,_.A)(function*(){yield o.storageService.clearDatabase(),yield o.storageService.storeMetadata(r);for(const k of r.partsMetadata){const x=k.id+".json";console.log("Part file name:",x);const j=yield n.file(x)?.async("text");if(j){console.log("Part file found "+x);const B=JSON.parse(j);yield o.storageService.storePart(B)}}const g=n.folder("images");if(g)for(const[k,x]of Object.entries(g.files))if(!x.dir){const j=yield x.async("blob"),B=k.replace("images/","");yield o.storageService.storeImage(B,j)}console.log("Images stored")})()}getCoverImageUrl(){return this.contentMetadata.value?.coverImage||this.getFallbackImageUrl()}getFallbackImageUrl(n){let r=Math.floor(11*Math.random())+1,o="https://vishalmanchanda.github.io/assets/cp/default-"+r+".jpg";return n&&"intro"==n&&(r=Math.floor(6*Math.random())+1,o="https://vishalmanchanda.github.io/assets/cp/intro-"+r+".jpg"),console.log("Fallback image url: "+o),o}getPart(n){return this.storageService.getPart(n)}clearDatabase(){return this.storageService.clearDatabase()}loadLastLoadedContentItem(){var n=this;return(0,_.A)(function*(){if(n.contentItems&&n.contentItems.length>0){const r=localStorage.getItem("lastLoadedContentItemId");r&&(yield n.loadContentPackage(n.contentItems[n.contentItems.findIndex(o=>o.id===r)].zipUrl))}})()}isContentItemLoaded(n){var r=this;return(0,_.A)(function*(){const o=yield(0,h._)(r.getMetadata());return!!o&&o.id===n.id&&o.language===n.language&&o.categoryKey===n.categoryKey})()}loadContentItemById(n){var r=this;return(0,_.A)(function*(){if(!(r.contentItems&&r.contentItems.length>0))throw new Error("No content items loaded");yield r.loadContentPackage(r.contentItems[r.contentItems.findIndex(o=>o.id===n)].zipUrl)})()}getCurrentMetadata(){var n=this;return(0,_.A)(function*(){return yield n.storageService.getMetadata()})()}getPopularKeywords(){var n=this;return(0,_.A)(function*(){const r=yield n.getCurrentMetadata();return r&&r.keywords||[]})()}updateResumeBookMark(n){var r=this;return(0,_.A)(function*(){yield r.storageService.updateResumeBookMark(n)})()}getResumeBookMark(n,r){var o=this;return(0,_.A)(function*(){return yield o.storageService.getResumeBookMark(n,r)})()}static \u0275fac=function(r){return new(r||p)(v.\u0275\u0275inject(c.Qq),v.\u0275\u0275inject(l.n))};static \u0275prov=v.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},1907:(ft,b,D)=>{"use strict";D.d(b,{n:()=>h});var _=D(467),f=D(943),u=D(7944);let h=(()=>{class v{db=null;DB_NAME="content-viewer-db";DB_VERSION=1;initDatabase(){var c=this;return(0,_.A)(function*(){return c.db||(c.db=yield(0,f.P2)(c.DB_NAME,c.DB_VERSION,{upgrade(l){l.objectStoreNames.contains("metadata")&&l.deleteObjectStore("metadata"),l.objectStoreNames.contains("parts")&&l.deleteObjectStore("parts"),l.objectStoreNames.contains("images")&&l.deleteObjectStore("images"),l.objectStoreNames.contains("progress")&&l.deleteObjectStore("progress"),l.objectStoreNames.contains("preferences")&&l.deleteObjectStore("preferences"),l.objectStoreNames.contains("commentary")&&l.deleteObjectStore("commentary"),l.createObjectStore("metadata"),l.createObjectStore("parts",{keyPath:"id"}),l.createObjectStore("images"),l.createObjectStore("progress"),l.createObjectStore("preferences"),l.createObjectStore("commentary"),l.objectStoreNames.contains("authorSelections")||l.createObjectStore("authorSelections")}})),c.db})()}clearDatabase(){var c=this;return(0,_.A)(function*(){const l=yield c.initDatabase();yield l.clear("metadata"),yield l.clear("parts"),yield l.clear("images"),yield l.clear("commentary")})()}hasImage(c){var l=this;return(0,_.A)(function*(){return void 0!==(yield(yield l.initDatabase()).getKey("images",c))})()}storeMetadata(c){var l=this;return(0,_.A)(function*(){yield(yield l.initDatabase()).put("metadata",{...c},"current")})()}getMetadata(){var c=this;return(0,_.A)(function*(){return yield(yield c.initDatabase()).get("metadata","current")})()}storePart(c){var l=this;return(0,_.A)(function*(){yield(yield l.initDatabase()).put("parts",c)})()}getPart(c){var l=this;return(0,_.A)(function*(){try{const i=yield l.initDatabase();console.log("getPart",c);let p=yield i.get("parts",c);return void 0===p&&(p=yield i.get("parts",c.toString())),console.log("getPart result",p),p}catch(i){throw console.error("Error getting part:",i),i}})()}storeImage(c,l){var i=this;return(0,_.A)(function*(){yield(yield i.initDatabase()).put("images",l,c)})()}getImage(c){var l=this;return(0,_.A)(function*(){return yield(yield l.initDatabase()).get("images",c)})()}getImageUrl(c){var l=this;return(0,_.A)(function*(){try{const i=yield l.getImage(c);return i?URL.createObjectURL(i):void 0}catch(i){return void console.error("Error getting image URL:",i)}})()}updateProgress(c){var l=this;return(0,_.A)(function*(){yield(yield l.initDatabase()).put("progress",{...c},"current")})()}getProgress(){var c=this;return(0,_.A)(function*(){return yield(yield c.initDatabase()).get("progress","current")})()}updatePreferences(c){var l=this;return(0,_.A)(function*(){yield(yield l.initDatabase()).put("preferences",{...c},"current")})()}getPreferences(){var c=this;return(0,_.A)(function*(){return yield(yield c.initDatabase()).get("preferences","current")})()}isContentItemLoaded(c){var l=this;return(0,_.A)(function*(){return void 0!==(yield(yield l.initDatabase()).get("metadata",c))})()}updateResumeBookMark(c){return(0,_.A)(function*(){if(c.categoryKey&&c.contentId){const l={...c,timestamp:new Date};localStorage.setItem(c.categoryKey+"-"+c.contentId+"-resume",JSON.stringify(l))}else console.error("Invalid bookmark",c)})()}getResumeBookMark(c,l){return(0,_.A)(function*(){const i=localStorage.getItem(c+"-"+l+"-resume");return i?JSON.parse(i):void 0})()}getRecentResumeBookMarks(c){return(0,_.A)(function*(){const l=[],i=Object.keys(localStorage).filter(a=>a.endsWith("-resume"));console.log("resumeBookmarks",i);for(const a of i){const n=localStorage.getItem(a);n&&l.push(JSON.parse(n))}const p=l.sort((a,n)=>{const r=new Date(a.timestamp);return new Date(n.timestamp).getTime()-r.getTime()});return p.length>c?p.slice(0,c):p})()}storeCommentary(c,l){var i=this;return(0,_.A)(function*(){try{yield(yield i.initDatabase()).put("commentary",l,c)}catch(p){console.error("Error storing commentary",p)}})()}getCommentary(c,l,i){var p=this;return(0,_.A)(function*(){let a;const r=yield(yield p.initDatabase()).get("commentary",c);return r&&r.length>0&&r.forEach(o=>{o.verseNum===i&&(a=o)}),a})()}storeAuthorSelection(c,l){var i=this;return(0,_.A)(function*(){yield(yield i.initDatabase()).put("authorSelections",{contentId:c,author:l},c)})()}getAuthorSelection(c){var l=this;return(0,_.A)(function*(){return(yield(yield l.initDatabase()).get("authorSelections",c))?.author})()}static \u0275fac=function(l){return new(l||v)};static \u0275prov=u.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},4332:(ft,b,D)=>{"use strict";D.r(b),D.d(b,{ContentLoaderComponent:()=>l});var _=D(467),f=D(5694),u=D(7944),s=D(4674),h=D(1079),v=D(8375);let c=(()=>{class i{baseContentUrl="https://vishalmanchanda.github.io/";getContentUrl(a,n){return`${this.baseContentUrl}/assets/content/${a}/${n}.zip`}static \u0275fac=function(n){return new(n||i)};static \u0275prov=u.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),l=(()=>{class i{route;router;contentService;toastService;contentConfigService;constructor(a,n,r,o,g){this.route=a,this.router=n,this.contentService=r,this.toastService=o,this.contentConfigService=g}ngOnInit(){var a=this;this.route.params.subscribe(n=>{const r=n.key;this.route.queryParams.subscribe(function(){var o=(0,_.A)(function*(g){const k=g.contentId;if(r&&k)try{const x=a.contentConfigService.getContentUrl(r,k);yield a.contentService.loadContentPackage(x),a.router.navigate(["/reader"],{queryParams:{partId:"1",sectionId:"1",category:r}})}catch(x){console.error("Error loading content:",x),a.toastService.show("Error","Failed to load content"),a.router.navigate(["/home",r])}else a.router.navigate(["/home",r])});return function(g){return o.apply(this,arguments)}}())})}static \u0275fac=function(n){return new(n||i)(u.\u0275\u0275directiveInject(s.ActivatedRoute),u.\u0275\u0275directiveInject(s.Router),u.\u0275\u0275directiveInject(h.f),u.\u0275\u0275directiveInject(v.f),u.\u0275\u0275directiveInject(c))};static \u0275cmp=u.\u0275\u0275defineComponent({type:i,selectors:[["app-content-loader"]],standalone:!0,features:[u.\u0275\u0275StandaloneFeature],decls:10,vars:0,consts:[[1,"container"],[1,"row","min-vh-100","align-items-center","justify-content-center"],[1,"col-12","text-center"],["role","status",1,"spinner-border","text-primary",2,"width","3rem","height","3rem"],[1,"visually-hidden"],[1,"mt-3"],[1,"progress","mt-3",2,"height","10px"],["role","progressbar",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","100%"]],template:function(n,r){1&n&&(u.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),u.\u0275\u0275text(5,"Loading..."),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(6,"h4",5),u.\u0275\u0275text(7,"Loading Content..."),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(8,"div",6),u.\u0275\u0275element(9,"div",7),u.\u0275\u0275elementEnd()()()())},dependencies:[f.CommonModule],encapsulation:2})}return i})()},7247:ft=>{ft.exports=function b(D,_,f){function u(v,w){if(!_[v]){if(!D[v]){if(s)return s(v,!0);var l=new Error("Cannot find module '"+v+"'");throw l.code="MODULE_NOT_FOUND",l}var i=_[v]={exports:{}};D[v][0].call(i.exports,function(p){return u(D[v][1][p]||p)},i,i.exports,b,D,_,f)}return _[v].exports}for(var s=void 0,h=0;h<f.length;h++)u(f[h]);return u}({1:[function(b,D,_){"use strict";var f=b("./utils"),u=b("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";_.encode=function(h){for(var v,w,c,i,p,a,n=[],r=0,o=h.length,g=o,k="string"!==f.getTypeOf(h);r<h.length;)g=o-r,c=k?(v=h[r++],w=r<o?h[r++]:0,r<o?h[r++]:0):(v=h.charCodeAt(r++),w=r<o?h.charCodeAt(r++):0,r<o?h.charCodeAt(r++):0),i=(3&v)<<4|w>>4,p=1<g?(15&w)<<2|c>>6:64,a=2<g?63&c:64,n.push(s.charAt(v>>2)+s.charAt(i)+s.charAt(p)+s.charAt(a));return n.join("")},_.decode=function(h){var v,w,c,l,i,p,a=0,n=0,r="data:";if(h.substr(0,5)===r)throw new Error("Invalid base64 input, it looks like a data url.");var o,g=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===s.charAt(64)&&g--,h.charAt(h.length-2)===s.charAt(64)&&g--,g%1!=0)throw new Error("Invalid base64 input, bad content length.");for(o=u.uint8array?new Uint8Array(0|g):new Array(0|g);a<h.length;)v=s.indexOf(h.charAt(a++))<<2|(l=s.indexOf(h.charAt(a++)))>>4,w=(15&l)<<4|(i=s.indexOf(h.charAt(a++)))>>2,c=(3&i)<<6|(p=s.indexOf(h.charAt(a++))),o[n++]=v,64!==i&&(o[n++]=w),64!==p&&(o[n++]=c);return o}},{"./support":30,"./utils":32}],2:[function(b,D,_){"use strict";var f=b("./external"),u=b("./stream/DataWorker"),s=b("./stream/Crc32Probe"),h=b("./stream/DataLengthProbe");function v(w,c,l,i,p){this.compressedSize=w,this.uncompressedSize=c,this.crc32=l,this.compression=i,this.compressedContent=p}v.prototype={getContentWorker:function(){var w=new u(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),c=this;return w.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new u(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},v.createWorkerFrom=function(w,c,l){return w.pipe(new s).pipe(new h("uncompressedSize")).pipe(c.compressWorker(l)).pipe(new h("compressedSize")).withStreamInfo("compression",c)},D.exports=v},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(b,D,_){"use strict";var f=b("./stream/GenericWorker");_.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},_.DEFLATE=b("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(b,D,_){"use strict";var f=b("./utils"),u=function(){for(var s,h=[],v=0;v<256;v++){s=v;for(var w=0;w<8;w++)s=1&s?3988292384^s>>>1:s>>>1;h[v]=s}return h}();D.exports=function(s,h){return void 0!==s&&s.length?"string"!==f.getTypeOf(s)?function(v,w,c){var i=u,p=0+c;v^=-1;for(var a=0;a<p;a++)v=v>>>8^i[255&(v^w[a])];return~v}(0|h,s,s.length):function(v,w,c){var i=u,p=0+c;v^=-1;for(var a=0;a<p;a++)v=v>>>8^i[255&(v^w.charCodeAt(a))];return~v}(0|h,s,s.length):0}},{"./utils":32}],5:[function(b,D,_){"use strict";_.base64=!1,_.binary=!1,_.dir=!1,_.createFolders=!0,_.date=null,_.compression=null,_.compressionOptions=null,_.comment=null,_.unixPermissions=null,_.dosPermissions=null},{}],6:[function(b,D,_){"use strict";var f;f=typeof Promise<"u"?Promise:b("lie"),D.exports={Promise:f}},{lie:37}],7:[function(b,D,_){"use strict";var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=b("pako"),s=b("./utils"),h=b("./stream/GenericWorker"),v=f?"uint8array":"array";function w(c,l){h.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=l,this.meta={}}_.magic="\b\0",s.inherits(w,h),w.prototype.processChunk=function(c){this.meta=c.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(v,c.data),!1)},w.prototype.flush=function(){h.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(l){c.push({data:l,meta:c.meta})}},_.compressWorker=function(c){return new w("Deflate",c)},_.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(b,D,_){"use strict";function f(i,p){var a,n="";for(a=0;a<p;a++)n+=String.fromCharCode(255&i),i>>>=8;return n}function u(i,p,a,n,r,o){var g,k,x=i.file,j=i.compression,B=o!==v.utf8encode,W=s.transformTo("string",o(x.name)),R=s.transformTo("string",v.utf8encode(x.name)),G=x.comment,J=s.transformTo("string",o(G)),y=s.transformTo("string",v.utf8encode(G)),T=R.length!==x.name.length,e=y.length!==G.length,L="",q="",N="",rt=x.dir,Z=x.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};p&&!a||(Q.crc32=i.crc32,Q.compressedSize=i.compressedSize,Q.uncompressedSize=i.uncompressedSize);var z=0;p&&(z|=8),B||!T&&!e||(z|=2048);var P,it,C=0,A=0;rt&&(C|=16),"UNIX"===r?(A=798,C|=(it=P=x.unixPermissions,P||(it=rt?16893:33204),(65535&it)<<16)):(A=20,C|=function(P){return 63&(P||0)}(x.dosPermissions)),g=Z.getUTCHours(),g<<=6,g|=Z.getUTCMinutes(),g<<=5,g|=Z.getUTCSeconds()/2,k=Z.getUTCFullYear()-1980,k<<=4,k|=Z.getUTCMonth()+1,k<<=5,k|=Z.getUTCDate(),T&&(q=f(1,1)+f(w(W),4)+R,L+="up"+f(q.length,2)+q),e&&(N=f(1,1)+f(w(J),4)+y,L+="uc"+f(N.length,2)+N);var I="";return I+="\n\0",I+=f(z,2),I+=j.magic,I+=f(g,2),I+=f(k,2),I+=f(Q.crc32,4),I+=f(Q.compressedSize,4),I+=f(Q.uncompressedSize,4),I+=f(W.length,2),I+=f(L.length,2),{fileRecord:c.LOCAL_FILE_HEADER+I+W+L,dirRecord:c.CENTRAL_FILE_HEADER+f(A,2)+I+f(J.length,2)+"\0\0\0\0"+f(C,4)+f(n,4)+W+L+J}}var s=b("../utils"),h=b("../stream/GenericWorker"),v=b("../utf8"),w=b("../crc32"),c=b("../signature");function l(i,p,a,n){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=a,this.encodeFileName=n,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(l,h),l.prototype.push=function(i){var p=i.meta.percent||0,a=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,h.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:a?(p+100*(a-n-1))/a:100}}))},l.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var p=this.streamFiles&&!i.file.dir;if(p){var a=u(i,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:a.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(i){this.accumulate=!1;var n,p=this.streamFiles&&!i.file.dir,a=u(i,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),p)this.push({data:(n=i,c.DATA_DESCRIPTOR+f(n.crc32,4)+f(n.compressedSize,4)+f(n.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var i=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var r,o,g,j,n=(r=this.dirRecords.length,o=this.bytesWritten-i,g=i,j=s.transformTo("string",(0,this.encodeFileName)(this.zipComment)),c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(r,2)+f(r,2)+f(o,4)+f(g,4)+f(j.length,2)+j);this.push({data:n,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(i){this._sources.push(i);var p=this;return i.on("data",function(a){p.processChunk(a)}),i.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),i.on("error",function(a){p.error(a)}),this},l.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(i){var p=this._sources;if(!h.prototype.error.call(this,i))return!1;for(var a=0;a<p.length;a++)try{p[a].error(i)}catch{}return!0},l.prototype.lock=function(){h.prototype.lock.call(this);for(var i=this._sources,p=0;p<i.length;p++)i[p].lock()},D.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(b,D,_){"use strict";var f=b("../compressions"),u=b("./ZipFileWorker");_.generateWorker=function(s,h,v){var w=new u(h.streamFiles,v,h.platform,h.encodeFileName),c=0;try{s.forEach(function(l,i){c++;var p=function(o,g){var k=o||g,x=f[k];if(!x)throw new Error(k+" is not a valid compression method !");return x}(i.options.compression,h.compression),n=i.dir,r=i.date;i._compressWorker(p,i.options.compressionOptions||h.compressionOptions||{}).withStreamInfo("file",{name:l,dir:n,date:r,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(w)}),w.entriesCount=c}catch(l){w.error(l)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(b,D,_){"use strict";function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new f;for(var s in this)"function"!=typeof this[s]&&(u[s]=this[s]);return u}}(f.prototype=b("./object")).loadAsync=b("./load"),f.support=b("./support"),f.defaults=b("./defaults"),f.version="3.10.1",f.loadAsync=function(u,s){return(new f).loadAsync(u,s)},f.external=b("./external"),D.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(b,D,_){"use strict";var f=b("./utils"),u=b("./external"),s=b("./utf8"),h=b("./zipEntries"),v=b("./stream/Crc32Probe"),w=b("./nodejsUtils");function c(l){return new u.Promise(function(i,p){var a=l.decompressed.getContentWorker().pipe(new v);a.on("error",function(n){p(n)}).on("end",function(){a.streamInfo.crc32!==l.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}D.exports=function(l,i){var p=this;return i=f.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),w.isNode&&w.isStream(l)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",l,!0,i.optimizedBinaryString,i.base64).then(function(a){var n=new h(i);return n.load(a),n}).then(function(a){var n=[u.Promise.resolve(a)],r=a.files;if(i.checkCRC32)for(var o=0;o<r.length;o++)n.push(c(r[o]));return u.Promise.all(n)}).then(function(a){for(var n=a.shift(),r=n.files,o=0;o<r.length;o++){var g=r[o],k=g.fileNameStr,x=f.resolve(g.fileNameStr);p.file(x,g.decompressed,{binary:!0,optimizedBinaryString:!0,date:g.date,dir:g.dir,comment:g.fileCommentStr.length?g.fileCommentStr:null,unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions,createFolders:i.createFolders}),g.dir||(p.file(x).unsafeOriginalName=k)}return n.zipComment.length&&(p.comment=n.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(b,D,_){"use strict";var f=b("../utils"),u=b("../stream/GenericWorker");function s(h,v){u.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(v)}f.inherits(s,u),s.prototype._bindStream=function(h){var v=this;(this._stream=h).pause(),h.on("data",function(w){v.push({data:w,meta:{percent:0}})}).on("error",function(w){v.isPaused?this.generatedError=w:v.error(w)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},s.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},D.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(b,D,_){"use strict";var f=b("readable-stream").Readable;function u(s,h,v){f.call(this,h),this._helper=s;var w=this;s.on("data",function(c,l){w.push(c)||w._helper.pause(),v&&v(l)}).on("error",function(c){w.emit("error",c)}).on("end",function(){w.push(null)})}b("../utils").inherits(u,f),u.prototype._read=function(){this._helper.resume()},D.exports=u},{"../utils":32,"readable-stream":16}],14:[function(b,D,_){"use strict";D.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,u);if("number"==typeof f)throw new Error('The "data" argument must not be a number');return new Buffer(f,u)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var u=new Buffer(f);return u.fill(0),u},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&"function"==typeof f.on&&"function"==typeof f.pause&&"function"==typeof f.resume}}},{}],15:[function(b,D,_){"use strict";function f(x,j,B){var W,R=s.getTypeOf(j),G=s.extend(B||{},w);G.date=G.date||new Date,null!==G.compression&&(G.compression=G.compression.toUpperCase()),"string"==typeof G.unixPermissions&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(x=r(x)),G.createFolders&&(W=n(x))&&o.call(this,W,!0),B&&void 0!==B.binary||(G.binary=!("string"===R&&!1===G.binary&&!1===G.base64)),(j instanceof c&&0===j.uncompressedSize||G.dir||!j||0===j.length)&&(G.base64=!1,G.binary=!0,j="",G.compression="STORE",R="string");var y;y=j instanceof c||j instanceof h?j:p.isNode&&p.isStream(j)?new a(x,j):s.prepareContent(x,j,G.binary,G.optimizedBinaryString,G.base64);var T=new l(x,y,G);this.files[x]=T}var u=b("./utf8"),s=b("./utils"),h=b("./stream/GenericWorker"),v=b("./stream/StreamHelper"),w=b("./defaults"),c=b("./compressedObject"),l=b("./zipObject"),i=b("./generate"),p=b("./nodejsUtils"),a=b("./nodejs/NodejsStreamInputAdapter"),n=function(x){"/"===x.slice(-1)&&(x=x.substring(0,x.length-1));var j=x.lastIndexOf("/");return 0<j?x.substring(0,j):""},r=function(x){return"/"!==x.slice(-1)&&(x+="/"),x},o=function(x,j){return j=void 0!==j?j:w.createFolders,x=r(x),this.files[x]||f.call(this,x,null,{dir:!0,createFolders:j}),this.files[x]};function g(x){return"[object RegExp]"===Object.prototype.toString.call(x)}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var j,B,W;for(j in this.files)W=this.files[j],(B=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&x(B,W)},filter:function(x){var j=[];return this.forEach(function(B,W){x(B,W)&&j.push(W)}),j},file:function(x,j,B){if(1!==arguments.length)return f.call(this,x=this.root+x,j,B),this;if(g(x)){var W=x;return this.filter(function(G,J){return!J.dir&&W.test(G)})}var R=this.files[this.root+x];return R&&!R.dir?R:null},folder:function(x){if(!x)return this;if(g(x))return this.filter(function(R,G){return G.dir&&x.test(R)});var B=o.call(this,this.root+x),W=this.clone();return W.root=B.name,W},remove:function(x){var j=this.files[x=this.root+x];if(j||("/"!==x.slice(-1)&&(x+="/"),j=this.files[x]),j&&!j.dir)delete this.files[x];else for(var B=this.filter(function(R,G){return G.name.slice(0,x.length)===x}),W=0;W<B.length;W++)delete this.files[B[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var j,B={};try{if((B=s.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),"binarystring"===B.type&&(B.type="string"),!B.type)throw new Error("No output type specified.");s.checkSupport(B.type),"darwin"!==B.platform&&"freebsd"!==B.platform&&"linux"!==B.platform&&"sunos"!==B.platform||(B.platform="UNIX"),"win32"===B.platform&&(B.platform="DOS"),j=i.generateWorker(this,B,B.comment||this.comment||"")}catch(R){(j=new h("error")).error(R)}return new v(j,B.type||"string",B.mimeType)},generateAsync:function(x,j){return this.generateInternalStream(x).accumulate(j)},generateNodeStream:function(x,j){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(j)}};D.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(b,D,_){"use strict";D.exports=b("stream")},{stream:void 0}],17:[function(b,D,_){"use strict";var f=b("./DataReader");function u(s){f.call(this,s);for(var h=0;h<this.data.length;h++)s[h]=255&s[h]}b("../utils").inherits(u,f),u.prototype.byteAt=function(s){return this.data[this.zero+s]},u.prototype.lastIndexOfSignature=function(s){for(var h=s.charCodeAt(0),v=s.charCodeAt(1),w=s.charCodeAt(2),c=s.charCodeAt(3),l=this.length-4;0<=l;--l)if(this.data[l]===h&&this.data[l+1]===v&&this.data[l+2]===w&&this.data[l+3]===c)return l-this.zero;return-1},u.prototype.readAndCheckSignature=function(s){var h=s.charCodeAt(0),v=s.charCodeAt(1),w=s.charCodeAt(2),c=s.charCodeAt(3),l=this.readData(4);return h===l[0]&&v===l[1]&&w===l[2]&&c===l[3]},u.prototype.readData=function(s){if(this.checkOffset(s),0===s)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},D.exports=u},{"../utils":32,"./DataReader":18}],18:[function(b,D,_){"use strict";var f=b("../utils");function u(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var h,v=0;for(this.checkOffset(s),h=this.index+s-1;h>=this.index;h--)v=(v<<8)+this.byteAt(h);return this.index+=s,v},readString:function(s){return f.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},D.exports=u},{"../utils":32}],19:[function(b,D,_){"use strict";var f=b("./Uint8ArrayReader");function u(s){f.call(this,s)}b("../utils").inherits(u,f),u.prototype.readData=function(s){this.checkOffset(s);var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},D.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(b,D,_){"use strict";var f=b("./DataReader");function u(s){f.call(this,s)}b("../utils").inherits(u,f),u.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},u.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},u.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},u.prototype.readData=function(s){this.checkOffset(s);var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},D.exports=u},{"../utils":32,"./DataReader":18}],21:[function(b,D,_){"use strict";var f=b("./ArrayReader");function u(s){f.call(this,s)}b("../utils").inherits(u,f),u.prototype.readData=function(s){if(this.checkOffset(s),0===s)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},D.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(b,D,_){"use strict";var f=b("../utils"),u=b("../support"),s=b("./ArrayReader"),h=b("./StringReader"),v=b("./NodeBufferReader"),w=b("./Uint8ArrayReader");D.exports=function(c){var l=f.getTypeOf(c);return f.checkSupport(l),"string"!==l||u.uint8array?"nodebuffer"===l?new v(c):u.uint8array?new w(f.transformTo("uint8array",c)):new s(f.transformTo("array",c)):new h(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(b,D,_){"use strict";_.LOCAL_FILE_HEADER="PK\x03\x04",_.CENTRAL_FILE_HEADER="PK\x01\x02",_.CENTRAL_DIRECTORY_END="PK\x05\x06",_.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",_.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",_.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(b,D,_){"use strict";var f=b("./GenericWorker"),u=b("../utils");function s(h){f.call(this,"ConvertWorker to "+h),this.destType=h}u.inherits(s,f),s.prototype.processChunk=function(h){this.push({data:u.transformTo(this.destType,h.data),meta:h.meta})},D.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(b,D,_){"use strict";var f=b("./GenericWorker"),u=b("../crc32");function s(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}b("../utils").inherits(s,f),s.prototype.processChunk=function(h){this.streamInfo.crc32=u(h.data,this.streamInfo.crc32||0),this.push(h)},D.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(b,D,_){"use strict";var f=b("../utils"),u=b("./GenericWorker");function s(h){u.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}f.inherits(s,u),s.prototype.processChunk=function(h){h&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+h.data.length),u.prototype.processChunk.call(this,h)},D.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(b,D,_){"use strict";var f=b("../utils"),u=b("./GenericWorker");function s(h){u.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(w){v.dataIsReady=!0,v.data=w,v.max=w&&w.length||0,v.type=f.getTypeOf(w),v.isPaused||v._tickAndRepeat()},function(w){v.error(w)})}f.inherits(s,u),s.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,v=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,v);break;case"uint8array":h=this.data.subarray(this.index,v);break;case"array":case"nodebuffer":h=this.data.slice(this.index,v)}return this.index=v,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},D.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(b,D,_){"use strict";function f(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,s){return this._listeners[u].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,s){if(this._listeners[u])for(var h=0;h<this._listeners[u].length;h++)this._listeners[u][h].call(this,s)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var s=this;return u.on("data",function(h){s.processChunk(h)}),u.on("end",function(){s.end()}),u.on("error",function(h){s.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,s){return this.extraStreamInfo[u]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},D.exports=f},{}],29:[function(b,D,_){"use strict";var f=b("../utils"),u=b("./ConvertWorker"),s=b("./GenericWorker"),h=b("../base64"),v=b("../support"),w=b("../external"),c=null;if(v.nodestream)try{c=b("../nodejs/NodejsStreamOutputAdapter")}catch{}function i(p,a,n){var r=a;switch(a){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=a,this._mimeType=n,f.checkSupport(r),this._worker=p.pipe(new u(r)),p.lock()}catch(o){this._worker=new s("error"),this._worker.error(o)}}i.prototype={accumulate:function(p){return function l(p,a){return new w.Promise(function(n,r){var o=[],g=p._internalType,k=p._outputType,x=p._mimeType;p.on("data",function(j,B){o.push(j),a&&a(B)}).on("error",function(j){o=[],r(j)}).on("end",function(){try{var j=function(B,W,R){switch(B){case"blob":return f.newBlob(f.transformTo("arraybuffer",W),R);case"base64":return h.encode(W);default:return f.transformTo(B,W)}}(k,function(B,W){var R,G=0,J=null,y=0;for(R=0;R<W.length;R++)y+=W[R].length;switch(B){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(J=new Uint8Array(y),R=0;R<W.length;R++)J.set(W[R],G),G+=W[R].length;return J;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+B+"'")}}(g,o),x);n(j)}catch(B){r(B)}o=[]}).resume()})}(this,p)},on:function(p,a){var n=this;return this._worker.on(p,"data"===p?function(r){a.call(n,r.data,r.meta)}:function(){f.delay(a,arguments,n)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(f.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},p)}},D.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(b,D,_){"use strict";if(_.base64=!0,_.array=!0,_.string=!0,_.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",_.nodebuffer=typeof Buffer<"u",_.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")_.blob=!1;else{var f=new ArrayBuffer(0);try{_.blob=0===new Blob([f],{type:"application/zip"}).size}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(f),_.blob=0===u.getBlob("application/zip").size}catch{_.blob=!1}}}try{_.nodestream=!!b("readable-stream").Readable}catch{_.nodestream=!1}},{"readable-stream":16}],31:[function(b,D,_){"use strict";for(var f=b("./utils"),u=b("./support"),s=b("./nodejsUtils"),h=b("./stream/GenericWorker"),v=new Array(256),w=0;w<256;w++)v[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;function c(){h.call(this,"utf-8 decode"),this.leftOver=null}function l(){h.call(this,"utf-8 encode")}v[254]=v[254]=1,_.utf8encode=function(i){return u.nodebuffer?s.newBufferFrom(i,"utf-8"):function(p){var a,n,r,o,g,k=p.length,x=0;for(o=0;o<k;o++)55296==(64512&(n=p.charCodeAt(o)))&&o+1<k&&56320==(64512&(r=p.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),x+=n<128?1:n<2048?2:n<65536?3:4;for(a=u.uint8array?new Uint8Array(x):new Array(x),o=g=0;g<x;o++)55296==(64512&(n=p.charCodeAt(o)))&&o+1<k&&56320==(64512&(r=p.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?a[g++]=n:(n<2048?a[g++]=192|n>>>6:(n<65536?a[g++]=224|n>>>12:(a[g++]=240|n>>>18,a[g++]=128|n>>>12&63),a[g++]=128|n>>>6&63),a[g++]=128|63&n);return a}(i)},_.utf8decode=function(i){return u.nodebuffer?f.transformTo("nodebuffer",i).toString("utf-8"):function(p){var a,n,r,o,g=p.length,k=new Array(2*g);for(a=n=0;a<g;)if((r=p[a++])<128)k[n++]=r;else if(4<(o=v[r]))k[n++]=65533,a+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&a<g;)r=r<<6|63&p[a++],o--;1<o?k[n++]=65533:r<65536?k[n++]=r:(k[n++]=55296|(r-=65536)>>10&1023,k[n++]=56320|1023&r)}return k.length!==n&&(k.subarray?k=k.subarray(0,n):k.length=n),f.applyFromCharCode(k)}(i=f.transformTo(u.uint8array?"uint8array":"array",i))},f.inherits(c,h),c.prototype.processChunk=function(i){var p=f.transformTo(u.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var a=p;(p=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),p.set(a,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var n=function(o,g){var k;for((g=g||o.length)>o.length&&(g=o.length),k=g-1;0<=k&&128==(192&o[k]);)k--;return k<0||0===k?g:k+v[o[k]]>g?k:g}(p),r=p;n!==p.length&&(u.uint8array?(r=p.subarray(0,n),this.leftOver=p.subarray(n,p.length)):(r=p.slice(0,n),this.leftOver=p.slice(n,p.length))),this.push({data:_.utf8decode(r),meta:i.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:_.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},_.Utf8DecodeWorker=c,f.inherits(l,h),l.prototype.processChunk=function(i){this.push({data:_.utf8encode(i.data),meta:i.meta})},_.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(b,D,_){"use strict";var f=b("./support"),u=b("./base64"),s=b("./nodejsUtils"),h=b("./external");function v(a){return a}function w(a,n){for(var r=0;r<a.length;++r)n[r]=255&a.charCodeAt(r);return n}b("setimmediate"),_.newBlob=function(a,n){_.checkSupport("blob");try{return new Blob([a],{type:n})}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(a),r.getBlob(n)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(a,n,r){var o=[],g=0,k=a.length;if(k<=r)return String.fromCharCode.apply(null,a);for(;g<k;)o.push(String.fromCharCode.apply(null,"array"===n||"nodebuffer"===n?a.slice(g,Math.min(g+r,k)):a.subarray(g,Math.min(g+r,k)))),g+=r;return o.join("")},stringifyByChar:function(a){for(var n="",r=0;r<a.length;r++)n+=String.fromCharCode(a[r]);return n},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch{return!1}}()}};function l(a){var n=65536,r=_.getTypeOf(a),o=!0;if("uint8array"===r?o=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(o=c.applyCanBeUsed.nodebuffer),o)for(;1<n;)try{return c.stringifyByChunk(a,r,n)}catch{n=Math.floor(n/2)}return c.stringifyByChar(a)}function i(a,n){for(var r=0;r<a.length;r++)n[r]=a[r];return n}_.applyFromCharCode=l;var p={};p.string={string:v,array:function(a){return w(a,new Array(a.length))},arraybuffer:function(a){return p.string.uint8array(a).buffer},uint8array:function(a){return w(a,new Uint8Array(a.length))},nodebuffer:function(a){return w(a,s.allocBuffer(a.length))}},p.array={string:l,array:v,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return s.newBufferFrom(a)}},p.arraybuffer={string:function(a){return l(new Uint8Array(a))},array:function(a){return i(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:v,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return s.newBufferFrom(new Uint8Array(a))}},p.uint8array={string:l,array:function(a){return i(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:v,nodebuffer:function(a){return s.newBufferFrom(a)}},p.nodebuffer={string:l,array:function(a){return i(a,new Array(a.length))},arraybuffer:function(a){return p.nodebuffer.uint8array(a).buffer},uint8array:function(a){return i(a,new Uint8Array(a.length))},nodebuffer:v},_.transformTo=function(a,n){if(n=n||"",!a)return n;_.checkSupport(a);var r=_.getTypeOf(n);return p[r][a](n)},_.resolve=function(a){for(var n=a.split("/"),r=[],o=0;o<n.length;o++){var g=n[o];"."===g||""===g&&0!==o&&o!==n.length-1||(".."===g?r.pop():r.push(g))}return r.join("/")},_.getTypeOf=function(a){return"string"==typeof a?"string":"[object Array]"===Object.prototype.toString.call(a)?"array":f.nodebuffer&&s.isBuffer(a)?"nodebuffer":f.uint8array&&a instanceof Uint8Array?"uint8array":f.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},_.checkSupport=function(a){if(!f[a.toLowerCase()])throw new Error(a+" is not supported by this platform")},_.MAX_VALUE_16BITS=65535,_.MAX_VALUE_32BITS=-1,_.pretty=function(a){var n,r,o="";for(r=0;r<(a||"").length;r++)o+="\\x"+((n=a.charCodeAt(r))<16?"0":"")+n.toString(16).toUpperCase();return o},_.delay=function(a,n,r){setImmediate(function(){a.apply(r||null,n||[])})},_.inherits=function(a,n){function r(){}r.prototype=n.prototype,a.prototype=new r},_.extend=function(){var a,n,r={};for(a=0;a<arguments.length;a++)for(n in arguments[a])Object.prototype.hasOwnProperty.call(arguments[a],n)&&void 0===r[n]&&(r[n]=arguments[a][n]);return r},_.prepareContent=function(a,n,r,o,g){return h.Promise.resolve(n).then(function(k){return f.blob&&(k instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k)))&&typeof FileReader<"u"?new h.Promise(function(x,j){var B=new FileReader;B.onload=function(W){x(W.target.result)},B.onerror=function(W){j(W.target.error)},B.readAsArrayBuffer(k)}):k}).then(function(k){var j,x=_.getTypeOf(k);return x?("arraybuffer"===x?k=_.transformTo("uint8array",k):"string"===x&&(g?k=u.decode(k):r&&!0!==o&&(k=w(j=k,f.uint8array?new Uint8Array(j.length):new Array(j.length)))),k):h.Promise.reject(new Error("Can't read the data of '"+a+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(b,D,_){"use strict";var f=b("./reader/readerFor"),u=b("./utils"),s=b("./signature"),h=b("./zipEntry"),v=b("./support");function w(c){this.files=[],this.loadOptions=c}w.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var l=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(l)+", expected "+u.pretty(c)+")")}},isSignature:function(c,l){var i=this.reader.index;this.reader.setIndex(c);var p=this.reader.readString(4)===l;return this.reader.setIndex(i),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),i=u.transformTo(v.uint8array?"uint8array":"array",c);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,l,i,p=this.zip64EndOfCentralSize-44;0<p;)c=this.reader.readInt(2),l=this.reader.readInt(4),i=this.reader.readData(l),this.zip64ExtensibleData[c]={id:c,length:l,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,l;for(c=0;c<this.files.length;c++)this.reader.setIndex((l=this.files[c]).localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),l.readLocalPart(this.reader),l.handleUTF8(),l.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(c=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var l=c;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var p=l-i;if(0<p)this.isSignature(l,s.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(c){this.reader=f(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},D.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(b,D,_){"use strict";var f=b("./reader/readerFor"),u=b("./utils"),s=b("./compressedObject"),h=b("./crc32"),v=b("./utf8"),w=b("./compressions"),c=b("./support");function l(i,p){this.options=i,this.loadOptions=p}l.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(i){var p,a;if(i.skip(22),this.fileNameLength=i.readInt(2),a=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(a),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(p=function(n){for(var r in w)if(Object.prototype.hasOwnProperty.call(w,r)&&w[r].magic===n)return w[r];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,p,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var p=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(p),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==i&&(this.dosPermissions=63&this.externalFileAttributes),3==i&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var i=f(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(i){var p,a,n,r=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<r;)p=i.readInt(2),a=i.readInt(2),n=i.readData(a),this.extraFields[p]={id:p,length:a,value:n};i.setIndex(r)},handleUTF8:function(){var i=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=v.utf8decode(this.fileName),this.fileCommentStr=v.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(null!==p)this.fileNameStr=p;else{var a=u.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(a)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var r=u.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var p=f(i.value);return 1!==p.readInt(1)||h(this.fileName)!==p.readInt(4)?null:v.utf8decode(p.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var p=f(i.value);return 1!==p.readInt(1)||h(this.fileComment)!==p.readInt(4)?null:v.utf8decode(p.readData(i.length-5))}return null}},D.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(b,D,_){"use strict";function f(p,a,n){this.name=p,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=a,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var u=b("./stream/StreamHelper"),s=b("./stream/DataWorker"),h=b("./utf8"),v=b("./compressedObject"),w=b("./stream/GenericWorker");f.prototype={internalStream:function(p){var a=null,n="string";try{if(!p)throw new Error("No output type specified.");var r="string"===(n=p.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),a=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(a=a.pipe(new h.Utf8EncodeWorker)),!o&&r&&(a=a.pipe(new h.Utf8DecodeWorker))}catch(g){(a=new w("error")).error(g)}return new u(a,n,"")},async:function(p,a){return this.internalStream(p).accumulate(a)},nodeStream:function(p,a){return this.internalStream(p||"nodebuffer").toNodejsStream(a)},_compressWorker:function(p,a){if(this._data instanceof v&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new h.Utf8EncodeWorker)),v.createWorkerFrom(n,p,a)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof w?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<c.length;i++)f.prototype[c[i]]=l;D.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(b,D,_){(function(f){"use strict";var u,s,h=f.MutationObserver||f.WebKitMutationObserver;if(h){var v=0,w=new h(p),c=f.document.createTextNode("");w.observe(c,{characterData:!0}),u=function(){c.data=v=++v%2}}else if(f.setImmediate||void 0===f.MessageChannel)u="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var a=f.document.createElement("script");a.onreadystatechange=function(){p(),a.onreadystatechange=null,a.parentNode.removeChild(a),a=null},f.document.documentElement.appendChild(a)}:function(){setTimeout(p,0)};else{var l=new f.MessageChannel;l.port1.onmessage=p,u=function(){l.port2.postMessage(0)}}var i=[];function p(){var a,n;s=!0;for(var r=i.length;r;){for(n=i,i=[],a=-1;++a<r;)n[a]();r=i.length}s=!1}D.exports=function(a){1!==i.push(a)||s||u()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(b,D,_){"use strict";var f=b("immediate");function u(){}var s={},h=["REJECTED"],v=["FULFILLED"],w=["PENDING"];function c(r){if("function"!=typeof r)throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,r!==u&&a(this,r)}function l(r,o,g){this.promise=r,"function"==typeof o&&(this.onFulfilled=o,this.callFulfilled=this.otherCallFulfilled),"function"==typeof g&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function i(r,o,g){f(function(){var k;try{k=o(g)}catch(x){return s.reject(r,x)}k===r?s.reject(r,new TypeError("Cannot resolve promise with itself")):s.resolve(r,k)})}function p(r){var o=r&&r.then;if(r&&("object"==typeof r||"function"==typeof r)&&"function"==typeof o)return function(){o.apply(r,arguments)}}function a(r,o){var g=!1;function k(B){g||(g=!0,s.reject(r,B))}function x(B){g||(g=!0,s.resolve(r,B))}var j=n(function(){o(x,k)});"error"===j.status&&k(j.value)}function n(r,o){var g={};try{g.value=r(o),g.status="success"}catch(k){g.status="error",g.value=k}return g}(D.exports=c).prototype.finally=function(r){if("function"!=typeof r)return this;var o=this.constructor;return this.then(function(g){return o.resolve(r()).then(function(){return g})},function(g){return o.resolve(r()).then(function(){throw g})})},c.prototype.catch=function(r){return this.then(null,r)},c.prototype.then=function(r,o){if("function"!=typeof r&&this.state===v||"function"!=typeof o&&this.state===h)return this;var g=new this.constructor(u);return this.state!==w?i(g,this.state===v?r:o,this.outcome):this.queue.push(new l(g,r,o)),g},l.prototype.callFulfilled=function(r){s.resolve(this.promise,r)},l.prototype.otherCallFulfilled=function(r){i(this.promise,this.onFulfilled,r)},l.prototype.callRejected=function(r){s.reject(this.promise,r)},l.prototype.otherCallRejected=function(r){i(this.promise,this.onRejected,r)},s.resolve=function(r,o){var g=n(p,o);if("error"===g.status)return s.reject(r,g.value);var k=g.value;if(k)a(r,k);else{r.state=v,r.outcome=o;for(var x=-1,j=r.queue.length;++x<j;)r.queue[x].callFulfilled(o)}return r},s.reject=function(r,o){r.state=h,r.outcome=o;for(var g=-1,k=r.queue.length;++g<k;)r.queue[g].callRejected(o);return r},c.resolve=function(r){return r instanceof this?r:s.resolve(new this(u),r)},c.reject=function(r){var o=new this(u);return s.reject(o,r)},c.all=function(r){var o=this;if("[object Array]"!==Object.prototype.toString.call(r))return this.reject(new TypeError("must be an array"));var g=r.length,k=!1;if(!g)return this.resolve([]);for(var x=new Array(g),j=0,B=-1,W=new this(u);++B<g;)R(r[B],B);return W;function R(G,J){o.resolve(G).then(function(y){x[J]=y,++j!==g||k||(k=!0,s.resolve(W,x))},function(y){k||(k=!0,s.reject(W,y))})}},c.race=function(r){if("[object Array]"!==Object.prototype.toString.call(r))return this.reject(new TypeError("must be an array"));var g=r.length,k=!1;if(!g)return this.resolve([]);for(var x=-1,j=new this(u);++x<g;)this.resolve(r[x]).then(function(W){k||(k=!0,s.resolve(j,W))},function(W){k||(k=!0,s.reject(j,W))});return j}},{immediate:36}],38:[function(b,D,_){"use strict";var f={};(0,b("./lib/utils/common").assign)(f,b("./lib/deflate"),b("./lib/inflate"),b("./lib/zlib/constants")),D.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(b,D,_){"use strict";var f=b("./zlib/deflate"),u=b("./utils/common"),s=b("./utils/strings"),h=b("./zlib/messages"),v=b("./zlib/zstream"),w=Object.prototype.toString,c=0,l=-1,i=0,p=8;function a(r){if(!(this instanceof a))return new a(r);this.options=u.assign({level:l,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},r||{});var o=this.options;o.raw&&0<o.windowBits?o.windowBits=-o.windowBits:o.gzip&&0<o.windowBits&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var g=f.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(g!==c)throw new Error(h[g]);if(o.header&&f.deflateSetHeader(this.strm,o.header),o.dictionary){var k;if(k="string"==typeof o.dictionary?s.string2buf(o.dictionary):"[object ArrayBuffer]"===w.call(o.dictionary)?new Uint8Array(o.dictionary):o.dictionary,(g=f.deflateSetDictionary(this.strm,k))!==c)throw new Error(h[g]);this._dict_set=!0}}function n(r,o){var g=new a(o);if(g.push(r,!0),g.err)throw g.msg||h[g.err];return g.result}a.prototype.push=function(r,o){var g,k,x=this.strm,j=this.options.chunkSize;if(this.ended)return!1;k=o===~~o?o:!0===o?4:0,x.input="string"==typeof r?s.string2buf(r):"[object ArrayBuffer]"===w.call(r)?new Uint8Array(r):r,x.next_in=0,x.avail_in=x.input.length;do{if(0===x.avail_out&&(x.output=new u.Buf8(j),x.next_out=0,x.avail_out=j),1!==(g=f.deflate(x,k))&&g!==c)return this.onEnd(g),!(this.ended=!0);0!==x.avail_out&&(0!==x.avail_in||4!==k&&2!==k)||this.onData("string"===this.options.to?s.buf2binstring(u.shrinkBuf(x.output,x.next_out)):u.shrinkBuf(x.output,x.next_out))}while((0<x.avail_in||0===x.avail_out)&&1!==g);return 4===k?(g=f.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c):2!==k||(this.onEnd(c),!(x.avail_out=0))},a.prototype.onData=function(r){this.chunks.push(r)},a.prototype.onEnd=function(r){r===c&&(this.result="string"===this.options.to?this.chunks.join(""):u.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},_.Deflate=a,_.deflate=n,_.deflateRaw=function(r,o){return(o=o||{}).raw=!0,n(r,o)},_.gzip=function(r,o){return(o=o||{}).gzip=!0,n(r,o)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(b,D,_){"use strict";var f=b("./zlib/inflate"),u=b("./utils/common"),s=b("./utils/strings"),h=b("./zlib/constants"),v=b("./zlib/messages"),w=b("./zlib/zstream"),c=b("./zlib/gzheader"),l=Object.prototype.toString;function i(a){if(!(this instanceof i))return new i(a);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},a||{});var n=this.options;n.raw&&0<=n.windowBits&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),!(0<=n.windowBits&&n.windowBits<16)||a&&a.windowBits||(n.windowBits+=32),15<n.windowBits&&n.windowBits<48&&!(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var r=f.inflateInit2(this.strm,n.windowBits);if(r!==h.Z_OK)throw new Error(v[r]);this.header=new c,f.inflateGetHeader(this.strm,this.header)}function p(a,n){var r=new i(n);if(r.push(a,!0),r.err)throw r.msg||v[r.err];return r.result}i.prototype.push=function(a,n){var r,o,g,k,x,j,B=this.strm,W=this.options.chunkSize,R=this.options.dictionary,G=!1;if(this.ended)return!1;o=n===~~n?n:!0===n?h.Z_FINISH:h.Z_NO_FLUSH,B.input="string"==typeof a?s.binstring2buf(a):"[object ArrayBuffer]"===l.call(a)?new Uint8Array(a):a,B.next_in=0,B.avail_in=B.input.length;do{if(0===B.avail_out&&(B.output=new u.Buf8(W),B.next_out=0,B.avail_out=W),(r=f.inflate(B,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&R&&(j="string"==typeof R?s.string2buf(R):"[object ArrayBuffer]"===l.call(R)?new Uint8Array(R):R,r=f.inflateSetDictionary(this.strm,j)),r===h.Z_BUF_ERROR&&!0===G&&(r=h.Z_OK,G=!1),r!==h.Z_STREAM_END&&r!==h.Z_OK)return this.onEnd(r),!(this.ended=!0);B.next_out&&(0!==B.avail_out&&r!==h.Z_STREAM_END&&(0!==B.avail_in||o!==h.Z_FINISH&&o!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(g=s.utf8border(B.output,B.next_out),k=B.next_out-g,x=s.buf2string(B.output,g),B.next_out=k,B.avail_out=W-k,k&&u.arraySet(B.output,B.output,g,k,0),this.onData(x)):this.onData(u.shrinkBuf(B.output,B.next_out)))),0===B.avail_in&&0===B.avail_out&&(G=!0)}while((0<B.avail_in||0===B.avail_out)&&r!==h.Z_STREAM_END);return r===h.Z_STREAM_END&&(o=h.Z_FINISH),o===h.Z_FINISH?(r=f.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===h.Z_OK):o!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(B.avail_out=0))},i.prototype.onData=function(a){this.chunks.push(a)},i.prototype.onEnd=function(a){a===h.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):u.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},_.Inflate=i,_.inflate=p,_.inflateRaw=function(a,n){return(n=n||{}).raw=!0,p(a,n)},_.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(b,D,_){"use strict";var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";_.assign=function(h){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var w=v.shift();if(w){if("object"!=typeof w)throw new TypeError(w+"must be non-object");for(var c in w)w.hasOwnProperty(c)&&(h[c]=w[c])}}return h},_.shrinkBuf=function(h,v){return h.length===v?h:h.subarray?h.subarray(0,v):(h.length=v,h)};var u={arraySet:function(h,v,w,c,l){if(v.subarray&&h.subarray)h.set(v.subarray(w,w+c),l);else for(var i=0;i<c;i++)h[l+i]=v[w+i]},flattenChunks:function(h){var v,w,c,l,i,p;for(v=c=0,w=h.length;v<w;v++)c+=h[v].length;for(p=new Uint8Array(c),v=l=0,w=h.length;v<w;v++)p.set(i=h[v],l),l+=i.length;return p}},s={arraySet:function(h,v,w,c,l){for(var i=0;i<c;i++)h[l+i]=v[w+i]},flattenChunks:function(h){return[].concat.apply([],h)}};_.setTyped=function(h){h?(_.Buf8=Uint8Array,_.Buf16=Uint16Array,_.Buf32=Int32Array,_.assign(_,u)):(_.Buf8=Array,_.Buf16=Array,_.Buf32=Array,_.assign(_,s))},_.setTyped(f)},{}],42:[function(b,D,_){"use strict";var f=b("./common"),u=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var h=new f.Buf8(256),v=0;v<256;v++)h[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function w(c,l){if(l<65537&&(c.subarray&&s||!c.subarray&&u))return String.fromCharCode.apply(null,f.shrinkBuf(c,l));for(var i="",p=0;p<l;p++)i+=String.fromCharCode(c[p]);return i}h[254]=h[254]=1,_.string2buf=function(c){var l,i,p,a,n,r=c.length,o=0;for(a=0;a<r;a++)55296==(64512&(i=c.charCodeAt(a)))&&a+1<r&&56320==(64512&(p=c.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(p-56320),a++),o+=i<128?1:i<2048?2:i<65536?3:4;for(l=new f.Buf8(o),a=n=0;n<o;a++)55296==(64512&(i=c.charCodeAt(a)))&&a+1<r&&56320==(64512&(p=c.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(p-56320),a++),i<128?l[n++]=i:(i<2048?l[n++]=192|i>>>6:(i<65536?l[n++]=224|i>>>12:(l[n++]=240|i>>>18,l[n++]=128|i>>>12&63),l[n++]=128|i>>>6&63),l[n++]=128|63&i);return l},_.buf2binstring=function(c){return w(c,c.length)},_.binstring2buf=function(c){for(var l=new f.Buf8(c.length),i=0,p=l.length;i<p;i++)l[i]=c.charCodeAt(i);return l},_.buf2string=function(c,l){var i,p,a,n,r=l||c.length,o=new Array(2*r);for(i=p=0;i<r;)if((a=c[i++])<128)o[p++]=a;else if(4<(n=h[a]))o[p++]=65533,i+=n-1;else{for(a&=2===n?31:3===n?15:7;1<n&&i<r;)a=a<<6|63&c[i++],n--;1<n?o[p++]=65533:a<65536?o[p++]=a:(o[p++]=55296|(a-=65536)>>10&1023,o[p++]=56320|1023&a)}return w(o,p)},_.utf8border=function(c,l){var i;for((l=l||c.length)>c.length&&(l=c.length),i=l-1;0<=i&&128==(192&c[i]);)i--;return i<0||0===i?l:i+h[c[i]]>l?i:l}},{"./common":41}],43:[function(b,D,_){"use strict";D.exports=function(f,u,s,h){for(var v=65535&f,w=f>>>16&65535,c=0;0!==s;){for(s-=c=2e3<s?2e3:s;w=w+(v=v+u[h++]|0)|0,--c;);v%=65521,w%=65521}return v|w<<16}},{}],44:[function(b,D,_){"use strict";D.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(b,D,_){"use strict";var f=function(){for(var u,s=[],h=0;h<256;h++){u=h;for(var v=0;v<8;v++)u=1&u?3988292384^u>>>1:u>>>1;s[h]=u}return s}();D.exports=function(u,s,h,v){var w=f,c=v+h;u^=-1;for(var l=v;l<c;l++)u=u>>>8^w[255&(u^s[l])];return~u}},{}],46:[function(b,D,_){"use strict";var f,u=b("../utils/common"),s=b("./trees"),h=b("./adler32"),v=b("./crc32"),w=b("./messages"),c=0,i=0,p=-2,r=2,o=8,k=286,x=30,j=19,B=2*k+1,W=15,R=3,G=258,J=G+R+1,y=42,T=113;function rt(t,U){return t.msg=w[U],U}function Z(t){return(t<<1)-(4<t?9:0)}function Q(t){for(var U=t.length;0<=--U;)t[U]=0}function z(t){var U=t.state,O=U.pending;O>t.avail_out&&(O=t.avail_out),0!==O&&(u.arraySet(t.output,U.pending_buf,U.pending_out,O,t.next_out),t.next_out+=O,U.pending_out+=O,t.total_out+=O,t.avail_out-=O,U.pending-=O,0===U.pending&&(U.pending_out=0))}function C(t,U){s._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,U),t.block_start=t.strstart,z(t.strm)}function A(t,U){t.pending_buf[t.pending++]=U}function I(t,U){t.pending_buf[t.pending++]=U>>>8&255,t.pending_buf[t.pending++]=255&U}function P(t,U){var O,m,d=t.max_chain_length,S=t.strstart,F=t.prev_length,M=t.nice_match,E=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,K=t.window,V=t.w_mask,H=t.prev,$=t.strstart+G,st=K[S+F-1],nt=K[S+F];t.prev_length>=t.good_match&&(d>>=2),M>t.lookahead&&(M=t.lookahead);do{if(K[(O=U)+F]===nt&&K[O+F-1]===st&&K[O]===K[S]&&K[++O]===K[S+1]){S+=2,O++;do{}while(K[++S]===K[++O]&&K[++S]===K[++O]&&K[++S]===K[++O]&&K[++S]===K[++O]&&K[++S]===K[++O]&&K[++S]===K[++O]&&K[++S]===K[++O]&&K[++S]===K[++O]&&S<$);if(m=G-($-S),S=$-G,F<m){if(t.match_start=U,M<=(F=m))break;st=K[S+F-1],nt=K[S+F]}}}while((U=H[U&V])>E&&0!=--d);return F<=t.lookahead?F:t.lookahead}function tt(t){var U,O,m,d,S,F,M,E,K,V,H=t.w_size;do{if(d=t.window_size-t.lookahead-t.strstart,t.strstart>=H+(H-J)){for(u.arraySet(t.window,t.window,H,H,0),t.match_start-=H,t.strstart-=H,t.block_start-=H,U=O=t.hash_size;m=t.head[--U],t.head[U]=H<=m?m-H:0,--O;);for(U=O=H;m=t.prev[--U],t.prev[U]=H<=m?m-H:0,--O;);d+=H}if(0===t.strm.avail_in)break;if(M=t.window,E=t.strstart+t.lookahead,V=void 0,(K=d)<(V=(F=t.strm).avail_in)&&(V=K),O=0===V?0:(F.avail_in-=V,u.arraySet(M,F.input,F.next_in,V,E),1===F.state.wrap?F.adler=h(F.adler,M,V,E):2===F.state.wrap&&(F.adler=v(F.adler,M,V,E)),F.next_in+=V,F.total_in+=V,V),t.lookahead+=O,t.lookahead+t.insert>=R)for(t.ins_h=t.window[S=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[S+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[S+R-1])&t.hash_mask,t.prev[S&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=S,S++,t.insert--,!(t.lookahead+t.insert<R)););}while(t.lookahead<J&&0!==t.strm.avail_in)}function it(t,U){for(var O,m;;){if(t.lookahead<J){if(tt(t),t.lookahead<J&&U===c)return 1;if(0===t.lookahead)break}if(O=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,O=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==O&&t.strstart-O<=t.w_size-J&&(t.match_length=P(t,O)),t.match_length>=R)if(m=s._tr_tally(t,t.strstart-t.match_start,t.match_length-R),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=R){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,O=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else m=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(m&&(C(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<R-1?t.strstart:R-1,4===U?(C(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(C(t,!1),0===t.strm.avail_out)?1:2}function X(t,U){for(var O,m,d;;){if(t.lookahead<J){if(tt(t),t.lookahead<J&&U===c)return 1;if(0===t.lookahead)break}if(O=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,O=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=R-1,0!==O&&t.prev_length<t.max_lazy_match&&t.strstart-O<=t.w_size-J&&(t.match_length=P(t,O),t.match_length<=5&&(1===t.strategy||t.match_length===R&&4096<t.strstart-t.match_start)&&(t.match_length=R-1)),t.prev_length>=R&&t.match_length<=t.prev_length){for(d=t.strstart+t.lookahead-R,m=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-R),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=d&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,O=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=R-1,t.strstart++,m&&(C(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((m=s._tr_tally(t,0,t.window[t.strstart-1]))&&C(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(m=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<R-1?t.strstart:R-1,4===U?(C(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(C(t,!1),0===t.strm.avail_out)?1:2}function Y(t,U,O,m,d){this.good_length=t,this.max_lazy=U,this.nice_length=O,this.max_chain=m,this.func=d}function at(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=o,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*B),this.dyn_dtree=new u.Buf16(2*(2*x+1)),this.bl_tree=new u.Buf16(2*(2*j+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(W+1),this.heap=new u.Buf16(2*k+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*k+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function et(t){var U;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=r,(U=t.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?y:T,t.adler=2===U.wrap?0:1,U.last_flush=c,s._tr_init(U),i):rt(t,p)}function ut(t){var O,U=et(t);return U===i&&((O=t.state).window_size=2*O.w_size,Q(O.head),O.max_lazy_match=f[O.level].max_lazy,O.good_match=f[O.level].good_length,O.nice_match=f[O.level].nice_length,O.max_chain_length=f[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=R-1,O.match_available=0,O.ins_h=0),U}function ot(t,U,O,m,d,S){if(!t)return p;var F=1;if(-1===U&&(U=6),m<0?(F=0,m=-m):15<m&&(F=2,m-=16),d<1||9<d||O!==o||m<8||15<m||U<0||9<U||S<0||4<S)return rt(t,p);8===m&&(m=9);var M=new at;return(t.state=M).strm=t,M.wrap=F,M.gzhead=null,M.w_bits=m,M.w_size=1<<M.w_bits,M.w_mask=M.w_size-1,M.hash_bits=d+7,M.hash_size=1<<M.hash_bits,M.hash_mask=M.hash_size-1,M.hash_shift=~~((M.hash_bits+R-1)/R),M.window=new u.Buf8(2*M.w_size),M.head=new u.Buf16(M.hash_size),M.prev=new u.Buf16(M.w_size),M.lit_bufsize=1<<d+6,M.pending_buf_size=4*M.lit_bufsize,M.pending_buf=new u.Buf8(M.pending_buf_size),M.d_buf=1*M.lit_bufsize,M.l_buf=3*M.lit_bufsize,M.level=U,M.strategy=S,M.method=O,ut(t)}f=[new Y(0,0,0,0,function(t,U){var O=65535;for(O>t.pending_buf_size-5&&(O=t.pending_buf_size-5);;){if(t.lookahead<=1){if(tt(t),0===t.lookahead&&U===c)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var m=t.block_start+O;if((0===t.strstart||t.strstart>=m)&&(t.lookahead=t.strstart-m,t.strstart=m,C(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-J&&(C(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===U?(C(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&C(t,!1),1)}),new Y(4,4,8,4,it),new Y(4,5,16,8,it),new Y(4,6,32,32,it),new Y(4,4,16,16,X),new Y(8,16,32,32,X),new Y(8,16,128,128,X),new Y(8,32,128,256,X),new Y(32,128,258,1024,X),new Y(32,258,258,4096,X)],_.deflateInit=function(t,U){return ot(t,U,o,15,8,0)},_.deflateInit2=ot,_.deflateReset=ut,_.deflateResetKeep=et,_.deflateSetHeader=function(t,U){return t&&t.state?2!==t.state.wrap?p:(t.state.gzhead=U,i):p},_.deflate=function(t,U){var O,m,d,S;if(!t||!t.state||5<U||U<0)return t?rt(t,p):p;if(m=t.state,!t.output||!t.input&&0!==t.avail_in||666===m.status&&4!==U)return rt(t,0===t.avail_out?-5:p);if(m.strm=t,O=m.last_flush,m.last_flush=U,m.status===y)if(2===m.wrap)t.adler=0,A(m,31),A(m,139),A(m,8),m.gzhead?(A(m,(m.gzhead.text?1:0)+(m.gzhead.hcrc?2:0)+(m.gzhead.extra?4:0)+(m.gzhead.name?8:0)+(m.gzhead.comment?16:0)),A(m,255&m.gzhead.time),A(m,m.gzhead.time>>8&255),A(m,m.gzhead.time>>16&255),A(m,m.gzhead.time>>24&255),A(m,9===m.level?2:2<=m.strategy||m.level<2?4:0),A(m,255&m.gzhead.os),m.gzhead.extra&&m.gzhead.extra.length&&(A(m,255&m.gzhead.extra.length),A(m,m.gzhead.extra.length>>8&255)),m.gzhead.hcrc&&(t.adler=v(t.adler,m.pending_buf,m.pending,0)),m.gzindex=0,m.status=69):(A(m,0),A(m,0),A(m,0),A(m,0),A(m,0),A(m,9===m.level?2:2<=m.strategy||m.level<2?4:0),A(m,3),m.status=T);else{var F=o+(m.w_bits-8<<4)<<8;F|=(2<=m.strategy||m.level<2?0:m.level<6?1:6===m.level?2:3)<<6,0!==m.strstart&&(F|=32),F+=31-F%31,m.status=T,I(m,F),0!==m.strstart&&(I(m,t.adler>>>16),I(m,65535&t.adler)),t.adler=1}if(69===m.status)if(m.gzhead.extra){for(d=m.pending;m.gzindex<(65535&m.gzhead.extra.length)&&(m.pending!==m.pending_buf_size||(m.gzhead.hcrc&&m.pending>d&&(t.adler=v(t.adler,m.pending_buf,m.pending-d,d)),z(t),d=m.pending,m.pending!==m.pending_buf_size));)A(m,255&m.gzhead.extra[m.gzindex]),m.gzindex++;m.gzhead.hcrc&&m.pending>d&&(t.adler=v(t.adler,m.pending_buf,m.pending-d,d)),m.gzindex===m.gzhead.extra.length&&(m.gzindex=0,m.status=73)}else m.status=73;if(73===m.status)if(m.gzhead.name){d=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>d&&(t.adler=v(t.adler,m.pending_buf,m.pending-d,d)),z(t),d=m.pending,m.pending===m.pending_buf_size)){S=1;break}S=m.gzindex<m.gzhead.name.length?255&m.gzhead.name.charCodeAt(m.gzindex++):0,A(m,S)}while(0!==S);m.gzhead.hcrc&&m.pending>d&&(t.adler=v(t.adler,m.pending_buf,m.pending-d,d)),0===S&&(m.gzindex=0,m.status=91)}else m.status=91;if(91===m.status)if(m.gzhead.comment){d=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>d&&(t.adler=v(t.adler,m.pending_buf,m.pending-d,d)),z(t),d=m.pending,m.pending===m.pending_buf_size)){S=1;break}S=m.gzindex<m.gzhead.comment.length?255&m.gzhead.comment.charCodeAt(m.gzindex++):0,A(m,S)}while(0!==S);m.gzhead.hcrc&&m.pending>d&&(t.adler=v(t.adler,m.pending_buf,m.pending-d,d)),0===S&&(m.status=103)}else m.status=103;if(103===m.status&&(m.gzhead.hcrc?(m.pending+2>m.pending_buf_size&&z(t),m.pending+2<=m.pending_buf_size&&(A(m,255&t.adler),A(m,t.adler>>8&255),t.adler=0,m.status=T)):m.status=T),0!==m.pending){if(z(t),0===t.avail_out)return m.last_flush=-1,i}else if(0===t.avail_in&&Z(U)<=Z(O)&&4!==U)return rt(t,-5);if(666===m.status&&0!==t.avail_in)return rt(t,-5);if(0!==t.avail_in||0!==m.lookahead||U!==c&&666!==m.status){var M=2===m.strategy?function(E,K){for(var V;;){if(0===E.lookahead&&(tt(E),0===E.lookahead)){if(K===c)return 1;break}if(E.match_length=0,V=s._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,V&&(C(E,!1),0===E.strm.avail_out))return 1}return E.insert=0,4===K?(C(E,!0),0===E.strm.avail_out?3:4):E.last_lit&&(C(E,!1),0===E.strm.avail_out)?1:2}(m,U):3===m.strategy?function(E,K){for(var V,H,$,st,nt=E.window;;){if(E.lookahead<=G){if(tt(E),E.lookahead<=G&&K===c)return 1;if(0===E.lookahead)break}if(E.match_length=0,E.lookahead>=R&&0<E.strstart&&(H=nt[$=E.strstart-1])===nt[++$]&&H===nt[++$]&&H===nt[++$]){st=E.strstart+G;do{}while(H===nt[++$]&&H===nt[++$]&&H===nt[++$]&&H===nt[++$]&&H===nt[++$]&&H===nt[++$]&&H===nt[++$]&&H===nt[++$]&&$<st);E.match_length=G-(st-$),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=R?(V=s._tr_tally(E,1,E.match_length-R),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(V=s._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),V&&(C(E,!1),0===E.strm.avail_out))return 1}return E.insert=0,4===K?(C(E,!0),0===E.strm.avail_out?3:4):E.last_lit&&(C(E,!1),0===E.strm.avail_out)?1:2}(m,U):f[m.level].func(m,U);if(3!==M&&4!==M||(m.status=666),1===M||3===M)return 0===t.avail_out&&(m.last_flush=-1),i;if(2===M&&(1===U?s._tr_align(m):5!==U&&(s._tr_stored_block(m,0,0,!1),3===U&&(Q(m.head),0===m.lookahead&&(m.strstart=0,m.block_start=0,m.insert=0))),z(t),0===t.avail_out))return m.last_flush=-1,i}return 4!==U?i:m.wrap<=0?1:(2===m.wrap?(A(m,255&t.adler),A(m,t.adler>>8&255),A(m,t.adler>>16&255),A(m,t.adler>>24&255),A(m,255&t.total_in),A(m,t.total_in>>8&255),A(m,t.total_in>>16&255),A(m,t.total_in>>24&255)):(I(m,t.adler>>>16),I(m,65535&t.adler)),z(t),0<m.wrap&&(m.wrap=-m.wrap),0!==m.pending?i:1)},_.deflateEnd=function(t){var U;return t&&t.state?(U=t.state.status)!==y&&69!==U&&73!==U&&91!==U&&103!==U&&U!==T&&666!==U?rt(t,p):(t.state=null,U===T?rt(t,-3):i):p},_.deflateSetDictionary=function(t,U){var O,m,d,S,F,M,E,K,V=U.length;if(!t||!t.state||2===(S=(O=t.state).wrap)||1===S&&O.status!==y||O.lookahead)return p;for(1===S&&(t.adler=h(t.adler,U,V,0)),O.wrap=0,V>=O.w_size&&(0===S&&(Q(O.head),O.strstart=0,O.block_start=0,O.insert=0),K=new u.Buf8(O.w_size),u.arraySet(K,U,V-O.w_size,O.w_size,0),U=K,V=O.w_size),F=t.avail_in,M=t.next_in,E=t.input,t.avail_in=V,t.next_in=0,t.input=U,tt(O);O.lookahead>=R;){for(m=O.strstart,d=O.lookahead-(R-1);O.ins_h=(O.ins_h<<O.hash_shift^O.window[m+R-1])&O.hash_mask,O.prev[m&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=m,m++,--d;);O.strstart=m,O.lookahead=R-1,tt(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=R-1,O.match_available=0,t.next_in=M,t.input=E,t.avail_in=F,O.wrap=S,i},_.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(b,D,_){"use strict";D.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(b,D,_){"use strict";D.exports=function(f,u){var s,h,v,w,c,l,i,p,a,n,r,o,g,k,x,j,B,W,R,G,J,y,T,e,L;e=f.input,v=(h=f.next_in)+(f.avail_in-5),L=f.output,c=(w=f.next_out)-(u-f.avail_out),l=w+(f.avail_out-257),i=(s=f.state).dmax,p=s.wsize,a=s.whave,n=s.wnext,r=s.window,o=s.hold,g=s.bits,k=s.lencode,x=s.distcode,j=(1<<s.lenbits)-1,B=(1<<s.distbits)-1;t:do{g<15&&(o+=e[h++]<<g,o+=e[h++]<<(g+=8),g+=8),W=k[o&j];e:for(;;){if(o>>>=R=W>>>24,g-=R,0==(R=W>>>16&255))L[w++]=65535&W;else{if(!(16&R)){if(!(64&R)){W=k[(65535&W)+(o&(1<<R)-1)];continue e}if(32&R){s.mode=12;break t}f.msg="invalid literal/length code",s.mode=30;break t}G=65535&W,(R&=15)&&(g<R&&(o+=e[h++]<<g,g+=8),G+=o&(1<<R)-1,o>>>=R,g-=R),g<15&&(o+=e[h++]<<g,o+=e[h++]<<(g+=8),g+=8),W=x[o&B];r:for(;;){if(o>>>=R=W>>>24,g-=R,!(16&(R=W>>>16&255))){if(!(64&R)){W=x[(65535&W)+(o&(1<<R)-1)];continue r}f.msg="invalid distance code",s.mode=30;break t}if(J=65535&W,g<(R&=15)&&(o+=e[h++]<<g,(g+=8)<R&&(o+=e[h++]<<g,g+=8)),i<(J+=o&(1<<R)-1)){f.msg="invalid distance too far back",s.mode=30;break t}if(o>>>=R,g-=R,(R=w-c)<J){if(a<(R=J-R)&&s.sane){f.msg="invalid distance too far back",s.mode=30;break t}if(T=r,(y=0)===n){if(y+=p-R,R<G){for(G-=R;L[w++]=r[y++],--R;);y=w-J,T=L}}else if(n<R){if(y+=p+n-R,(R-=n)<G){for(G-=R;L[w++]=r[y++],--R;);if(y=0,n<G){for(G-=R=n;L[w++]=r[y++],--R;);y=w-J,T=L}}}else if(y+=n-R,R<G){for(G-=R;L[w++]=r[y++],--R;);y=w-J,T=L}for(;2<G;)L[w++]=T[y++],L[w++]=T[y++],L[w++]=T[y++],G-=3;G&&(L[w++]=T[y++],1<G&&(L[w++]=T[y++]))}else{for(y=w-J;L[w++]=L[y++],L[w++]=L[y++],L[w++]=L[y++],2<(G-=3););G&&(L[w++]=L[y++],1<G&&(L[w++]=L[y++]))}break}}break}}while(h<v&&w<l);h-=G=g>>3,o&=(1<<(g-=G<<3))-1,f.next_in=h,f.next_out=w,f.avail_in=h<v?v-h+5:5-(h-v),f.avail_out=w<l?l-w+257:257-(w-l),s.hold=o,s.bits=g}},{}],49:[function(b,D,_){"use strict";var f=b("../utils/common"),u=b("./adler32"),s=b("./crc32"),h=b("./inffast"),v=b("./inftrees"),l=0,i=-2,p=1,a=852,n=592;function r(y){return(y>>>24&255)+(y>>>8&65280)+((65280&y)<<8)+((255&y)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(y){var T;return y&&y.state?(y.total_in=y.total_out=(T=y.state).total=0,y.msg="",T.wrap&&(y.adler=1&T.wrap),T.mode=p,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new f.Buf32(a),T.distcode=T.distdyn=new f.Buf32(n),T.sane=1,T.back=-1,l):i}function k(y){var T;return y&&y.state?((T=y.state).wsize=0,T.whave=0,T.wnext=0,g(y)):i}function x(y,T){var e,L;return y&&y.state?(L=y.state,T<0?(e=0,T=-T):(e=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?i:(null!==L.window&&L.wbits!==T&&(L.window=null),L.wrap=e,L.wbits=T,k(y))):i}function j(y,T){var e,L;return y?(L=new o,(y.state=L).window=null,(e=x(y,T))!==l&&(y.state=null),e):i}var B,W,R=!0;function G(y){if(R){var T;for(B=new f.Buf32(512),W=new f.Buf32(32),T=0;T<144;)y.lens[T++]=8;for(;T<256;)y.lens[T++]=9;for(;T<280;)y.lens[T++]=7;for(;T<288;)y.lens[T++]=8;for(v(1,y.lens,0,288,B,0,y.work,{bits:9}),T=0;T<32;)y.lens[T++]=5;v(2,y.lens,0,32,W,0,y.work,{bits:5}),R=!1}y.lencode=B,y.lenbits=9,y.distcode=W,y.distbits=5}function J(y,T,e,L){var q,N=y.state;return null===N.window&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new f.Buf8(N.wsize)),L>=N.wsize?(f.arraySet(N.window,T,e-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(L<(q=N.wsize-N.wnext)&&(q=L),f.arraySet(N.window,T,e-L,q,N.wnext),(L-=q)?(f.arraySet(N.window,T,e-L,L,0),N.wnext=L,N.whave=N.wsize):(N.wnext+=q,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=q))),0}_.inflateReset=k,_.inflateReset2=x,_.inflateResetKeep=g,_.inflateInit=function(y){return j(y,15)},_.inflateInit2=j,_.inflate=function(y,T){var e,L,q,N,rt,Z,Q,z,C,A,I,P,tt,it,X,Y,at,et,ut,ot,t,U,O,m,d=0,S=new f.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!y||!y.state||!y.output||!y.input&&0!==y.avail_in)return i;12===(e=y.state).mode&&(e.mode=13),rt=y.next_out,q=y.output,N=y.next_in,L=y.input,z=e.hold,C=e.bits,A=Z=y.avail_in,I=Q=y.avail_out,U=l;t:for(;;)switch(e.mode){case p:if(0===e.wrap){e.mode=13;break}for(;C<16;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}if(2&e.wrap&&35615===z){S[e.check=0]=255&z,S[1]=z>>>8&255,e.check=s(e.check,S,2,0),C=z=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&z)<<8)+(z>>8))%31){y.msg="incorrect header check",e.mode=30;break}if(8!=(15&z)){y.msg="unknown compression method",e.mode=30;break}if(C-=4,t=8+(15&(z>>>=4)),0===e.wbits)e.wbits=t;else if(t>e.wbits){y.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,y.adler=e.check=1,e.mode=512&z?10:12,C=z=0;break;case 2:for(;C<16;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}if(e.flags=z,8!=(255&e.flags)){y.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){y.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=z>>8&1),512&e.flags&&(S[0]=255&z,S[1]=z>>>8&255,e.check=s(e.check,S,2,0)),C=z=0,e.mode=3;case 3:for(;C<32;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}e.head&&(e.head.time=z),512&e.flags&&(S[0]=255&z,S[1]=z>>>8&255,S[2]=z>>>16&255,S[3]=z>>>24&255,e.check=s(e.check,S,4,0)),C=z=0,e.mode=4;case 4:for(;C<16;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}e.head&&(e.head.xflags=255&z,e.head.os=z>>8),512&e.flags&&(S[0]=255&z,S[1]=z>>>8&255,e.check=s(e.check,S,2,0)),C=z=0,e.mode=5;case 5:if(1024&e.flags){for(;C<16;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}e.length=z,e.head&&(e.head.extra_len=z),512&e.flags&&(S[0]=255&z,S[1]=z>>>8&255,e.check=s(e.check,S,2,0)),C=z=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(Z<(P=e.length)&&(P=Z),P&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),f.arraySet(e.head.extra,L,N,P,t)),512&e.flags&&(e.check=s(e.check,L,P,N)),Z-=P,N+=P,e.length-=P),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(0===Z)break t;for(P=0;t=L[N+P++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&P<Z;);if(512&e.flags&&(e.check=s(e.check,L,P,N)),Z-=P,N+=P,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(0===Z)break t;for(P=0;t=L[N+P++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&P<Z;);if(512&e.flags&&(e.check=s(e.check,L,P,N)),Z-=P,N+=P,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;C<16;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}if(z!==(65535&e.check)){y.msg="header crc mismatch",e.mode=30;break}C=z=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),y.adler=e.check=0,e.mode=12;break;case 10:for(;C<32;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}y.adler=e.check=r(z),C=z=0,e.mode=11;case 11:if(0===e.havedict)return y.next_out=rt,y.avail_out=Q,y.next_in=N,y.avail_in=Z,e.hold=z,e.bits=C,2;y.adler=e.check=1,e.mode=12;case 12:if(5===T||6===T)break t;case 13:if(e.last){z>>>=7&C,C-=7&C,e.mode=27;break}for(;C<3;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}switch(e.last=1&z,C-=1,3&(z>>>=1)){case 0:e.mode=14;break;case 1:if(G(e),e.mode=20,6!==T)break;z>>>=2,C-=2;break t;case 2:e.mode=17;break;case 3:y.msg="invalid block type",e.mode=30}z>>>=2,C-=2;break;case 14:for(z>>>=7&C,C-=7&C;C<32;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}if((65535&z)!=(z>>>16^65535)){y.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&z,C=z=0,e.mode=15,6===T)break t;case 15:e.mode=16;case 16:if(P=e.length){if(Z<P&&(P=Z),Q<P&&(P=Q),0===P)break t;f.arraySet(q,L,N,P,rt),Z-=P,N+=P,Q-=P,rt+=P,e.length-=P;break}e.mode=12;break;case 17:for(;C<14;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}if(e.nlen=257+(31&z),C-=5,e.ndist=1+(31&(z>>>=5)),C-=5,e.ncode=4+(15&(z>>>=5)),z>>>=4,C-=4,286<e.nlen||30<e.ndist){y.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;C<3;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}e.lens[F[e.have++]]=7&z,z>>>=3,C-=3}for(;e.have<19;)e.lens[F[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,U=v(0,e.lens,0,19,e.lencode,0,e.work,O={bits:e.lenbits}),e.lenbits=O.bits,U){y.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;Y=(d=e.lencode[z&(1<<e.lenbits)-1])>>>16&255,at=65535&d,!((X=d>>>24)<=C);){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}if(at<16)z>>>=X,C-=X,e.lens[e.have++]=at;else{if(16===at){for(m=X+2;C<m;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}if(z>>>=X,C-=X,0===e.have){y.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],P=3+(3&z),z>>>=2,C-=2}else if(17===at){for(m=X+3;C<m;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}C-=X,t=0,P=3+(7&(z>>>=X)),z>>>=3,C-=3}else{for(m=X+7;C<m;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}C-=X,t=0,P=11+(127&(z>>>=X)),z>>>=7,C-=7}if(e.have+P>e.nlen+e.ndist){y.msg="invalid bit length repeat",e.mode=30;break}for(;P--;)e.lens[e.have++]=t}}if(30===e.mode)break;if(0===e.lens[256]){y.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,U=v(1,e.lens,0,e.nlen,e.lencode,0,e.work,O={bits:e.lenbits}),e.lenbits=O.bits,U){y.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,U=v(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,O={bits:e.distbits}),e.distbits=O.bits,U){y.msg="invalid distances set",e.mode=30;break}if(e.mode=20,6===T)break t;case 20:e.mode=21;case 21:if(6<=Z&&258<=Q){y.next_out=rt,y.avail_out=Q,y.next_in=N,y.avail_in=Z,e.hold=z,e.bits=C,h(y,I),rt=y.next_out,q=y.output,Q=y.avail_out,N=y.next_in,L=y.input,Z=y.avail_in,z=e.hold,C=e.bits,12===e.mode&&(e.back=-1);break}for(e.back=0;Y=(d=e.lencode[z&(1<<e.lenbits)-1])>>>16&255,at=65535&d,!((X=d>>>24)<=C);){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}if(Y&&!(240&Y)){for(et=X,ut=Y,ot=at;Y=(d=e.lencode[ot+((z&(1<<et+ut)-1)>>et)])>>>16&255,at=65535&d,!(et+(X=d>>>24)<=C);){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}z>>>=et,C-=et,e.back+=et}if(z>>>=X,C-=X,e.back+=X,e.length=at,0===Y){e.mode=26;break}if(32&Y){e.back=-1,e.mode=12;break}if(64&Y){y.msg="invalid literal/length code",e.mode=30;break}e.extra=15&Y,e.mode=22;case 22:if(e.extra){for(m=e.extra;C<m;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}e.length+=z&(1<<e.extra)-1,z>>>=e.extra,C-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;Y=(d=e.distcode[z&(1<<e.distbits)-1])>>>16&255,at=65535&d,!((X=d>>>24)<=C);){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}if(!(240&Y)){for(et=X,ut=Y,ot=at;Y=(d=e.distcode[ot+((z&(1<<et+ut)-1)>>et)])>>>16&255,at=65535&d,!(et+(X=d>>>24)<=C);){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}z>>>=et,C-=et,e.back+=et}if(z>>>=X,C-=X,e.back+=X,64&Y){y.msg="invalid distance code",e.mode=30;break}e.offset=at,e.extra=15&Y,e.mode=24;case 24:if(e.extra){for(m=e.extra;C<m;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}e.offset+=z&(1<<e.extra)-1,z>>>=e.extra,C-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){y.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(0===Q)break t;if(e.offset>(P=I-Q)){if((P=e.offset-P)>e.whave&&e.sane){y.msg="invalid distance too far back",e.mode=30;break}tt=P>e.wnext?e.wsize-(P-=e.wnext):e.wnext-P,P>e.length&&(P=e.length),it=e.window}else it=q,tt=rt-e.offset,P=e.length;for(Q<P&&(P=Q),Q-=P,e.length-=P;q[rt++]=it[tt++],--P;);0===e.length&&(e.mode=21);break;case 26:if(0===Q)break t;q[rt++]=e.length,Q--,e.mode=21;break;case 27:if(e.wrap){for(;C<32;){if(0===Z)break t;Z--,z|=L[N++]<<C,C+=8}if(y.total_out+=I-=Q,e.total+=I,I&&(y.adler=e.check=e.flags?s(e.check,q,I,rt-I):u(e.check,q,I,rt-I)),I=Q,(e.flags?z:r(z))!==e.check){y.msg="incorrect data check",e.mode=30;break}C=z=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;C<32;){if(0===Z)break t;Z--,z+=L[N++]<<C,C+=8}if(z!==(4294967295&e.total)){y.msg="incorrect length check",e.mode=30;break}C=z=0}e.mode=29;case 29:U=1;break t;case 30:U=-3;break t;case 31:return-4;default:return i}return y.next_out=rt,y.avail_out=Q,y.next_in=N,y.avail_in=Z,e.hold=z,e.bits=C,(e.wsize||I!==y.avail_out&&e.mode<30&&(e.mode<27||4!==T))&&J(y,y.output,y.next_out,I-y.avail_out)?(e.mode=31,-4):(I-=y.avail_out,y.total_in+=A-=y.avail_in,y.total_out+=I,e.total+=I,e.wrap&&I&&(y.adler=e.check=e.flags?s(e.check,q,I,y.next_out-I):u(e.check,q,I,y.next_out-I)),y.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0==A&&0===I||4===T)&&U===l&&(U=-5),U)},_.inflateEnd=function(y){if(!y||!y.state)return i;var T=y.state;return T.window&&(T.window=null),y.state=null,l},_.inflateGetHeader=function(y,T){var e;return y&&y.state&&2&(e=y.state).wrap?((e.head=T).done=!1,l):i},_.inflateSetDictionary=function(y,T){var e,L=T.length;return y&&y.state?0!==(e=y.state).wrap&&11!==e.mode?i:11===e.mode&&u(1,T,L,0)!==e.check?-3:J(y,T,L,L)?(e.mode=31,-4):(e.havedict=1,l):i},_.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(b,D,_){"use strict";var f=b("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];D.exports=function(w,c,l,i,p,a,n,r){var o,g,k,x,j,B,W,R,G,J=r.bits,y=0,T=0,e=0,L=0,q=0,N=0,rt=0,Z=0,Q=0,z=0,C=null,A=0,I=new f.Buf16(16),P=new f.Buf16(16),tt=null,it=0;for(y=0;y<=15;y++)I[y]=0;for(T=0;T<i;T++)I[c[l+T]]++;for(q=J,L=15;1<=L&&0===I[L];L--);if(L<q&&(q=L),0===L)return p[a++]=20971520,p[a++]=20971520,r.bits=1,0;for(e=1;e<L&&0===I[e];e++);for(q<e&&(q=e),y=Z=1;y<=15;y++)if(Z<<=1,(Z-=I[y])<0)return-1;if(0<Z&&(0===w||1!==L))return-1;for(P[1]=0,y=1;y<15;y++)P[y+1]=P[y]+I[y];for(T=0;T<i;T++)0!==c[l+T]&&(n[P[c[l+T]]++]=T);if(B=0===w?(C=tt=n,19):1===w?(C=u,A-=257,tt=s,it-=257,256):(C=h,tt=v,-1),y=e,j=a,rt=T=z=0,k=-1,x=(Q=1<<(N=q))-1,1===w&&852<Q||2===w&&592<Q)return 1;for(;;){for(W=y-rt,G=n[T]<B?(R=0,n[T]):n[T]>B?(R=tt[it+n[T]],C[A+n[T]]):(R=96,0),o=1<<y-rt,e=g=1<<N;p[j+(z>>rt)+(g-=o)]=W<<24|R<<16|G,0!==g;);for(o=1<<y-1;z&o;)o>>=1;if(0!==o?(z&=o-1,z+=o):z=0,T++,0==--I[y]){if(y===L)break;y=c[l+n[T]]}if(q<y&&(z&x)!==k){for(0===rt&&(rt=q),j+=e,Z=1<<(N=y-rt);N+rt<L&&!((Z-=I[N+rt])<=0);)N++,Z<<=1;if(Q+=1<<N,1===w&&852<Q||2===w&&592<Q)return 1;p[k=z&x]=q<<24|N<<16|j-a}}return 0!==z&&(p[j+z]=y-rt<<24|64<<16),r.bits=q,0}},{"../utils/common":41}],51:[function(b,D,_){"use strict";D.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(b,D,_){"use strict";var f=b("../utils/common");function h(d){for(var S=d.length;0<=--S;)d[S]=0}var c=256,l=286,i=30,n=15,r=16,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(576);h(J);var y=new Array(60);h(y);var T=new Array(512);h(T);var e=new Array(256);h(e);var L=new Array(29);h(L);var q,N,rt,Z=new Array(i);function Q(d,S,F,M,E){this.static_tree=d,this.extra_bits=S,this.extra_base=F,this.elems=M,this.max_length=E,this.has_stree=d&&d.length}function z(d,S){this.dyn_tree=d,this.max_code=0,this.stat_desc=S}function C(d){return d<256?T[d]:T[256+(d>>>7)]}function A(d,S){d.pending_buf[d.pending++]=255&S,d.pending_buf[d.pending++]=S>>>8&255}function I(d,S,F){d.bi_valid>r-F?(d.bi_buf|=S<<d.bi_valid&65535,A(d,d.bi_buf),d.bi_buf=S>>r-d.bi_valid,d.bi_valid+=F-r):(d.bi_buf|=S<<d.bi_valid&65535,d.bi_valid+=F)}function P(d,S,F){I(d,F[2*S],F[2*S+1])}function tt(d,S){for(var F=0;F|=1&d,d>>>=1,F<<=1,0<--S;);return F>>>1}function it(d,S,F){var M,E,K=new Array(n+1),V=0;for(M=1;M<=n;M++)K[M]=V=V+F[M-1]<<1;for(E=0;E<=S;E++){var H=d[2*E+1];0!==H&&(d[2*E]=tt(K[H]++,H))}}function X(d){var S;for(S=0;S<l;S++)d.dyn_ltree[2*S]=0;for(S=0;S<i;S++)d.dyn_dtree[2*S]=0;for(S=0;S<19;S++)d.bl_tree[2*S]=0;d.dyn_ltree[512]=1,d.opt_len=d.static_len=0,d.last_lit=d.matches=0}function Y(d){8<d.bi_valid?A(d,d.bi_buf):0<d.bi_valid&&(d.pending_buf[d.pending++]=d.bi_buf),d.bi_buf=0,d.bi_valid=0}function at(d,S,F,M){var E=2*S,K=2*F;return d[E]<d[K]||d[E]===d[K]&&M[S]<=M[F]}function et(d,S,F){for(var M=d.heap[F],E=F<<1;E<=d.heap_len&&(E<d.heap_len&&at(S,d.heap[E+1],d.heap[E],d.depth)&&E++,!at(S,M,d.heap[E],d.depth));)d.heap[F]=d.heap[E],F=E,E<<=1;d.heap[F]=M}function ut(d,S,F){var M,E,K,V,H=0;if(0!==d.last_lit)for(;M=d.pending_buf[d.d_buf+2*H]<<8|d.pending_buf[d.d_buf+2*H+1],E=d.pending_buf[d.l_buf+H],H++,0===M?P(d,E,S):(P(d,(K=e[E])+c+1,S),0!==(V=B[K])&&I(d,E-=L[K],V),P(d,K=C(--M),F),0!==(V=W[K])&&I(d,M-=Z[K],V)),H<d.last_lit;);P(d,256,S)}function ot(d,S){var F,M,E,K=S.dyn_tree,V=S.stat_desc.static_tree,H=S.stat_desc.has_stree,$=S.stat_desc.elems,st=-1;for(d.heap_len=0,d.heap_max=573,F=0;F<$;F++)0!==K[2*F]?(d.heap[++d.heap_len]=st=F,d.depth[F]=0):K[2*F+1]=0;for(;d.heap_len<2;)K[2*(E=d.heap[++d.heap_len]=st<2?++st:0)]=1,d.depth[E]=0,d.opt_len--,H&&(d.static_len-=V[2*E+1]);for(S.max_code=st,F=d.heap_len>>1;1<=F;F--)et(d,K,F);for(E=$;F=d.heap[1],d.heap[1]=d.heap[d.heap_len--],et(d,K,1),M=d.heap[1],d.heap[--d.heap_max]=F,d.heap[--d.heap_max]=M,K[2*E]=K[2*F]+K[2*M],d.depth[E]=(d.depth[F]>=d.depth[M]?d.depth[F]:d.depth[M])+1,K[2*F+1]=K[2*M+1]=E,d.heap[1]=E++,et(d,K,1),2<=d.heap_len;);d.heap[--d.heap_max]=d.heap[1],function(nt,lt){var pt,ht,mt,ct,gt,yt,dt=lt.dyn_tree,bt=lt.max_code,kt=lt.stat_desc.static_tree,xt=lt.stat_desc.has_stree,St=lt.stat_desc.extra_bits,wt=lt.stat_desc.extra_base,_t=lt.stat_desc.max_length,vt=0;for(ct=0;ct<=n;ct++)nt.bl_count[ct]=0;for(dt[2*nt.heap[nt.heap_max]+1]=0,pt=nt.heap_max+1;pt<573;pt++)_t<(ct=dt[2*dt[2*(ht=nt.heap[pt])+1]+1]+1)&&(ct=_t,vt++),dt[2*ht+1]=ct,bt<ht||(nt.bl_count[ct]++,gt=0,wt<=ht&&(gt=St[ht-wt]),nt.opt_len+=(yt=dt[2*ht])*(ct+gt),xt&&(nt.static_len+=yt*(kt[2*ht+1]+gt)));if(0!==vt){do{for(ct=_t-1;0===nt.bl_count[ct];)ct--;nt.bl_count[ct]--,nt.bl_count[ct+1]+=2,nt.bl_count[_t]--,vt-=2}while(0<vt);for(ct=_t;0!==ct;ct--)for(ht=nt.bl_count[ct];0!==ht;)bt<(mt=nt.heap[--pt])||(dt[2*mt+1]!==ct&&(nt.opt_len+=(ct-dt[2*mt+1])*dt[2*mt],dt[2*mt+1]=ct),ht--)}}(d,S),it(K,st,d.bl_count)}function t(d,S,F){var M,E,K=-1,V=S[1],H=0,$=7,st=4;for(0===V&&($=138,st=3),S[2*(F+1)+1]=65535,M=0;M<=F;M++)E=V,V=S[2*(M+1)+1],++H<$&&E===V||(H<st?d.bl_tree[2*E]+=H:0!==E?(E!==K&&d.bl_tree[2*E]++,d.bl_tree[32]++):H<=10?d.bl_tree[34]++:d.bl_tree[36]++,K=E,st=(H=0)===V?($=138,3):E===V?($=6,3):($=7,4))}function U(d,S,F){var M,E,K=-1,V=S[1],H=0,$=7,st=4;for(0===V&&($=138,st=3),M=0;M<=F;M++)if(E=V,V=S[2*(M+1)+1],!(++H<$&&E===V)){if(H<st)for(;P(d,E,d.bl_tree),0!=--H;);else 0!==E?(E!==K&&(P(d,E,d.bl_tree),H--),P(d,16,d.bl_tree),I(d,H-3,2)):H<=10?(P(d,17,d.bl_tree),I(d,H-3,3)):(P(d,18,d.bl_tree),I(d,H-11,7));K=E,st=(H=0)===V?($=138,3):E===V?($=6,3):($=7,4)}}h(Z);var O=!1;function m(d,S,F,M){var E,K,V;I(d,0+(M?1:0),3),K=S,V=F,Y(E=d),A(E,V),A(E,~V),f.arraySet(E.pending_buf,E.window,K,V,E.pending),E.pending+=V}_._tr_init=function(d){O||(function(){var S,F,M,E,K,V=new Array(n+1);for(E=M=0;E<28;E++)for(L[E]=M,S=0;S<1<<B[E];S++)e[M++]=E;for(e[M-1]=E,E=K=0;E<16;E++)for(Z[E]=K,S=0;S<1<<W[E];S++)T[K++]=E;for(K>>=7;E<i;E++)for(Z[E]=K<<7,S=0;S<1<<W[E]-7;S++)T[256+K++]=E;for(F=0;F<=n;F++)V[F]=0;for(S=0;S<=143;)J[2*S+1]=8,S++,V[8]++;for(;S<=255;)J[2*S+1]=9,S++,V[9]++;for(;S<=279;)J[2*S+1]=7,S++,V[7]++;for(;S<=287;)J[2*S+1]=8,S++,V[8]++;for(it(J,287,V),S=0;S<i;S++)y[2*S+1]=5,y[2*S]=tt(S,5);q=new Q(J,B,257,l,n),N=new Q(y,W,0,i,n),rt=new Q(new Array(0),R,0,19,7)}(),O=!0),d.l_desc=new z(d.dyn_ltree,q),d.d_desc=new z(d.dyn_dtree,N),d.bl_desc=new z(d.bl_tree,rt),d.bi_buf=0,d.bi_valid=0,X(d)},_._tr_stored_block=m,_._tr_flush_block=function(d,S,F,M){var E,K,V=0;0<d.level?(2===d.strm.data_type&&(d.strm.data_type=function(H){var $,st=4093624447;for($=0;$<=31;$++,st>>>=1)if(1&st&&0!==H.dyn_ltree[2*$])return 0;if(0!==H.dyn_ltree[18]||0!==H.dyn_ltree[20]||0!==H.dyn_ltree[26])return 1;for($=32;$<c;$++)if(0!==H.dyn_ltree[2*$])return 1;return 0}(d)),ot(d,d.l_desc),ot(d,d.d_desc),V=function(H){var $;for(t(H,H.dyn_ltree,H.l_desc.max_code),t(H,H.dyn_dtree,H.d_desc.max_code),ot(H,H.bl_desc),$=18;3<=$&&0===H.bl_tree[2*G[$]+1];$--);return H.opt_len+=3*($+1)+5+5+4,$}(d),(K=d.static_len+3+7>>>3)<=(E=d.opt_len+3+7>>>3)&&(E=K)):E=K=F+5,F+4<=E&&-1!==S?m(d,S,F,M):4===d.strategy||K===E?(I(d,2+(M?1:0),3),ut(d,J,y)):(I(d,4+(M?1:0),3),function(H,$,st,nt){var lt;for(I(H,$-257,5),I(H,st-1,5),I(H,nt-4,4),lt=0;lt<nt;lt++)I(H,H.bl_tree[2*G[lt]+1],3);U(H,H.dyn_ltree,$-1),U(H,H.dyn_dtree,st-1)}(d,d.l_desc.max_code+1,d.d_desc.max_code+1,V+1),ut(d,d.dyn_ltree,d.dyn_dtree)),X(d),M&&Y(d)},_._tr_tally=function(d,S,F){return d.pending_buf[d.d_buf+2*d.last_lit]=S>>>8&255,d.pending_buf[d.d_buf+2*d.last_lit+1]=255&S,d.pending_buf[d.l_buf+d.last_lit]=255&F,d.last_lit++,0===S?d.dyn_ltree[2*F]++:(d.matches++,S--,d.dyn_ltree[2*(e[F]+c+1)]++,d.dyn_dtree[2*C(S)]++),d.last_lit===d.lit_bufsize-1},_._tr_align=function(d){var S;I(d,2,3),P(d,256,J),16===(S=d).bi_valid?(A(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)}},{"../utils/common":41}],53:[function(b,D,_){"use strict";D.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(b,D,_){(function(f){!function(u,s){"use strict";if(!u.setImmediate){var h,v,w,c,l=1,i={},p=!1,a=u.document,n=Object.getPrototypeOf&&Object.getPrototypeOf(u);n=n&&n.setTimeout?n:u,h="[object process]"==={}.toString.call(u.process)?function(k){process.nextTick(function(){o(k)})}:function(){if(u.postMessage&&!u.importScripts){var k=!0,x=u.onmessage;return u.onmessage=function(){k=!1},u.postMessage("","*"),u.onmessage=x,k}}()?(c="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",g,!1):u.attachEvent("onmessage",g),function(k){u.postMessage(c+k,"*")}):u.MessageChannel?((w=new MessageChannel).port1.onmessage=function(k){o(k.data)},function(k){w.port2.postMessage(k)}):a&&"onreadystatechange"in a.createElement("script")?(v=a.documentElement,function(k){var x=a.createElement("script");x.onreadystatechange=function(){o(k),x.onreadystatechange=null,v.removeChild(x),x=null},v.appendChild(x)}):function(k){setTimeout(o,0,k)},n.setImmediate=function(k){"function"!=typeof k&&(k=new Function(""+k));for(var x=new Array(arguments.length-1),j=0;j<x.length;j++)x[j]=arguments[j+1];return i[l]={callback:k,args:x},h(l),l++},n.clearImmediate=r}function r(k){delete i[k]}function o(k){if(p)setTimeout(o,0,k);else{var x=i[k];if(x){p=!0;try{!function(j){var B=j.callback,W=j.args;switch(W.length){case 0:B();break;case 1:B(W[0]);break;case 2:B(W[0],W[1]);break;case 3:B(W[0],W[1],W[2]);break;default:B.apply(s,W)}}(x)}finally{r(k),p=!1}}}}function g(k){k.source===u&&"string"==typeof k.data&&0===k.data.indexOf(c)&&o(+k.data.slice(c.length))}}(typeof self>"u"?void 0===f?this:f:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)},943:(ft,b,D)=>{"use strict";D.d(b,{P2:()=>R});var _=D(467);function f(A,I){this.v=A,this.k=I}function u(A){return new f(A,0)}function h(A){var I,P;function tt(X,Y){try{var at=A[X](Y),et=at.value,ut=et instanceof f;Promise.resolve(ut?et.v:et).then(function(ot){if(ut){var t="return"===X?"return":"next";if(!et.k||ot.done)return tt(t,ot);ot=A[t](ot).value}it(at.done?"return":"normal",ot)},function(ot){tt("throw",ot)})}catch(ot){it("throw",ot)}}function it(X,Y){switch(X){case"return":I.resolve({value:Y,done:!0});break;case"throw":I.reject(Y);break;default:I.resolve({value:Y,done:!1})}(I=I.next)?tt(I.key,I.arg):P=null}this._invoke=function(X,Y){return new Promise(function(at,et){var ut={key:X,arg:Y,resolve:at,reject:et,next:null};P?P=P.next=ut:(I=P=ut,tt(X,Y))})},"function"!=typeof A.return&&(this.return=void 0)}h.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},h.prototype.next=function(A){return this._invoke("next",A)},h.prototype.throw=function(A){return this._invoke("throw",A)},h.prototype.return=function(A){return this._invoke("return",A)};const v=(A,I)=>I.some(P=>A instanceof P);let w,c;const p=new WeakMap,a=new WeakMap,n=new WeakMap;let g={get(A,I,P){if(A instanceof IDBTransaction){if("done"===I)return p.get(A);if("store"===I)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return B(A[I])},set:(A,I,P)=>(A[I]=P,!0),has:(A,I)=>A instanceof IDBTransaction&&("done"===I||"store"===I)||I in A};function k(A){g=A(g)}function j(A){return"function"==typeof A?function x(A){return function i(){return c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(A)?function(...I){return A.apply(W(this),I),B(this.request)}:function(...I){return B(A.apply(W(this),I))}}(A):(A instanceof IDBTransaction&&function o(A){if(p.has(A))return;const I=new Promise((P,tt)=>{const it=()=>{A.removeEventListener("complete",X),A.removeEventListener("error",Y),A.removeEventListener("abort",Y)},X=()=>{P(),it()},Y=()=>{tt(A.error||new DOMException("AbortError","AbortError")),it()};A.addEventListener("complete",X),A.addEventListener("error",Y),A.addEventListener("abort",Y)});p.set(A,I)}(A),v(A,function l(){return w||(w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(A,g):A)}function B(A){if(A instanceof IDBRequest)return function r(A){const I=new Promise((P,tt)=>{const it=()=>{A.removeEventListener("success",X),A.removeEventListener("error",Y)},X=()=>{P(B(A.result)),it()},Y=()=>{tt(A.error),it()};A.addEventListener("success",X),A.addEventListener("error",Y)});return n.set(I,A),I}(A);if(a.has(A))return a.get(A);const I=j(A);return I!==A&&(a.set(A,I),n.set(I,A)),I}const W=A=>n.get(A);function R(A,I,{blocked:P,upgrade:tt,blocking:it,terminated:X}={}){const Y=indexedDB.open(A,I),at=B(Y);return tt&&Y.addEventListener("upgradeneeded",et=>{tt(B(Y.result),et.oldVersion,et.newVersion,B(Y.transaction),et)}),P&&Y.addEventListener("blocked",et=>P(et.oldVersion,et.newVersion,et)),at.then(et=>{X&&et.addEventListener("close",()=>X()),it&&et.addEventListener("versionchange",ut=>it(ut.oldVersion,ut.newVersion,ut))}).catch(()=>{}),at}const J=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],T=new Map;function e(A,I){if(!(A instanceof IDBDatabase)||I in A||"string"!=typeof I)return;if(T.get(I))return T.get(I);const P=I.replace(/FromIndex$/,""),tt=I!==P,it=y.includes(P);if(!(P in(tt?IDBIndex:IDBObjectStore).prototype)||!it&&!J.includes(P))return;const X=function(){var Y=(0,_.A)(function*(at,...et){const ut=this.transaction(at,it?"readwrite":"readonly");let ot=ut.store;return tt&&(ot=ot.index(et.shift())),(yield Promise.all([ot[P](...et),it&&ut.done]))[0]});return function(et){return Y.apply(this,arguments)}}();return T.set(I,X),X}k(A=>({...A,get:(I,P,tt)=>e(I,P)||A.get(I,P,tt),has:(I,P)=>!!e(I,P)||A.has(I,P)}));const L=["continue","continuePrimaryKey","advance"],q={},N=new WeakMap,rt=new WeakMap,Z={get(A,I){if(!L.includes(I))return A[I];let P=q[I];return P||(P=q[I]=function(...tt){N.set(this,rt.get(this)[I](...tt))}),P}};function Q(){return z.apply(this,arguments)}function z(){return z=function s(A){return function(){return new h(A.apply(this,arguments))}}(function*(...A){let I=this;if(I instanceof IDBCursor||(I=yield u(I.openCursor(...A))),!I)return;const P=new Proxy(I,Z);for(rt.set(P,I),n.set(P,W(I));I;)yield P,I=yield u(N.get(P)||I.continue()),N.delete(P)}),z.apply(this,arguments)}function C(A,I){return I===Symbol.asyncIterator&&v(A,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===I&&v(A,[IDBIndex,IDBObjectStore])}k(A=>({...A,get:(I,P,tt)=>C(I,P)?Q:A.get(I,P,tt),has:(I,P)=>C(I,P)||A.has(I,P)}))}}]);