(self.webpackChunkyv_app=self.webpackChunkyv_app||[]).push([[696],{7696:(at,M,I)=>{"use strict";I.r(M),I.d(M,{SearchComponent:()=>A});var i=I(467),S=I(1413),w=I(152),_=I(3294),y=I(4440),N=I(5694),d=I(7944),m=I(3932),b=I(1907);let h=(()=>{class F{storageService;constructor(T){this.storageService=T}search(T){var ie=this;return(0,i.A)(function*(){const L=[],oe=yield ie.storageService.getMetadata();if(!oe)return L;console.log("metadata - ",oe);for(const J of oe.partsMetadata){const de=yield ie.storageService.getPart(J.id);if(de){console.log("part - ",de);for(const V of de.sections){const H=V.content?.toLowerCase()||"",U=T.toLowerCase(),B=H||V.meaning?.toLowerCase()||"";if(B.includes(U)){const Y=(B.match(new RegExp(U,"gi"))||[]).length,ge=B.indexOf(U),Se=B.substr(Math.max(0,ge-50),T.length+100);L.push({partId:de.id,partTitle:de.title,sectionId:V.id,sectionTitle:V.title,excerpt:"..."+Se+"...",matchCount:Y,highlightedText:Se})}}}}return console.log("results - ",L),L.sort((J,de)=>de.matchCount-J.matchCount)})()}static \u0275fac=function(ie){return new(ie||F)(d.\u0275\u0275inject(b.n))};static \u0275prov=d.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();var C=I(1079),p=I(4674),f=I(1310);function u(F,c){if(1&F){const T=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",17),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(T);const L=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(L.clearSearchQuery())}),d.\u0275\u0275element(1,"i",18),d.\u0275\u0275elementEnd()}}function g(F,c){1&F&&(d.\u0275\u0275elementStart(0,"div",19)(1,"div",20),d.\u0275\u0275element(2,"i",21),d.\u0275\u0275elementStart(3,"h5"),d.\u0275\u0275text(4,"No Results Found"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"p",22),d.\u0275\u0275text(6,"Try different keywords or check spelling"),d.\u0275\u0275elementEnd()()())}function E(F,c){if(1&F){const T=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",26),d.\u0275\u0275listener("click",function(){const L=d.\u0275\u0275restoreView(T).$implicit,oe=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(oe.searchKeyword(L))}),d.\u0275\u0275element(1,"i",27),d.\u0275\u0275text(2),d.\u0275\u0275elementEnd()}if(2&F){const T=c.$implicit;d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",T," ")}}function k(F,c){if(1&F&&(d.\u0275\u0275elementStart(0,"div",23)(1,"h6"),d.\u0275\u0275text(2,"Recent Searches"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"div",24),d.\u0275\u0275template(4,E,3,1,"button",25),d.\u0275\u0275elementEnd()()),2&F){const T=d.\u0275\u0275nextContext();d.\u0275\u0275advance(4),d.\u0275\u0275property("ngForOf",T.recentSearches)}}function R(F,c){if(1&F){const T=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",26),d.\u0275\u0275listener("click",function(){const L=d.\u0275\u0275restoreView(T).$implicit,oe=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(oe.searchKeyword(L))}),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()}if(2&F){const T=c.$implicit;d.\u0275\u0275advance(),d.\u0275\u0275textInterpolate1(" ",T," ")}}function Q(F,c){if(1&F&&(d.\u0275\u0275elementStart(0,"div",28)(1,"h6"),d.\u0275\u0275text(2,"Popular Keywords"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"div",24),d.\u0275\u0275template(4,R,2,1,"button",25),d.\u0275\u0275elementEnd()()),2&F){const T=d.\u0275\u0275nextContext();d.\u0275\u0275advance(4),d.\u0275\u0275property("ngForOf",T.popularKeywords)}}function $(F,c){if(1&F){const T=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",34)(1,"div",35)(2,"div",36)(3,"span",37),d.\u0275\u0275text(4),d.\u0275\u0275elementEnd()(),d.\u0275\u0275element(5,"div",38),d.\u0275\u0275elementStart(6,"button",39),d.\u0275\u0275listener("click",function(){const L=d.\u0275\u0275restoreView(T).$implicit,oe=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(oe.navigateToResult(L))}),d.\u0275\u0275text(7," Go to Verse "),d.\u0275\u0275element(8,"i",40),d.\u0275\u0275elementEnd()()()}if(2&F){const T=c.$implicit;d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate2("",T.partTitle," - ",T.sectionTitle,""),d.\u0275\u0275advance(),d.\u0275\u0275property("innerHTML",T.highlightedText,d.\u0275\u0275sanitizeHtml)}}function ee(F,c){if(1&F){const T=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"li",43)(1,"button",44),d.\u0275\u0275listener("click",function(){const L=d.\u0275\u0275restoreView(T).$implicit,oe=d.\u0275\u0275nextContext(3);return oe.currentPage=L,d.\u0275\u0275resetView(oe.updatePaginatedResults())}),d.\u0275\u0275text(2),d.\u0275\u0275elementEnd()()}if(2&F){const T=c.$implicit,ie=d.\u0275\u0275nextContext(3);d.\u0275\u0275classProp("active",T===ie.currentPage),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",T," ")}}function K(F,c){if(1&F){const T=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"nav",41)(1,"ul",42)(2,"li",43)(3,"button",44),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(T);const L=d.\u0275\u0275nextContext(2);return L.currentPage=L.currentPage-1,d.\u0275\u0275resetView(L.updatePaginatedResults())}),d.\u0275\u0275text(4," Previous "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275template(5,ee,3,3,"li",45),d.\u0275\u0275elementStart(6,"li",43)(7,"button",44),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(T);const L=d.\u0275\u0275nextContext(2);return L.currentPage=L.currentPage+1,d.\u0275\u0275resetView(L.updatePaginatedResults())}),d.\u0275\u0275text(8," Next "),d.\u0275\u0275elementEnd()()()()}if(2&F){const T=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(2),d.\u0275\u0275classProp("disabled",1===T.currentPage),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngForOf",T.getPageNumbers()),d.\u0275\u0275advance(),d.\u0275\u0275classProp("disabled",T.currentPage===T.totalPages)}}function ne(F,c){if(1&F&&(d.\u0275\u0275elementStart(0,"div",29)(1,"div",30)(2,"h6"),d.\u0275\u0275text(3),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(4,"div",31),d.\u0275\u0275template(5,$,9,3,"div",32),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(6,K,9,5,"nav",33),d.\u0275\u0275elementEnd()),2&F){const T=d.\u0275\u0275nextContext();d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",T.searchResults.length," Results"),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",T.paginatedResults),d.\u0275\u0275advance(),d.\u0275\u0275property("ngIf",T.totalPages>1)}}function he(F,c){1&F&&(d.\u0275\u0275elementStart(0,"div",46)(1,"div",47)(2,"span",48),d.\u0275\u0275text(3,"Loading..."),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(4,"span"),d.\u0275\u0275text(5,"Searching..."),d.\u0275\u0275elementEnd()())}let A=(()=>{class F{activeModal;searchService;contentService;router;searchStateService;searchQuery="";searchResults=[];popularKeywords=[];recentSearches=[];isSearching=!1;currentPage=1;pageSize=10;totalPages=1;paginatedResults=[];expandedVerseId=null;searchSubject=new S.B;isModalOpen=!1;lastSearchState=null;constructor(T,ie,L,oe,J){this.activeModal=T,this.searchService=ie,this.contentService=L,this.router=oe,this.searchStateService=J,this.searchSubject.pipe((0,w.B)(300),(0,_.F)()).subscribe(de=>{de?this.performSearch():this.clearSearchResults()})}ngOnInit(){this.loadRecentSearches(),this.loadPopularKeywords()}loadPopularKeywords(){var T=this;return(0,i.A)(function*(){T.popularKeywords=yield T.contentService.getPopularKeywords(),console.log("popularKeywords",T.popularKeywords),T.popularKeywords&&0===T.popularKeywords.length&&(T.popularKeywords=["No","popular","keywords","configured","for","this","content"])})()}onSearchInput(T){this.searchQuery.trim()?"Enter"!==T?.key?this.searchSubject.next(this.searchQuery):this.performSearch():this.clearSearchResults()}performSearch(){var T=this;return(0,i.A)(function*(){if(T.searchQuery.trim()){T.isSearching=!0;try{const ie=yield T.searchService.search(T.searchQuery);T.searchResults=ie.map(L=>({...L,highlightedText:T.highlightText(L.excerpt,T.searchQuery)})),T.totalPages=Math.ceil(T.searchResults.length/T.pageSize),T.currentPage=1,T.updatePaginatedResults(),T.searchResults.length>0&&(T.addToRecentSearches(T.searchQuery),T.saveSearchState())}finally{T.isSearching=!1}}})()}highlightText(T,ie){const L=new RegExp(`(${ie})`,"gi");return T.replace(L,"<mark>$1</mark>")}updatePaginatedResults(){const T=(this.currentPage-1)*this.pageSize;this.paginatedResults=this.searchResults.slice(T,T+this.pageSize)}navigateToResult(T){var ie=this;return(0,i.A)(function*(){const L=yield ie.searchStateService.isSearchActive();L||(yield ie.searchStateService.saveSearchState({query:ie.searchQuery,results:ie.searchResults,currentPage:ie.currentPage,totalPages:ie.totalPages,paginatedResults:ie.paginatedResults,isActive:!0})),console.log("isSearchActive",L),yield ie.activeModal.close({partId:T.partId,sectionId:T.sectionId,searchQuery:ie.searchQuery,returnToSearch:!0}),console.log("navigated to result "+T.partId+"."+T.sectionId)})()}loadRecentSearches(){const T=localStorage.getItem("recent_searches");this.recentSearches=T?JSON.parse(T):[]}addToRecentSearches(T){this.recentSearches.includes(T)||(this.recentSearches.unshift(T),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recent_searches",JSON.stringify(this.recentSearches)))}searchKeyword(T){this.searchQuery=T,this.performSearch()}clearSearchQuery(){var T=this;return(0,i.A)(function*(){T.searchQuery="",T.clearSearchResults(),yield T.searchStateService.clearSearchState()})()}clearSearchResults(){this.searchResults=[],this.paginatedResults=[],this.currentPage=1,this.totalPages=0}dismiss(){this.activeModal.dismiss()}getPageNumbers(){const T=[];let L=Math.max(1,this.currentPage-Math.floor(2.5));const oe=Math.min(this.totalPages,L+5-1);oe-L+1<5&&(L=Math.max(1,oe-5+1));for(let J=L;J<=oe;J++)T.push(J);return T}saveSearchState(){this.lastSearchState={query:this.searchQuery,results:this.searchResults,currentPage:this.currentPage,totalPages:this.totalPages,paginatedResults:this.paginatedResults}}restoreSearchState(T){this.searchQuery=T.query,this.searchResults=T.results,this.currentPage=T.currentPage,this.totalPages=T.totalPages,this.paginatedResults=T.paginatedResults}static \u0275fac=function(ie){return new(ie||F)(d.\u0275\u0275directiveInject(m.Lw),d.\u0275\u0275directiveInject(h),d.\u0275\u0275directiveInject(C.f),d.\u0275\u0275directiveInject(p.Router),d.\u0275\u0275directiveInject(f.$))};static \u0275cmp=d.\u0275\u0275defineComponent({type:F,selectors:[["cr-search"]],standalone:!0,features:[d.\u0275\u0275StandaloneFeature],decls:18,vars:7,consts:[[1,"container"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"search-header"],[1,"input-group"],["type","text","placeholder","Search by verse or keyword...",1,"form-control",3,"ngModelChange","keyup","ngModel"],["class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],["class","no-results",4,"ngIf"],[1,"search-content"],["class","recent-searches",4,"ngIf"],["class","popular-keywords",4,"ngIf"],["class","search-results",4,"ngIf"],["class","search-loading",4,"ngIf"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"no-results"],[1,"text-center","my-4"],[1,"fas","fa-search","fa-3x","text-muted","mb-3"],[1,"text-muted"],[1,"recent-searches"],[1,"keyword-chips"],["class","keyword-chip",3,"click",4,"ngFor","ngForOf"],[1,"keyword-chip",3,"click"],[1,"fas","fa-history"],[1,"popular-keywords"],[1,"search-results"],[1,"results-header"],[1,"verse-list"],["class","verse-item",4,"ngFor","ngForOf"],["class","mt-3 fixed-bottom",4,"ngIf"],[1,"verse-item"],[1,"verse-content"],[1,"verse-header"],[1,"verse-title"],[1,"verse-text",3,"innerHTML"],[1,"btn","btn-primary","btn-sm","goto-btn",3,"click"],[1,"fas","fa-arrow-right","ms-1"],[1,"mt-3","fixed-bottom"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"search-loading"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(ie,L){1&ie&&(d.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h4",2),d.\u0275\u0275text(3,"Search"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"button",3),d.\u0275\u0275listener("click",function(){return L.dismiss()}),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(5,"div",4)(6,"div",5)(7,"div",6)(8,"input",7),d.\u0275\u0275twoWayListener("ngModelChange",function(J){return d.\u0275\u0275twoWayBindingSet(L.searchQuery,J)||(L.searchQuery=J),J}),d.\u0275\u0275listener("keyup",function(J){return L.onSearchInput(J)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(9,u,2,0,"button",8),d.\u0275\u0275elementStart(10,"button",9),d.\u0275\u0275listener("click",function(){return L.performSearch()}),d.\u0275\u0275element(11,"i",10),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275template(12,g,7,0,"div",11),d.\u0275\u0275elementStart(13,"div",12),d.\u0275\u0275template(14,k,5,1,"div",13)(15,Q,5,1,"div",14)(16,ne,7,3,"div",15)(17,he,6,0,"div",16),d.\u0275\u0275elementEnd()()()),2&ie&&(d.\u0275\u0275advance(8),d.\u0275\u0275twoWayProperty("ngModel",L.searchQuery),d.\u0275\u0275advance(),d.\u0275\u0275property("ngIf",L.searchQuery),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf",L.searchQuery&&!L.isSearching&&0===L.searchResults.length),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",!L.searchQuery&&L.recentSearches.length>0),d.\u0275\u0275advance(),d.\u0275\u0275property("ngIf",!L.searchQuery&&L.popularKeywords.length>0),d.\u0275\u0275advance(),d.\u0275\u0275property("ngIf",L.searchResults.length>0),d.\u0275\u0275advance(),d.\u0275\u0275property("ngIf",L.isSearching))},dependencies:[y.FormsModule,y.DefaultValueAccessor,y.NgControlStatus,y.NgModel,N.CommonModule,N.NgForOf,N.NgIf],styles:[".search-status-bar[_ngcontent-%COMP%]{position:fixed;top:56px;left:0;right:0;background:#212529f2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:1000;padding:.75rem 1rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.7}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-info[_ngcontent-%COMP%]   .search-query-text[_ngcontent-%COMP%]{font-weight:500;font-size:.95rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;padding:.5rem 1rem;border-radius:6px;display:flex;align-items:center;gap:.5rem;cursor:pointer;transition:all .2s;font-size:.9rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#ffffff40}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]   .action-btn.exit[_ngcontent-%COMP%]{background:#dc354540}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]   .action-btn.exit[_ngcontent-%COMP%]:hover{background:#dc354559}@media (max-width: 768px){.search-status-bar[_ngcontent-%COMP%]{padding:.5rem .75rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-info[_ngcontent-%COMP%]{gap:.5rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-info[_ngcontent-%COMP%]   .search-query-text[_ngcontent-%COMP%]{font-size:.85rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]{gap:.5rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.85rem}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.search-status-bar[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}}.bottom-search-nav[_ngcontent-%COMP%]{position:fixed;bottom:1.5rem;left:50%;transform:translate(-50%);background:#212529f2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:.75rem 1.25rem;border-radius:50px;display:flex;align-items:center;gap:1.5rem;z-index:1000;box-shadow:0 4px 15px #0000001a}.bottom-search-nav[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#ffffff26;border:none;width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.bottom-search-nav[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff40;transform:translateY(-1px)}.bottom-search-nav[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.bottom-search-nav[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.bottom-search-nav[_ngcontent-%COMP%]   .result-counter[_ngcontent-%COMP%]{font-size:1.1rem;display:flex;align-items:center;gap:.5rem;min-width:80px;justify-content:center}.bottom-search-nav[_ngcontent-%COMP%]   .result-counter[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{font-weight:600}.bottom-search-nav[_ngcontent-%COMP%]   .result-counter[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{opacity:.5}.bottom-search-nav[_ngcontent-%COMP%]   .result-counter[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{opacity:.8}.search-container[_ngcontent-%COMP%]   .keyword-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;padding:.5rem 0}.search-container[_ngcontent-%COMP%]   .keyword-chips[_ngcontent-%COMP%]   .keyword-chip[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:.75rem 1.25rem;border-radius:50px;font-size:1rem;color:#495057;display:flex;align-items:center;gap:.5rem;cursor:pointer;transition:all .2s}.search-container[_ngcontent-%COMP%]   .keyword-chips[_ngcontent-%COMP%]   .keyword-chip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d}.search-container[_ngcontent-%COMP%]   .keyword-chips[_ngcontent-%COMP%]   .keyword-chip[_ngcontent-%COMP%]:hover{border-color:#adb5bd}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:8px;margin-bottom:1rem;overflow:hidden}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]{padding:1rem}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]:not(.expanded)   .verse-text[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;max-height:3.6em}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .verse-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .verse-header[_ngcontent-%COMP%]   .verse-number[_ngcontent-%COMP%]{font-weight:500;color:#007bff}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .verse-header[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{padding:.25rem .5rem;color:#6c757d}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .verse-header[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#495057}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .verse-text[_ngcontent-%COMP%]{color:#212529;line-height:1.6;margin-bottom:1rem;transition:all .3s ease}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .verse-text[_ngcontent-%COMP%]   mark[_ngcontent-%COMP%]{background-color:#fff3cd;padding:.1em .2em;border-radius:2px}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .goto-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.375rem .75rem}@media (max-width: 768px){.search-container[_ngcontent-%COMP%]   .search-status-bar[_ngcontent-%COMP%]{padding:.5rem .75rem}.search-container[_ngcontent-%COMP%]   .search-status-bar[_ngcontent-%COMP%]   .search-query-text[_ngcontent-%COMP%]{font-size:.85rem}.search-container[_ngcontent-%COMP%]   .search-status-bar[_ngcontent-%COMP%]   .search-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem}.search-container[_ngcontent-%COMP%]   .keyword-chips[_ngcontent-%COMP%]   .keyword-chip[_ngcontent-%COMP%]{padding:.625rem 1rem;font-size:.95rem}.search-container[_ngcontent-%COMP%]   .bottom-search-nav[_ngcontent-%COMP%]{padding:.5rem 1rem;gap:1rem}.search-container[_ngcontent-%COMP%]   .bottom-search-nav[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]{width:36px;height:36px}.search-container[_ngcontent-%COMP%]   .bottom-search-nav[_ngcontent-%COMP%]   .result-counter[_ngcontent-%COMP%]{font-size:.9rem;min-width:60px}}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-preview[_ngcontent-%COMP%]{transition:all .3s ease}.search-container[_ngcontent-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-preview.expanded[_ngcontent-%COMP%]   .verse-text[_ngcontent-%COMP%]{white-space:normal;overflow:visible;text-overflow:clip}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .modal-body[_ngcontent-%COMP%]{height:calc(100vh - 120px);overflow-y:auto}[_nghost-%COMP%]   .search-header[_ngcontent-%COMP%]{position:sticky;top:0;background:var(--bs-modal-bg);padding:1rem 0;z-index:1}[_nghost-%COMP%]   .keyword-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin:1rem 0}[_nghost-%COMP%]   .keyword-chips[_ngcontent-%COMP%]   .keyword-chip[_ngcontent-%COMP%]{background:var(--bs-gray-200);color:var(--bs-gray-800);border:none;padding:.5rem 1rem;border-radius:2rem;display:flex;align-items:center;gap:.5rem;cursor:pointer;transition:all .2s}[_nghost-%COMP%]   .keyword-chips[_ngcontent-%COMP%]   .keyword-chip[_ngcontent-%COMP%]:hover{background:var(--bs-gray-300)}[_nghost-%COMP%]   .keyword-chips[_ngcontent-%COMP%]   .keyword-chip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}[_nghost-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]{border-bottom:1px solid var(--bs-gray-200);padding:1rem 0}[_nghost-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]:last-child{border-bottom:none}[_nghost-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .verse-header[_ngcontent-%COMP%]{margin-bottom:.5rem}[_nghost-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .verse-header[_ngcontent-%COMP%]   .verse-title[_ngcontent-%COMP%]{font-weight:500;color:var(--bs-body-color)}[_nghost-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .verse-text[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   .verse-list[_ngcontent-%COMP%]   .verse-item[_ngcontent-%COMP%]   .verse-content[_ngcontent-%COMP%]   .verse-text[_ngcontent-%COMP%]   mark[_ngcontent-%COMP%]{background-color:#fff3cd;padding:.1em .2em;border-radius:2px}[_nghost-%COMP%]   .search-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;padding:2rem}"]})}return F})()},1079:(at,M,I)=>{"use strict";I.d(M,{f:()=>h});var i=I(467),S=I(7247),w=I.n(S),_=I(4412),y=I(4843),N=I(7944),m=I(1626),b=I(1907);let h=(()=>{class C{http;storageService;contentMetadata=new _.t(null);contentItemsSubject=new _.t(null);currentPart=new _.t(null);currentPartId=1;category="";contentItems=null;constructor(f,u){this.http=f,this.storageService=u,this.loadInitialMetadata()}loadInitialMetadata(){var f=this;return(0,i.A)(function*(){const u=yield f.storageService.getMetadata();u&&f.contentMetadata.next(u)})()}loadPart(f){var u=this;return(0,i.A)(function*(){try{const g=yield u.storageService.getPart(f);g&&(u.currentPartId=f,u.currentPart.next(g))}catch(g){throw console.error("Error loading part:",g),g}})()}buildImageKey(f,u){var g=this;return(0,i.A)(function*(){let E=null,k=!1;if(f&&u){if(E=f+"/section"+u+".jpg",k=yield g.hasImage(E),k)return E}else if(f){if(E=f+".jpg",k=yield g.hasImage(E),k)return E}else if(E="bookCover.jpg",k=yield g.hasImage(E),k)return E;return E})()}getMetadata(){return this.contentMetadata.asObservable()}getCurrentPart(){return this.currentPart.asObservable()}loadPreviousPart(){var f=this;return(0,i.A)(function*(){f.currentPartId>1&&(yield f.loadPart(f.currentPartId-1))})()}loadNextPart(){var f=this;return(0,i.A)(function*(){const u=f.contentMetadata.value;u&&f.currentPartId<u.partsMetadata.length&&(yield f.loadPart(f.currentPartId+1))})()}hasPreviousPart(){return this.currentPartId>1}hasNextPart(){const f=this.contentMetadata.value;return!!f&&this.currentPartId<f.partsMetadata.length}loadContentPackage(f){var u=this;return(0,i.A)(function*(){try{console.log("Loading content package from",f);const g=yield u.http.get(f,{responseType:"arraybuffer"}).toPromise();if(!g)throw new Error("No response from server");const k=yield(new(w())).loadAsync(g);yield u.loadContent(k),console.log("Content stored")}catch(g){throw console.error("Error loading content package:",g),g}})()}loadContent(f){var u=this;return(0,i.A)(function*(){try{const g=yield f.file("meta.json")?.async("text");if(console.log("Loading metadata file "+g),!g)throw new Error("No metadata file found");console.log("Metadata file found");const E=JSON.parse(g);u.contentMetadata.next(E),console.log("Metadata loaded "+E.title),yield u.storeContent(f,E),localStorage.setItem("lastLoadedContentItemId",E.id)}catch(g){throw console.error("Error loading content:",g),g}})()}hasImage(f){var u=this;return(0,i.A)(function*(){return u.storageService.hasImage(f)})()}getImageUrl(f){var u=this;return(0,i.A)(function*(){console.log("Getting image url for "+f),(""===f||null===f)&&(f="bookCover.jpg");try{const E=(yield u.storageService.initDatabase()).transaction("images","readonly").objectStore("images");let k=yield E.get(f);if(k)return console.log(`Image found: ${f}`),URL.createObjectURL(k);if(console.warn(`Image not found: ${f}`),u.contentMetadata.value&&u.contentMetadata.value.coverImage)return u.contentMetadata.value.coverImage;const R=f.split("/")[0];if(R){const Q=`${R}.jpg`;if(k=yield E.get(Q),k)return console.log(`Using part cover image: ${Q}`),URL.createObjectURL(k)}return k=yield E.get("bookCover.jpg"),k?(console.log("Using book cover image"),URL.createObjectURL(k)):u.getFallbackImageUrl()}catch(g){return console.error("Error retrieving image:",g),u.getCoverImageUrl()}})()}storeContent(f,u){var g=this;return(0,i.A)(function*(){yield g.storageService.clearDatabase(),yield g.storageService.storeMetadata(u);for(const k of u.partsMetadata){const R=k.id+".json";console.log("Part file name:",R);const Q=yield f.file(R)?.async("text");if(Q){console.log("Part file found "+R);const $=JSON.parse(Q);yield g.storageService.storePart($)}}const E=f.folder("images");if(E)for(const[k,R]of Object.entries(E.files))if(!R.dir){const Q=yield R.async("blob"),$=k.replace("images/","");yield g.storageService.storeImage($,Q)}console.log("Images stored")})()}getCoverImageUrl(){return this.contentMetadata.value?.coverImage||this.getFallbackImageUrl()}getFallbackImageUrl(f){let u=Math.floor(11*Math.random())+1,g="https://vishalmanchanda.github.io/assets/cp/default-"+u+".jpg";return f&&"intro"==f&&(u=Math.floor(6*Math.random())+1,g="https://vishalmanchanda.github.io/assets/cp/intro-"+u+".jpg"),console.log("Fallback image url: "+g),g}getPart(f){return this.storageService.getPart(f)}clearDatabase(){return this.storageService.clearDatabase()}loadLastLoadedContentItem(){var f=this;return(0,i.A)(function*(){if(f.contentItems&&f.contentItems.length>0){const u=localStorage.getItem("lastLoadedContentItemId");u&&(yield f.loadContentPackage(f.contentItems[f.contentItems.findIndex(g=>g.id===u)].zipUrl))}})()}isContentItemLoaded(f){var u=this;return(0,i.A)(function*(){const g=yield(0,y._)(u.getMetadata());return!!g&&g.id===f.id&&g.language===f.language&&g.categoryKey===f.categoryKey})()}loadContentItemById(f){var u=this;return(0,i.A)(function*(){if(!(u.contentItems&&u.contentItems.length>0))throw new Error("No content items loaded");yield u.loadContentPackage(u.contentItems[u.contentItems.findIndex(g=>g.id===f)].zipUrl)})()}getCurrentMetadata(){var f=this;return(0,i.A)(function*(){return yield f.storageService.getMetadata()})()}getPopularKeywords(){var f=this;return(0,i.A)(function*(){const u=yield f.getCurrentMetadata();return u&&u.keywords||[]})()}updateResumeBookMark(f){var u=this;return(0,i.A)(function*(){yield u.storageService.updateResumeBookMark(f)})()}getResumeBookMark(f,u){var g=this;return(0,i.A)(function*(){return yield g.storageService.getResumeBookMark(f,u)})()}static \u0275fac=function(u){return new(u||C)(N.\u0275\u0275inject(m.Qq),N.\u0275\u0275inject(b.n))};static \u0275prov=N.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},1310:(at,M,I)=>{"use strict";I.d(M,{$:()=>y});var i=I(467),S=I(943),w=I(7944);let y=(()=>{class N{db=null;DB_NAME="readerDB";STORE_NAME="searchState";initDB(){var m=this;return(0,i.A)(function*(){m.db=yield(0,S.P2)(m.DB_NAME,1,{upgrade(b){b.objectStoreNames.contains("searchState")||b.createObjectStore("searchState")}})})()}saveSearchState(m){var b=this;return(0,i.A)(function*(){b.db||(yield b.initDB()),yield b.db?.put(b.STORE_NAME,m,"currentSearch")})()}getSearchState(){var m=this;return(0,i.A)(function*(){return m.db||(yield m.initDB()),m.db?.get(m.STORE_NAME,"currentSearch")||null})()}clearSearchState(){var m=this;return(0,i.A)(function*(){m.db||(yield m.initDB()),yield m.db?.delete(m.STORE_NAME,"currentSearch")})()}isSearchActive(){var m=this;return(0,i.A)(function*(){return(yield m.getSearchState())?.isActive||!1})()}static \u0275fac=function(b){return new(b||N)};static \u0275prov=w.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},1907:(at,M,I)=>{"use strict";I.d(M,{n:()=>y});var i=I(467),S=I(943),w=I(7944);let y=(()=>{class N{db=null;DB_NAME="content-viewer-db";DB_VERSION=1;initDatabase(){var m=this;return(0,i.A)(function*(){return m.db||(m.db=yield(0,S.P2)(m.DB_NAME,m.DB_VERSION,{upgrade(b){b.objectStoreNames.contains("metadata")&&b.deleteObjectStore("metadata"),b.objectStoreNames.contains("parts")&&b.deleteObjectStore("parts"),b.objectStoreNames.contains("images")&&b.deleteObjectStore("images"),b.objectStoreNames.contains("progress")&&b.deleteObjectStore("progress"),b.objectStoreNames.contains("preferences")&&b.deleteObjectStore("preferences"),b.objectStoreNames.contains("commentary")&&b.deleteObjectStore("commentary"),b.createObjectStore("metadata"),b.createObjectStore("parts",{keyPath:"id"}),b.createObjectStore("images"),b.createObjectStore("progress"),b.createObjectStore("preferences"),b.createObjectStore("commentary"),b.objectStoreNames.contains("authorSelections")||b.createObjectStore("authorSelections")}})),m.db})()}clearDatabase(){var m=this;return(0,i.A)(function*(){const b=yield m.initDatabase();yield b.clear("metadata"),yield b.clear("parts"),yield b.clear("images"),yield b.clear("commentary")})()}hasImage(m){var b=this;return(0,i.A)(function*(){return void 0!==(yield(yield b.initDatabase()).getKey("images",m))})()}storeMetadata(m){var b=this;return(0,i.A)(function*(){yield(yield b.initDatabase()).put("metadata",{...m},"current")})()}getMetadata(){var m=this;return(0,i.A)(function*(){return yield(yield m.initDatabase()).get("metadata","current")})()}storePart(m){var b=this;return(0,i.A)(function*(){yield(yield b.initDatabase()).put("parts",m)})()}getPart(m){var b=this;return(0,i.A)(function*(){try{const h=yield b.initDatabase();console.log("getPart",m);let C=yield h.get("parts",m);return void 0===C&&(C=yield h.get("parts",m.toString())),console.log("getPart result",C),C}catch(h){throw console.error("Error getting part:",h),h}})()}storeImage(m,b){var h=this;return(0,i.A)(function*(){yield(yield h.initDatabase()).put("images",b,m)})()}getImage(m){var b=this;return(0,i.A)(function*(){return yield(yield b.initDatabase()).get("images",m)})()}getImageUrl(m){var b=this;return(0,i.A)(function*(){try{const h=yield b.getImage(m);return h?URL.createObjectURL(h):void 0}catch(h){return void console.error("Error getting image URL:",h)}})()}updateProgress(m){var b=this;return(0,i.A)(function*(){yield(yield b.initDatabase()).put("progress",{...m},"current")})()}getProgress(){var m=this;return(0,i.A)(function*(){return yield(yield m.initDatabase()).get("progress","current")})()}updatePreferences(m){var b=this;return(0,i.A)(function*(){yield(yield b.initDatabase()).put("preferences",{...m},"current")})()}getPreferences(){var m=this;return(0,i.A)(function*(){return yield(yield m.initDatabase()).get("preferences","current")})()}isContentItemLoaded(m){var b=this;return(0,i.A)(function*(){return void 0!==(yield(yield b.initDatabase()).get("metadata",m))})()}updateResumeBookMark(m){return(0,i.A)(function*(){if(m.categoryKey&&m.contentId){const b={...m,timestamp:new Date};localStorage.setItem(m.categoryKey+"-"+m.contentId+"-resume",JSON.stringify(b))}else console.error("Invalid bookmark",m)})()}getResumeBookMark(m,b){return(0,i.A)(function*(){const h=localStorage.getItem(m+"-"+b+"-resume");return h?JSON.parse(h):void 0})()}getRecentResumeBookMarks(m){return(0,i.A)(function*(){const b=[],h=Object.keys(localStorage).filter(p=>p.endsWith("-resume"));console.log("resumeBookmarks",h);for(const p of h){const f=localStorage.getItem(p);f&&b.push(JSON.parse(f))}const C=b.sort((p,f)=>{const u=new Date(p.timestamp);return new Date(f.timestamp).getTime()-u.getTime()});return C.length>m?C.slice(0,m):C})()}storeCommentary(m,b){var h=this;return(0,i.A)(function*(){try{yield(yield h.initDatabase()).put("commentary",b,m)}catch(C){console.error("Error storing commentary",C)}})()}getCommentary(m,b,h){var C=this;return(0,i.A)(function*(){let p;const u=yield(yield C.initDatabase()).get("commentary",m);return u&&u.length>0&&u.forEach(g=>{g.verseNum===h&&(p=g)}),p})()}storeAuthorSelection(m,b){var h=this;return(0,i.A)(function*(){yield(yield h.initDatabase()).put("authorSelections",{contentId:m,author:b},m)})()}getAuthorSelection(m){var b=this;return(0,i.A)(function*(){return(yield(yield b.initDatabase()).get("authorSelections",m))?.author})()}static \u0275fac=function(b){return new(b||N)};static \u0275prov=w.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},7247:at=>{at.exports=function M(I,i,S){function w(N,d){if(!i[N]){if(!I[N]){if(_)return _(N,!0);var b=new Error("Cannot find module '"+N+"'");throw b.code="MODULE_NOT_FOUND",b}var h=i[N]={exports:{}};I[N][0].call(h.exports,function(C){return w(I[N][1][C]||C)},h,h.exports,M,I,i,S)}return i[N].exports}for(var _=void 0,y=0;y<S.length;y++)w(S[y]);return w}({1:[function(M,I,i){"use strict";var S=M("./utils"),w=M("./support"),_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(y){for(var N,d,m,h,C,p,f=[],u=0,g=y.length,E=g,k="string"!==S.getTypeOf(y);u<y.length;)E=g-u,m=k?(N=y[u++],d=u<g?y[u++]:0,u<g?y[u++]:0):(N=y.charCodeAt(u++),d=u<g?y.charCodeAt(u++):0,u<g?y.charCodeAt(u++):0),h=(3&N)<<4|d>>4,C=1<E?(15&d)<<2|m>>6:64,p=2<E?63&m:64,f.push(_.charAt(N>>2)+_.charAt(h)+_.charAt(C)+_.charAt(p));return f.join("")},i.decode=function(y){var N,d,m,b,h,C,p=0,f=0,u="data:";if(y.substr(0,5)===u)throw new Error("Invalid base64 input, it looks like a data url.");var g,E=3*(y=y.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(y.charAt(y.length-1)===_.charAt(64)&&E--,y.charAt(y.length-2)===_.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=w.uint8array?new Uint8Array(0|E):new Array(0|E);p<y.length;)N=_.indexOf(y.charAt(p++))<<2|(b=_.indexOf(y.charAt(p++)))>>4,d=(15&b)<<4|(h=_.indexOf(y.charAt(p++)))>>2,m=(3&h)<<6|(C=_.indexOf(y.charAt(p++))),g[f++]=N,64!==h&&(g[f++]=d),64!==C&&(g[f++]=m);return g}},{"./support":30,"./utils":32}],2:[function(M,I,i){"use strict";var S=M("./external"),w=M("./stream/DataWorker"),_=M("./stream/Crc32Probe"),y=M("./stream/DataLengthProbe");function N(d,m,b,h,C){this.compressedSize=d,this.uncompressedSize=m,this.crc32=b,this.compression=h,this.compressedContent=C}N.prototype={getContentWorker:function(){var d=new w(S.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new y("data_length")),m=this;return d.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new w(S.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},N.createWorkerFrom=function(d,m,b){return d.pipe(new _).pipe(new y("uncompressedSize")).pipe(m.compressWorker(b)).pipe(new y("compressedSize")).withStreamInfo("compression",m)},I.exports=N},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(M,I,i){"use strict";var S=M("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new S("STORE compression")},uncompressWorker:function(){return new S("STORE decompression")}},i.DEFLATE=M("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(M,I,i){"use strict";var S=M("./utils"),w=function(){for(var _,y=[],N=0;N<256;N++){_=N;for(var d=0;d<8;d++)_=1&_?3988292384^_>>>1:_>>>1;y[N]=_}return y}();I.exports=function(_,y){return void 0!==_&&_.length?"string"!==S.getTypeOf(_)?function(N,d,m){var h=w,C=0+m;N^=-1;for(var p=0;p<C;p++)N=N>>>8^h[255&(N^d[p])];return~N}(0|y,_,_.length):function(N,d,m){var h=w,C=0+m;N^=-1;for(var p=0;p<C;p++)N=N>>>8^h[255&(N^d.charCodeAt(p))];return~N}(0|y,_,_.length):0}},{"./utils":32}],5:[function(M,I,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(M,I,i){"use strict";var S;S=typeof Promise<"u"?Promise:M("lie"),I.exports={Promise:S}},{lie:37}],7:[function(M,I,i){"use strict";var S=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",w=M("pako"),_=M("./utils"),y=M("./stream/GenericWorker"),N=S?"uint8array":"array";function d(m,b){y.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=b,this.meta={}}i.magic="\b\0",_.inherits(d,y),d.prototype.processChunk=function(m){this.meta=m.meta,null===this._pako&&this._createPako(),this._pako.push(_.transformTo(N,m.data),!1)},d.prototype.flush=function(){y.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new w[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(b){m.push({data:b,meta:m.meta})}},i.compressWorker=function(m){return new d("Deflate",m)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(M,I,i){"use strict";function S(h,C){var p,f="";for(p=0;p<C;p++)f+=String.fromCharCode(255&h),h>>>=8;return f}function w(h,C,p,f,u,g){var E,k,R=h.file,Q=h.compression,$=g!==N.utf8encode,ee=_.transformTo("string",g(R.name)),K=_.transformTo("string",N.utf8encode(R.name)),ne=R.comment,he=_.transformTo("string",g(ne)),A=_.transformTo("string",N.utf8encode(ne)),F=K.length!==R.name.length,c=A.length!==ne.length,T="",ie="",L="",oe=R.dir,J=R.date,de={crc32:0,compressedSize:0,uncompressedSize:0};C&&!p||(de.crc32=h.crc32,de.compressedSize=h.compressedSize,de.uncompressedSize=h.uncompressedSize);var V=0;C&&(V|=8),$||!F&&!c||(V|=2048);var Y,Se,H=0,U=0;oe&&(H|=16),"UNIX"===u?(U=798,H|=(Se=Y=R.unixPermissions,Y||(Se=oe?16893:33204),(65535&Se)<<16)):(U=20,H|=function(Y){return 63&(Y||0)}(R.dosPermissions)),E=J.getUTCHours(),E<<=6,E|=J.getUTCMinutes(),E<<=5,E|=J.getUTCSeconds()/2,k=J.getUTCFullYear()-1980,k<<=4,k|=J.getUTCMonth()+1,k<<=5,k|=J.getUTCDate(),F&&(ie=S(1,1)+S(d(ee),4)+K,T+="up"+S(ie.length,2)+ie),c&&(L=S(1,1)+S(d(he),4)+A,T+="uc"+S(L.length,2)+L);var B="";return B+="\n\0",B+=S(V,2),B+=Q.magic,B+=S(E,2),B+=S(k,2),B+=S(de.crc32,4),B+=S(de.compressedSize,4),B+=S(de.uncompressedSize,4),B+=S(ee.length,2),B+=S(T.length,2),{fileRecord:m.LOCAL_FILE_HEADER+B+ee+T,dirRecord:m.CENTRAL_FILE_HEADER+S(U,2)+B+S(he.length,2)+"\0\0\0\0"+S(H,4)+S(f,4)+ee+T+he}}var _=M("../utils"),y=M("../stream/GenericWorker"),N=M("../utf8"),d=M("../crc32"),m=M("../signature");function b(h,C,p,f){y.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=C,this.zipPlatform=p,this.encodeFileName=f,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}_.inherits(b,y),b.prototype.push=function(h){var C=h.meta.percent||0,p=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,y.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(C+100*(p-f-1))/p:100}}))},b.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var C=this.streamFiles&&!h.file.dir;if(C){var p=w(h,C,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(h){this.accumulate=!1;var f,C=this.streamFiles&&!h.file.dir,p=w(h,C,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),C)this.push({data:(f=h,m.DATA_DESCRIPTOR+S(f.crc32,4)+S(f.compressedSize,4)+S(f.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var h=this.bytesWritten,C=0;C<this.dirRecords.length;C++)this.push({data:this.dirRecords[C],meta:{percent:100}});var u,g,E,Q,f=(u=this.dirRecords.length,g=this.bytesWritten-h,E=h,Q=_.transformTo("string",(0,this.encodeFileName)(this.zipComment)),m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+S(u,2)+S(u,2)+S(g,4)+S(E,4)+S(Q.length,2)+Q);this.push({data:f,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(h){this._sources.push(h);var C=this;return h.on("data",function(p){C.processChunk(p)}),h.on("end",function(){C.closedSource(C.previous.streamInfo),C._sources.length?C.prepareNextSource():C.end()}),h.on("error",function(p){C.error(p)}),this},b.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(h){var C=this._sources;if(!y.prototype.error.call(this,h))return!1;for(var p=0;p<C.length;p++)try{C[p].error(h)}catch{}return!0},b.prototype.lock=function(){y.prototype.lock.call(this);for(var h=this._sources,C=0;C<h.length;C++)h[C].lock()},I.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(M,I,i){"use strict";var S=M("../compressions"),w=M("./ZipFileWorker");i.generateWorker=function(_,y,N){var d=new w(y.streamFiles,N,y.platform,y.encodeFileName),m=0;try{_.forEach(function(b,h){m++;var C=function(g,E){var k=g||E,R=S[k];if(!R)throw new Error(k+" is not a valid compression method !");return R}(h.options.compression,y.compression),f=h.dir,u=h.date;h._compressWorker(C,h.options.compressionOptions||y.compressionOptions||{}).withStreamInfo("file",{name:b,dir:f,date:u,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(d)}),d.entriesCount=m}catch(b){d.error(b)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(M,I,i){"use strict";function S(){if(!(this instanceof S))return new S;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var w=new S;for(var _ in this)"function"!=typeof this[_]&&(w[_]=this[_]);return w}}(S.prototype=M("./object")).loadAsync=M("./load"),S.support=M("./support"),S.defaults=M("./defaults"),S.version="3.10.1",S.loadAsync=function(w,_){return(new S).loadAsync(w,_)},S.external=M("./external"),I.exports=S},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(M,I,i){"use strict";var S=M("./utils"),w=M("./external"),_=M("./utf8"),y=M("./zipEntries"),N=M("./stream/Crc32Probe"),d=M("./nodejsUtils");function m(b){return new w.Promise(function(h,C){var p=b.decompressed.getContentWorker().pipe(new N);p.on("error",function(f){C(f)}).on("end",function(){p.streamInfo.crc32!==b.decompressed.crc32?C(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}I.exports=function(b,h){var C=this;return h=S.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:_.utf8decode}),d.isNode&&d.isStream(b)?w.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):S.prepareContent("the loaded zip file",b,!0,h.optimizedBinaryString,h.base64).then(function(p){var f=new y(h);return f.load(p),f}).then(function(p){var f=[w.Promise.resolve(p)],u=p.files;if(h.checkCRC32)for(var g=0;g<u.length;g++)f.push(m(u[g]));return w.Promise.all(f)}).then(function(p){for(var f=p.shift(),u=f.files,g=0;g<u.length;g++){var E=u[g],k=E.fileNameStr,R=S.resolve(E.fileNameStr);C.file(R,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:h.createFolders}),E.dir||(C.file(R).unsafeOriginalName=k)}return f.zipComment.length&&(C.comment=f.zipComment),C})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(M,I,i){"use strict";var S=M("../utils"),w=M("../stream/GenericWorker");function _(y,N){w.call(this,"Nodejs stream input adapter for "+y),this._upstreamEnded=!1,this._bindStream(N)}S.inherits(_,w),_.prototype._bindStream=function(y){var N=this;(this._stream=y).pause(),y.on("data",function(d){N.push({data:d,meta:{percent:0}})}).on("error",function(d){N.isPaused?this.generatedError=d:N.error(d)}).on("end",function(){N.isPaused?N._upstreamEnded=!0:N.end()})},_.prototype.pause=function(){return!!w.prototype.pause.call(this)&&(this._stream.pause(),!0)},_.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},I.exports=_},{"../stream/GenericWorker":28,"../utils":32}],13:[function(M,I,i){"use strict";var S=M("readable-stream").Readable;function w(_,y,N){S.call(this,y),this._helper=_;var d=this;_.on("data",function(m,b){d.push(m)||d._helper.pause(),N&&N(b)}).on("error",function(m){d.emit("error",m)}).on("end",function(){d.push(null)})}M("../utils").inherits(w,S),w.prototype._read=function(){this._helper.resume()},I.exports=w},{"../utils":32,"readable-stream":16}],14:[function(M,I,i){"use strict";I.exports={isNode:typeof Buffer<"u",newBufferFrom:function(S,w){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(S,w);if("number"==typeof S)throw new Error('The "data" argument must not be a number');return new Buffer(S,w)},allocBuffer:function(S){if(Buffer.alloc)return Buffer.alloc(S);var w=new Buffer(S);return w.fill(0),w},isBuffer:function(S){return Buffer.isBuffer(S)},isStream:function(S){return S&&"function"==typeof S.on&&"function"==typeof S.pause&&"function"==typeof S.resume}}},{}],15:[function(M,I,i){"use strict";function S(R,Q,$){var ee,K=_.getTypeOf(Q),ne=_.extend($||{},d);ne.date=ne.date||new Date,null!==ne.compression&&(ne.compression=ne.compression.toUpperCase()),"string"==typeof ne.unixPermissions&&(ne.unixPermissions=parseInt(ne.unixPermissions,8)),ne.unixPermissions&&16384&ne.unixPermissions&&(ne.dir=!0),ne.dosPermissions&&16&ne.dosPermissions&&(ne.dir=!0),ne.dir&&(R=u(R)),ne.createFolders&&(ee=f(R))&&g.call(this,ee,!0),$&&void 0!==$.binary||(ne.binary=!("string"===K&&!1===ne.binary&&!1===ne.base64)),(Q instanceof m&&0===Q.uncompressedSize||ne.dir||!Q||0===Q.length)&&(ne.base64=!1,ne.binary=!0,Q="",ne.compression="STORE",K="string");var A;A=Q instanceof m||Q instanceof y?Q:C.isNode&&C.isStream(Q)?new p(R,Q):_.prepareContent(R,Q,ne.binary,ne.optimizedBinaryString,ne.base64);var F=new b(R,A,ne);this.files[R]=F}var w=M("./utf8"),_=M("./utils"),y=M("./stream/GenericWorker"),N=M("./stream/StreamHelper"),d=M("./defaults"),m=M("./compressedObject"),b=M("./zipObject"),h=M("./generate"),C=M("./nodejsUtils"),p=M("./nodejs/NodejsStreamInputAdapter"),f=function(R){"/"===R.slice(-1)&&(R=R.substring(0,R.length-1));var Q=R.lastIndexOf("/");return 0<Q?R.substring(0,Q):""},u=function(R){return"/"!==R.slice(-1)&&(R+="/"),R},g=function(R,Q){return Q=void 0!==Q?Q:d.createFolders,R=u(R),this.files[R]||S.call(this,R,null,{dir:!0,createFolders:Q}),this.files[R]};function E(R){return"[object RegExp]"===Object.prototype.toString.call(R)}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var Q,$,ee;for(Q in this.files)ee=this.files[Q],($=Q.slice(this.root.length,Q.length))&&Q.slice(0,this.root.length)===this.root&&R($,ee)},filter:function(R){var Q=[];return this.forEach(function($,ee){R($,ee)&&Q.push(ee)}),Q},file:function(R,Q,$){if(1!==arguments.length)return S.call(this,R=this.root+R,Q,$),this;if(E(R)){var ee=R;return this.filter(function(ne,he){return!he.dir&&ee.test(ne)})}var K=this.files[this.root+R];return K&&!K.dir?K:null},folder:function(R){if(!R)return this;if(E(R))return this.filter(function(K,ne){return ne.dir&&R.test(K)});var $=g.call(this,this.root+R),ee=this.clone();return ee.root=$.name,ee},remove:function(R){var Q=this.files[R=this.root+R];if(Q||("/"!==R.slice(-1)&&(R+="/"),Q=this.files[R]),Q&&!Q.dir)delete this.files[R];else for(var $=this.filter(function(K,ne){return ne.name.slice(0,R.length)===R}),ee=0;ee<$.length;ee++)delete this.files[$[ee].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var Q,$={};try{if(($=_.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:w.utf8encode})).type=$.type.toLowerCase(),$.compression=$.compression.toUpperCase(),"binarystring"===$.type&&($.type="string"),!$.type)throw new Error("No output type specified.");_.checkSupport($.type),"darwin"!==$.platform&&"freebsd"!==$.platform&&"linux"!==$.platform&&"sunos"!==$.platform||($.platform="UNIX"),"win32"===$.platform&&($.platform="DOS"),Q=h.generateWorker(this,$,$.comment||this.comment||"")}catch(K){(Q=new y("error")).error(K)}return new N(Q,$.type||"string",$.mimeType)},generateAsync:function(R,Q){return this.generateInternalStream(R).accumulate(Q)},generateNodeStream:function(R,Q){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(Q)}};I.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(M,I,i){"use strict";I.exports=M("stream")},{stream:void 0}],17:[function(M,I,i){"use strict";var S=M("./DataReader");function w(_){S.call(this,_);for(var y=0;y<this.data.length;y++)_[y]=255&_[y]}M("../utils").inherits(w,S),w.prototype.byteAt=function(_){return this.data[this.zero+_]},w.prototype.lastIndexOfSignature=function(_){for(var y=_.charCodeAt(0),N=_.charCodeAt(1),d=_.charCodeAt(2),m=_.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===y&&this.data[b+1]===N&&this.data[b+2]===d&&this.data[b+3]===m)return b-this.zero;return-1},w.prototype.readAndCheckSignature=function(_){var y=_.charCodeAt(0),N=_.charCodeAt(1),d=_.charCodeAt(2),m=_.charCodeAt(3),b=this.readData(4);return y===b[0]&&N===b[1]&&d===b[2]&&m===b[3]},w.prototype.readData=function(_){if(this.checkOffset(_),0===_)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,y},I.exports=w},{"../utils":32,"./DataReader":18}],18:[function(M,I,i){"use strict";var S=M("../utils");function w(_){this.data=_,this.length=_.length,this.index=0,this.zero=0}w.prototype={checkOffset:function(_){this.checkIndex(this.index+_)},checkIndex:function(_){if(this.length<this.zero+_||_<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+_+"). Corrupted zip ?")},setIndex:function(_){this.checkIndex(_),this.index=_},skip:function(_){this.setIndex(this.index+_)},byteAt:function(){},readInt:function(_){var y,N=0;for(this.checkOffset(_),y=this.index+_-1;y>=this.index;y--)N=(N<<8)+this.byteAt(y);return this.index+=_,N},readString:function(_){return S.transformTo("string",this.readData(_))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var _=this.readInt(4);return new Date(Date.UTC(1980+(_>>25&127),(_>>21&15)-1,_>>16&31,_>>11&31,_>>5&63,(31&_)<<1))}},I.exports=w},{"../utils":32}],19:[function(M,I,i){"use strict";var S=M("./Uint8ArrayReader");function w(_){S.call(this,_)}M("../utils").inherits(w,S),w.prototype.readData=function(_){this.checkOffset(_);var y=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,y},I.exports=w},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(M,I,i){"use strict";var S=M("./DataReader");function w(_){S.call(this,_)}M("../utils").inherits(w,S),w.prototype.byteAt=function(_){return this.data.charCodeAt(this.zero+_)},w.prototype.lastIndexOfSignature=function(_){return this.data.lastIndexOf(_)-this.zero},w.prototype.readAndCheckSignature=function(_){return _===this.readData(4)},w.prototype.readData=function(_){this.checkOffset(_);var y=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,y},I.exports=w},{"../utils":32,"./DataReader":18}],21:[function(M,I,i){"use strict";var S=M("./ArrayReader");function w(_){S.call(this,_)}M("../utils").inherits(w,S),w.prototype.readData=function(_){if(this.checkOffset(_),0===_)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+_);return this.index+=_,y},I.exports=w},{"../utils":32,"./ArrayReader":17}],22:[function(M,I,i){"use strict";var S=M("../utils"),w=M("../support"),_=M("./ArrayReader"),y=M("./StringReader"),N=M("./NodeBufferReader"),d=M("./Uint8ArrayReader");I.exports=function(m){var b=S.getTypeOf(m);return S.checkSupport(b),"string"!==b||w.uint8array?"nodebuffer"===b?new N(m):w.uint8array?new d(S.transformTo("uint8array",m)):new _(S.transformTo("array",m)):new y(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(M,I,i){"use strict";i.LOCAL_FILE_HEADER="PK\x03\x04",i.CENTRAL_FILE_HEADER="PK\x01\x02",i.CENTRAL_DIRECTORY_END="PK\x05\x06",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(M,I,i){"use strict";var S=M("./GenericWorker"),w=M("../utils");function _(y){S.call(this,"ConvertWorker to "+y),this.destType=y}w.inherits(_,S),_.prototype.processChunk=function(y){this.push({data:w.transformTo(this.destType,y.data),meta:y.meta})},I.exports=_},{"../utils":32,"./GenericWorker":28}],25:[function(M,I,i){"use strict";var S=M("./GenericWorker"),w=M("../crc32");function _(){S.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}M("../utils").inherits(_,S),_.prototype.processChunk=function(y){this.streamInfo.crc32=w(y.data,this.streamInfo.crc32||0),this.push(y)},I.exports=_},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(M,I,i){"use strict";var S=M("../utils"),w=M("./GenericWorker");function _(y){w.call(this,"DataLengthProbe for "+y),this.propName=y,this.withStreamInfo(y,0)}S.inherits(_,w),_.prototype.processChunk=function(y){y&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+y.data.length),w.prototype.processChunk.call(this,y)},I.exports=_},{"../utils":32,"./GenericWorker":28}],27:[function(M,I,i){"use strict";var S=M("../utils"),w=M("./GenericWorker");function _(y){w.call(this,"DataWorker");var N=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(d){N.dataIsReady=!0,N.data=d,N.max=d&&d.length||0,N.type=S.getTypeOf(d),N.isPaused||N._tickAndRepeat()},function(d){N.error(d)})}S.inherits(_,w),_.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this.data=null},_.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,S.delay(this._tickAndRepeat,[],this)),!0)},_.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(S.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},_.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=null,N=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":y=this.data.substring(this.index,N);break;case"uint8array":y=this.data.subarray(this.index,N);break;case"array":case"nodebuffer":y=this.data.slice(this.index,N)}return this.index=N,this.push({data:y,meta:{percent:this.max?this.index/this.max*100:0}})},I.exports=_},{"../utils":32,"./GenericWorker":28}],28:[function(M,I,i){"use strict";function S(w){this.name=w||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}S.prototype={push:function(w){this.emit("data",w)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(w){this.emit("error",w)}return!0},error:function(w){return!this.isFinished&&(this.isPaused?this.generatedError=w:(this.isFinished=!0,this.emit("error",w),this.previous&&this.previous.error(w),this.cleanUp()),!0)},on:function(w,_){return this._listeners[w].push(_),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(w,_){if(this._listeners[w])for(var y=0;y<this._listeners[w].length;y++)this._listeners[w][y].call(this,_)},pipe:function(w){return w.registerPrevious(this)},registerPrevious:function(w){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=w.streamInfo,this.mergeStreamInfo(),this.previous=w;var _=this;return w.on("data",function(y){_.processChunk(y)}),w.on("end",function(){_.end()}),w.on("error",function(y){_.error(y)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var w=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),w=!0),this.previous&&this.previous.resume(),!w},flush:function(){},processChunk:function(w){this.push(w)},withStreamInfo:function(w,_){return this.extraStreamInfo[w]=_,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var w in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,w)&&(this.streamInfo[w]=this.extraStreamInfo[w])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var w="Worker "+this.name;return this.previous?this.previous+" -> "+w:w}},I.exports=S},{}],29:[function(M,I,i){"use strict";var S=M("../utils"),w=M("./ConvertWorker"),_=M("./GenericWorker"),y=M("../base64"),N=M("../support"),d=M("../external"),m=null;if(N.nodestream)try{m=M("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(C,p,f){var u=p;switch(p){case"blob":case"arraybuffer":u="uint8array";break;case"base64":u="string"}try{this._internalType=u,this._outputType=p,this._mimeType=f,S.checkSupport(u),this._worker=C.pipe(new w(u)),C.lock()}catch(g){this._worker=new _("error"),this._worker.error(g)}}h.prototype={accumulate:function(C){return function b(C,p){return new d.Promise(function(f,u){var g=[],E=C._internalType,k=C._outputType,R=C._mimeType;C.on("data",function(Q,$){g.push(Q),p&&p($)}).on("error",function(Q){g=[],u(Q)}).on("end",function(){try{var Q=function($,ee,K){switch($){case"blob":return S.newBlob(S.transformTo("arraybuffer",ee),K);case"base64":return y.encode(ee);default:return S.transformTo($,ee)}}(k,function($,ee){var K,ne=0,he=null,A=0;for(K=0;K<ee.length;K++)A+=ee[K].length;switch($){case"string":return ee.join("");case"array":return Array.prototype.concat.apply([],ee);case"uint8array":for(he=new Uint8Array(A),K=0;K<ee.length;K++)he.set(ee[K],ne),ne+=ee[K].length;return he;case"nodebuffer":return Buffer.concat(ee);default:throw new Error("concat : unsupported type '"+$+"'")}}(E,g),R);f(Q)}catch($){u($)}g=[]}).resume()})}(this,C)},on:function(C,p){var f=this;return this._worker.on(C,"data"===C?function(u){p.call(f,u.data,u.meta)}:function(){S.delay(p,arguments,f)}),this},resume:function(){return S.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(S.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:"nodebuffer"!==this._outputType},C)}},I.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(M,I,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var S=new ArrayBuffer(0);try{i.blob=0===new Blob([S],{type:"application/zip"}).size}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);w.append(S),i.blob=0===w.getBlob("application/zip").size}catch{i.blob=!1}}}try{i.nodestream=!!M("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(M,I,i){"use strict";for(var S=M("./utils"),w=M("./support"),_=M("./nodejsUtils"),y=M("./stream/GenericWorker"),N=new Array(256),d=0;d<256;d++)N[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function m(){y.call(this,"utf-8 decode"),this.leftOver=null}function b(){y.call(this,"utf-8 encode")}N[254]=N[254]=1,i.utf8encode=function(h){return w.nodebuffer?_.newBufferFrom(h,"utf-8"):function(C){var p,f,u,g,E,k=C.length,R=0;for(g=0;g<k;g++)55296==(64512&(f=C.charCodeAt(g)))&&g+1<k&&56320==(64512&(u=C.charCodeAt(g+1)))&&(f=65536+(f-55296<<10)+(u-56320),g++),R+=f<128?1:f<2048?2:f<65536?3:4;for(p=w.uint8array?new Uint8Array(R):new Array(R),g=E=0;E<R;g++)55296==(64512&(f=C.charCodeAt(g)))&&g+1<k&&56320==(64512&(u=C.charCodeAt(g+1)))&&(f=65536+(f-55296<<10)+(u-56320),g++),f<128?p[E++]=f:(f<2048?p[E++]=192|f>>>6:(f<65536?p[E++]=224|f>>>12:(p[E++]=240|f>>>18,p[E++]=128|f>>>12&63),p[E++]=128|f>>>6&63),p[E++]=128|63&f);return p}(h)},i.utf8decode=function(h){return w.nodebuffer?S.transformTo("nodebuffer",h).toString("utf-8"):function(C){var p,f,u,g,E=C.length,k=new Array(2*E);for(p=f=0;p<E;)if((u=C[p++])<128)k[f++]=u;else if(4<(g=N[u]))k[f++]=65533,p+=g-1;else{for(u&=2===g?31:3===g?15:7;1<g&&p<E;)u=u<<6|63&C[p++],g--;1<g?k[f++]=65533:u<65536?k[f++]=u:(k[f++]=55296|(u-=65536)>>10&1023,k[f++]=56320|1023&u)}return k.length!==f&&(k.subarray?k=k.subarray(0,f):k.length=f),S.applyFromCharCode(k)}(h=S.transformTo(w.uint8array?"uint8array":"array",h))},S.inherits(m,y),m.prototype.processChunk=function(h){var C=S.transformTo(w.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(w.uint8array){var p=C;(C=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),C.set(p,this.leftOver.length)}else C=this.leftOver.concat(C);this.leftOver=null}var f=function(g,E){var k;for((E=E||g.length)>g.length&&(E=g.length),k=E-1;0<=k&&128==(192&g[k]);)k--;return k<0||0===k?E:k+N[g[k]]>E?k:E}(C),u=C;f!==C.length&&(w.uint8array?(u=C.subarray(0,f),this.leftOver=C.subarray(f,C.length)):(u=C.slice(0,f),this.leftOver=C.slice(f,C.length))),this.push({data:i.utf8decode(u),meta:h.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,S.inherits(b,y),b.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(M,I,i){"use strict";var S=M("./support"),w=M("./base64"),_=M("./nodejsUtils"),y=M("./external");function N(p){return p}function d(p,f){for(var u=0;u<p.length;++u)f[u]=255&p.charCodeAt(u);return f}M("setimmediate"),i.newBlob=function(p,f){i.checkSupport("blob");try{return new Blob([p],{type:f})}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return u.append(p),u.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(p,f,u){var g=[],E=0,k=p.length;if(k<=u)return String.fromCharCode.apply(null,p);for(;E<k;)g.push(String.fromCharCode.apply(null,"array"===f||"nodebuffer"===f?p.slice(E,Math.min(E+u,k)):p.subarray(E,Math.min(E+u,k)))),E+=u;return g.join("")},stringifyByChar:function(p){for(var f="",u=0;u<p.length;u++)f+=String.fromCharCode(p[u]);return f},applyCanBeUsed:{uint8array:function(){try{return S.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return S.nodebuffer&&1===String.fromCharCode.apply(null,_.allocBuffer(1)).length}catch{return!1}}()}};function b(p){var f=65536,u=i.getTypeOf(p),g=!0;if("uint8array"===u?g=m.applyCanBeUsed.uint8array:"nodebuffer"===u&&(g=m.applyCanBeUsed.nodebuffer),g)for(;1<f;)try{return m.stringifyByChunk(p,u,f)}catch{f=Math.floor(f/2)}return m.stringifyByChar(p)}function h(p,f){for(var u=0;u<p.length;u++)f[u]=p[u];return f}i.applyFromCharCode=b;var C={};C.string={string:N,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return C.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,_.allocBuffer(p.length))}},C.array={string:b,array:N,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return _.newBufferFrom(p)}},C.arraybuffer={string:function(p){return b(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:N,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return _.newBufferFrom(new Uint8Array(p))}},C.uint8array={string:b,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:N,nodebuffer:function(p){return _.newBufferFrom(p)}},C.nodebuffer={string:b,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return C.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:N},i.transformTo=function(p,f){if(f=f||"",!p)return f;i.checkSupport(p);var u=i.getTypeOf(f);return C[u][p](f)},i.resolve=function(p){for(var f=p.split("/"),u=[],g=0;g<f.length;g++){var E=f[g];"."===E||""===E&&0!==g&&g!==f.length-1||(".."===E?u.pop():u.push(E))}return u.join("/")},i.getTypeOf=function(p){return"string"==typeof p?"string":"[object Array]"===Object.prototype.toString.call(p)?"array":S.nodebuffer&&_.isBuffer(p)?"nodebuffer":S.uint8array&&p instanceof Uint8Array?"uint8array":S.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!S[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var f,u,g="";for(u=0;u<(p||"").length;u++)g+="\\x"+((f=p.charCodeAt(u))<16?"0":"")+f.toString(16).toUpperCase();return g},i.delay=function(p,f,u){setImmediate(function(){p.apply(u||null,f||[])})},i.inherits=function(p,f){function u(){}u.prototype=f.prototype,p.prototype=new u},i.extend=function(){var p,f,u={};for(p=0;p<arguments.length;p++)for(f in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],f)&&void 0===u[f]&&(u[f]=arguments[p][f]);return u},i.prepareContent=function(p,f,u,g,E){return y.Promise.resolve(f).then(function(k){return S.blob&&(k instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k)))&&typeof FileReader<"u"?new y.Promise(function(R,Q){var $=new FileReader;$.onload=function(ee){R(ee.target.result)},$.onerror=function(ee){Q(ee.target.error)},$.readAsArrayBuffer(k)}):k}).then(function(k){var Q,R=i.getTypeOf(k);return R?("arraybuffer"===R?k=i.transformTo("uint8array",k):"string"===R&&(E?k=w.decode(k):u&&!0!==g&&(k=d(Q=k,S.uint8array?new Uint8Array(Q.length):new Array(Q.length)))),k):y.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(M,I,i){"use strict";var S=M("./reader/readerFor"),w=M("./utils"),_=M("./signature"),y=M("./zipEntry"),N=M("./support");function d(m){this.files=[],this.loadOptions=m}d.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+w.pretty(b)+", expected "+w.pretty(m)+")")}},isSignature:function(m,b){var h=this.reader.index;this.reader.setIndex(m);var C=this.reader.readString(4)===b;return this.reader.setIndex(h),C},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),h=w.transformTo(N.uint8array?"uint8array":"array",m);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,b,h,C=this.zip64EndOfCentralSize-44;0<C;)m=this.reader.readInt(2),b=this.reader.readInt(4),h=this.reader.readData(b),this.zip64ExtensibleData[m]={id:m,length:b,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,b;for(m=0;m<this.files.length;m++)this.reader.setIndex((b=this.files[m]).localHeaderOffset),this.checkSignature(_.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(_.CENTRAL_FILE_HEADER);)(m=new y({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(_.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,_.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var b=m;if(this.checkSignature(_.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===w.MAX_VALUE_16BITS||this.diskWithCentralDirStart===w.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===w.MAX_VALUE_16BITS||this.centralDirRecords===w.MAX_VALUE_16BITS||this.centralDirSize===w.MAX_VALUE_32BITS||this.centralDirOffset===w.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,_.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var C=b-h;if(0<C)this.isSignature(b,_.CENTRAL_FILE_HEADER)||(this.reader.zero=C);else if(C<0)throw new Error("Corrupted zip: missing "+Math.abs(C)+" bytes.")},prepareReader:function(m){this.reader=S(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},I.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(M,I,i){"use strict";var S=M("./reader/readerFor"),w=M("./utils"),_=M("./compressedObject"),y=M("./crc32"),N=M("./utf8"),d=M("./compressions"),m=M("./support");function b(h,C){this.options=h,this.loadOptions=C}b.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(h){var C,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(C=function(f){for(var u in d)if(Object.prototype.hasOwnProperty.call(d,u)&&d[u].magic===f)return d[u];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+w.pretty(this.compressionMethod)+" unknown (inner file : "+w.transformTo("string",this.fileName)+")");this.decompressed=new _(this.compressedSize,this.uncompressedSize,this.crc32,C,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var C=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(C),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==h&&(this.dosPermissions=63&this.externalFileAttributes),3==h&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=S(this.extraFields[1].value);this.uncompressedSize===w.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===w.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===w.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===w.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var C,p,f,u=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<u;)C=h.readInt(2),p=h.readInt(2),f=h.readData(p),this.extraFields[C]={id:C,length:p,value:f};h.setIndex(u)},handleUTF8:function(){var h=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=N.utf8decode(this.fileName),this.fileCommentStr=N.utf8decode(this.fileComment);else{var C=this.findExtraFieldUnicodePath();if(null!==C)this.fileNameStr=C;else{var p=w.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var f=this.findExtraFieldUnicodeComment();if(null!==f)this.fileCommentStr=f;else{var u=w.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(u)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var C=S(h.value);return 1!==C.readInt(1)||y(this.fileName)!==C.readInt(4)?null:N.utf8decode(C.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var C=S(h.value);return 1!==C.readInt(1)||y(this.fileComment)!==C.readInt(4)?null:N.utf8decode(C.readData(h.length-5))}return null}},I.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(M,I,i){"use strict";function S(C,p,f){this.name=C,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=p,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var w=M("./stream/StreamHelper"),_=M("./stream/DataWorker"),y=M("./utf8"),N=M("./compressedObject"),d=M("./stream/GenericWorker");S.prototype={internalStream:function(C){var p=null,f="string";try{if(!C)throw new Error("No output type specified.");var u="string"===(f=C.toLowerCase())||"text"===f;"binarystring"!==f&&"text"!==f||(f="string"),p=this._decompressWorker();var g=!this._dataBinary;g&&!u&&(p=p.pipe(new y.Utf8EncodeWorker)),!g&&u&&(p=p.pipe(new y.Utf8DecodeWorker))}catch(E){(p=new d("error")).error(E)}return new w(p,f,"")},async:function(C,p){return this.internalStream(C).accumulate(p)},nodeStream:function(C,p){return this.internalStream(C||"nodebuffer").toNodejsStream(p)},_compressWorker:function(C,p){if(this._data instanceof N&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new y.Utf8EncodeWorker)),N.createWorkerFrom(f,C,p)},_decompressWorker:function(){return this._data instanceof N?this._data.getContentWorker():this._data instanceof d?this._data:new _(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<m.length;h++)S.prototype[m[h]]=b;I.exports=S},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(M,I,i){(function(S){"use strict";var w,_,y=S.MutationObserver||S.WebKitMutationObserver;if(y){var N=0,d=new y(C),m=S.document.createTextNode("");d.observe(m,{characterData:!0}),w=function(){m.data=N=++N%2}}else if(S.setImmediate||void 0===S.MessageChannel)w="document"in S&&"onreadystatechange"in S.document.createElement("script")?function(){var p=S.document.createElement("script");p.onreadystatechange=function(){C(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},S.document.documentElement.appendChild(p)}:function(){setTimeout(C,0)};else{var b=new S.MessageChannel;b.port1.onmessage=C,w=function(){b.port2.postMessage(0)}}var h=[];function C(){var p,f;_=!0;for(var u=h.length;u;){for(f=h,h=[],p=-1;++p<u;)f[p]();u=h.length}_=!1}I.exports=function(p){1!==h.push(p)||_||w()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(M,I,i){"use strict";var S=M("immediate");function w(){}var _={},y=["REJECTED"],N=["FULFILLED"],d=["PENDING"];function m(u){if("function"!=typeof u)throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,u!==w&&p(this,u)}function b(u,g,E){this.promise=u,"function"==typeof g&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),"function"==typeof E&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function h(u,g,E){S(function(){var k;try{k=g(E)}catch(R){return _.reject(u,R)}k===u?_.reject(u,new TypeError("Cannot resolve promise with itself")):_.resolve(u,k)})}function C(u){var g=u&&u.then;if(u&&("object"==typeof u||"function"==typeof u)&&"function"==typeof g)return function(){g.apply(u,arguments)}}function p(u,g){var E=!1;function k($){E||(E=!0,_.reject(u,$))}function R($){E||(E=!0,_.resolve(u,$))}var Q=f(function(){g(R,k)});"error"===Q.status&&k(Q.value)}function f(u,g){var E={};try{E.value=u(g),E.status="success"}catch(k){E.status="error",E.value=k}return E}(I.exports=m).prototype.finally=function(u){if("function"!=typeof u)return this;var g=this.constructor;return this.then(function(E){return g.resolve(u()).then(function(){return E})},function(E){return g.resolve(u()).then(function(){throw E})})},m.prototype.catch=function(u){return this.then(null,u)},m.prototype.then=function(u,g){if("function"!=typeof u&&this.state===N||"function"!=typeof g&&this.state===y)return this;var E=new this.constructor(w);return this.state!==d?h(E,this.state===N?u:g,this.outcome):this.queue.push(new b(E,u,g)),E},b.prototype.callFulfilled=function(u){_.resolve(this.promise,u)},b.prototype.otherCallFulfilled=function(u){h(this.promise,this.onFulfilled,u)},b.prototype.callRejected=function(u){_.reject(this.promise,u)},b.prototype.otherCallRejected=function(u){h(this.promise,this.onRejected,u)},_.resolve=function(u,g){var E=f(C,g);if("error"===E.status)return _.reject(u,E.value);var k=E.value;if(k)p(u,k);else{u.state=N,u.outcome=g;for(var R=-1,Q=u.queue.length;++R<Q;)u.queue[R].callFulfilled(g)}return u},_.reject=function(u,g){u.state=y,u.outcome=g;for(var E=-1,k=u.queue.length;++E<k;)u.queue[E].callRejected(g);return u},m.resolve=function(u){return u instanceof this?u:_.resolve(new this(w),u)},m.reject=function(u){var g=new this(w);return _.reject(g,u)},m.all=function(u){var g=this;if("[object Array]"!==Object.prototype.toString.call(u))return this.reject(new TypeError("must be an array"));var E=u.length,k=!1;if(!E)return this.resolve([]);for(var R=new Array(E),Q=0,$=-1,ee=new this(w);++$<E;)K(u[$],$);return ee;function K(ne,he){g.resolve(ne).then(function(A){R[he]=A,++Q!==E||k||(k=!0,_.resolve(ee,R))},function(A){k||(k=!0,_.reject(ee,A))})}},m.race=function(u){if("[object Array]"!==Object.prototype.toString.call(u))return this.reject(new TypeError("must be an array"));var E=u.length,k=!1;if(!E)return this.resolve([]);for(var R=-1,Q=new this(w);++R<E;)this.resolve(u[R]).then(function(ee){k||(k=!0,_.resolve(Q,ee))},function(ee){k||(k=!0,_.reject(Q,ee))});return Q}},{immediate:36}],38:[function(M,I,i){"use strict";var S={};(0,M("./lib/utils/common").assign)(S,M("./lib/deflate"),M("./lib/inflate"),M("./lib/zlib/constants")),I.exports=S},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(M,I,i){"use strict";var S=M("./zlib/deflate"),w=M("./utils/common"),_=M("./utils/strings"),y=M("./zlib/messages"),N=M("./zlib/zstream"),d=Object.prototype.toString,m=0,b=-1,h=0,C=8;function p(u){if(!(this instanceof p))return new p(u);this.options=w.assign({level:b,method:C,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},u||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N,this.strm.avail_out=0;var E=S.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(E!==m)throw new Error(y[E]);if(g.header&&S.deflateSetHeader(this.strm,g.header),g.dictionary){var k;if(k="string"==typeof g.dictionary?_.string2buf(g.dictionary):"[object ArrayBuffer]"===d.call(g.dictionary)?new Uint8Array(g.dictionary):g.dictionary,(E=S.deflateSetDictionary(this.strm,k))!==m)throw new Error(y[E]);this._dict_set=!0}}function f(u,g){var E=new p(g);if(E.push(u,!0),E.err)throw E.msg||y[E.err];return E.result}p.prototype.push=function(u,g){var E,k,R=this.strm,Q=this.options.chunkSize;if(this.ended)return!1;k=g===~~g?g:!0===g?4:0,R.input="string"==typeof u?_.string2buf(u):"[object ArrayBuffer]"===d.call(u)?new Uint8Array(u):u,R.next_in=0,R.avail_in=R.input.length;do{if(0===R.avail_out&&(R.output=new w.Buf8(Q),R.next_out=0,R.avail_out=Q),1!==(E=S.deflate(R,k))&&E!==m)return this.onEnd(E),!(this.ended=!0);0!==R.avail_out&&(0!==R.avail_in||4!==k&&2!==k)||this.onData("string"===this.options.to?_.buf2binstring(w.shrinkBuf(R.output,R.next_out)):w.shrinkBuf(R.output,R.next_out))}while((0<R.avail_in||0===R.avail_out)&&1!==E);return 4===k?(E=S.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===m):2!==k||(this.onEnd(m),!(R.avail_out=0))},p.prototype.onData=function(u){this.chunks.push(u)},p.prototype.onEnd=function(u){u===m&&(this.result="string"===this.options.to?this.chunks.join(""):w.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},i.Deflate=p,i.deflate=f,i.deflateRaw=function(u,g){return(g=g||{}).raw=!0,f(u,g)},i.gzip=function(u,g){return(g=g||{}).gzip=!0,f(u,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(M,I,i){"use strict";var S=M("./zlib/inflate"),w=M("./utils/common"),_=M("./utils/strings"),y=M("./zlib/constants"),N=M("./zlib/messages"),d=M("./zlib/zstream"),m=M("./zlib/gzheader"),b=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},p||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,0===f.windowBits&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||p&&p.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&!(15&f.windowBits)&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var u=S.inflateInit2(this.strm,f.windowBits);if(u!==y.Z_OK)throw new Error(N[u]);this.header=new m,S.inflateGetHeader(this.strm,this.header)}function C(p,f){var u=new h(f);if(u.push(p,!0),u.err)throw u.msg||N[u.err];return u.result}h.prototype.push=function(p,f){var u,g,E,k,R,Q,$=this.strm,ee=this.options.chunkSize,K=this.options.dictionary,ne=!1;if(this.ended)return!1;g=f===~~f?f:!0===f?y.Z_FINISH:y.Z_NO_FLUSH,$.input="string"==typeof p?_.binstring2buf(p):"[object ArrayBuffer]"===b.call(p)?new Uint8Array(p):p,$.next_in=0,$.avail_in=$.input.length;do{if(0===$.avail_out&&($.output=new w.Buf8(ee),$.next_out=0,$.avail_out=ee),(u=S.inflate($,y.Z_NO_FLUSH))===y.Z_NEED_DICT&&K&&(Q="string"==typeof K?_.string2buf(K):"[object ArrayBuffer]"===b.call(K)?new Uint8Array(K):K,u=S.inflateSetDictionary(this.strm,Q)),u===y.Z_BUF_ERROR&&!0===ne&&(u=y.Z_OK,ne=!1),u!==y.Z_STREAM_END&&u!==y.Z_OK)return this.onEnd(u),!(this.ended=!0);$.next_out&&(0!==$.avail_out&&u!==y.Z_STREAM_END&&(0!==$.avail_in||g!==y.Z_FINISH&&g!==y.Z_SYNC_FLUSH)||("string"===this.options.to?(E=_.utf8border($.output,$.next_out),k=$.next_out-E,R=_.buf2string($.output,E),$.next_out=k,$.avail_out=ee-k,k&&w.arraySet($.output,$.output,E,k,0),this.onData(R)):this.onData(w.shrinkBuf($.output,$.next_out)))),0===$.avail_in&&0===$.avail_out&&(ne=!0)}while((0<$.avail_in||0===$.avail_out)&&u!==y.Z_STREAM_END);return u===y.Z_STREAM_END&&(g=y.Z_FINISH),g===y.Z_FINISH?(u=S.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===y.Z_OK):g!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),!($.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===y.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):w.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=h,i.inflate=C,i.inflateRaw=function(p,f){return(f=f||{}).raw=!0,C(p,f)},i.ungzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(M,I,i){"use strict";var S=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(y){for(var N=Array.prototype.slice.call(arguments,1);N.length;){var d=N.shift();if(d){if("object"!=typeof d)throw new TypeError(d+"must be non-object");for(var m in d)d.hasOwnProperty(m)&&(y[m]=d[m])}}return y},i.shrinkBuf=function(y,N){return y.length===N?y:y.subarray?y.subarray(0,N):(y.length=N,y)};var w={arraySet:function(y,N,d,m,b){if(N.subarray&&y.subarray)y.set(N.subarray(d,d+m),b);else for(var h=0;h<m;h++)y[b+h]=N[d+h]},flattenChunks:function(y){var N,d,m,b,h,C;for(N=m=0,d=y.length;N<d;N++)m+=y[N].length;for(C=new Uint8Array(m),N=b=0,d=y.length;N<d;N++)C.set(h=y[N],b),b+=h.length;return C}},_={arraySet:function(y,N,d,m,b){for(var h=0;h<m;h++)y[b+h]=N[d+h]},flattenChunks:function(y){return[].concat.apply([],y)}};i.setTyped=function(y){y?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,w)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,_))},i.setTyped(S)},{}],42:[function(M,I,i){"use strict";var S=M("./common"),w=!0,_=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_=!1}for(var y=new S.Buf8(256),N=0;N<256;N++)y[N]=252<=N?6:248<=N?5:240<=N?4:224<=N?3:192<=N?2:1;function d(m,b){if(b<65537&&(m.subarray&&_||!m.subarray&&w))return String.fromCharCode.apply(null,S.shrinkBuf(m,b));for(var h="",C=0;C<b;C++)h+=String.fromCharCode(m[C]);return h}y[254]=y[254]=1,i.string2buf=function(m){var b,h,C,p,f,u=m.length,g=0;for(p=0;p<u;p++)55296==(64512&(h=m.charCodeAt(p)))&&p+1<u&&56320==(64512&(C=m.charCodeAt(p+1)))&&(h=65536+(h-55296<<10)+(C-56320),p++),g+=h<128?1:h<2048?2:h<65536?3:4;for(b=new S.Buf8(g),p=f=0;f<g;p++)55296==(64512&(h=m.charCodeAt(p)))&&p+1<u&&56320==(64512&(C=m.charCodeAt(p+1)))&&(h=65536+(h-55296<<10)+(C-56320),p++),h<128?b[f++]=h:(h<2048?b[f++]=192|h>>>6:(h<65536?b[f++]=224|h>>>12:(b[f++]=240|h>>>18,b[f++]=128|h>>>12&63),b[f++]=128|h>>>6&63),b[f++]=128|63&h);return b},i.buf2binstring=function(m){return d(m,m.length)},i.binstring2buf=function(m){for(var b=new S.Buf8(m.length),h=0,C=b.length;h<C;h++)b[h]=m.charCodeAt(h);return b},i.buf2string=function(m,b){var h,C,p,f,u=b||m.length,g=new Array(2*u);for(h=C=0;h<u;)if((p=m[h++])<128)g[C++]=p;else if(4<(f=y[p]))g[C++]=65533,h+=f-1;else{for(p&=2===f?31:3===f?15:7;1<f&&h<u;)p=p<<6|63&m[h++],f--;1<f?g[C++]=65533:p<65536?g[C++]=p:(g[C++]=55296|(p-=65536)>>10&1023,g[C++]=56320|1023&p)}return d(g,C)},i.utf8border=function(m,b){var h;for((b=b||m.length)>m.length&&(b=m.length),h=b-1;0<=h&&128==(192&m[h]);)h--;return h<0||0===h?b:h+y[m[h]]>b?h:b}},{"./common":41}],43:[function(M,I,i){"use strict";I.exports=function(S,w,_,y){for(var N=65535&S,d=S>>>16&65535,m=0;0!==_;){for(_-=m=2e3<_?2e3:_;d=d+(N=N+w[y++]|0)|0,--m;);N%=65521,d%=65521}return N|d<<16}},{}],44:[function(M,I,i){"use strict";I.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(M,I,i){"use strict";var S=function(){for(var w,_=[],y=0;y<256;y++){w=y;for(var N=0;N<8;N++)w=1&w?3988292384^w>>>1:w>>>1;_[y]=w}return _}();I.exports=function(w,_,y,N){var d=S,m=N+y;w^=-1;for(var b=N;b<m;b++)w=w>>>8^d[255&(w^_[b])];return~w}},{}],46:[function(M,I,i){"use strict";var S,w=M("../utils/common"),_=M("./trees"),y=M("./adler32"),N=M("./crc32"),d=M("./messages"),m=0,h=0,C=-2,u=2,g=8,k=286,R=30,Q=19,$=2*k+1,ee=15,K=3,ne=258,he=ne+K+1,A=42,F=113;function oe(o,q){return o.msg=d[q],q}function J(o){return(o<<1)-(4<o?9:0)}function de(o){for(var q=o.length;0<=--q;)o[q]=0}function V(o){var q=o.state,W=q.pending;W>o.avail_out&&(W=o.avail_out),0!==W&&(w.arraySet(o.output,q.pending_buf,q.pending_out,W,o.next_out),o.next_out+=W,q.pending_out+=W,o.total_out+=W,o.avail_out-=W,q.pending-=W,0===q.pending&&(q.pending_out=0))}function H(o,q){_._tr_flush_block(o,0<=o.block_start?o.block_start:-1,o.strstart-o.block_start,q),o.block_start=o.strstart,V(o.strm)}function U(o,q){o.pending_buf[o.pending++]=q}function B(o,q){o.pending_buf[o.pending++]=q>>>8&255,o.pending_buf[o.pending++]=255&q}function Y(o,q){var W,D,v=o.max_chain_length,x=o.strstart,Z=o.prev_length,X=o.nice_match,j=o.strstart>o.w_size-he?o.strstart-(o.w_size-he):0,te=o.window,le=o.w_mask,re=o.prev,pe=o.strstart+ne,Oe=te[x+Z-1],De=te[x+Z];o.prev_length>=o.good_match&&(v>>=2),X>o.lookahead&&(X=o.lookahead);do{if(te[(W=q)+Z]===De&&te[W+Z-1]===Oe&&te[W]===te[x]&&te[++W]===te[x+1]){x+=2,W++;do{}while(te[++x]===te[++W]&&te[++x]===te[++W]&&te[++x]===te[++W]&&te[++x]===te[++W]&&te[++x]===te[++W]&&te[++x]===te[++W]&&te[++x]===te[++W]&&te[++x]===te[++W]&&x<pe);if(D=ne-(pe-x),x=pe-ne,Z<D){if(o.match_start=q,X<=(Z=D))break;Oe=te[x+Z-1],De=te[x+Z]}}}while((q=re[q&le])>j&&0!=--v);return Z<=o.lookahead?Z:o.lookahead}function ge(o){var q,W,D,v,x,Z,X,j,te,le,re=o.w_size;do{if(v=o.window_size-o.lookahead-o.strstart,o.strstart>=re+(re-he)){for(w.arraySet(o.window,o.window,re,re,0),o.match_start-=re,o.strstart-=re,o.block_start-=re,q=W=o.hash_size;D=o.head[--q],o.head[q]=re<=D?D-re:0,--W;);for(q=W=re;D=o.prev[--q],o.prev[q]=re<=D?D-re:0,--W;);v+=re}if(0===o.strm.avail_in)break;if(X=o.window,j=o.strstart+o.lookahead,le=void 0,(te=v)<(le=(Z=o.strm).avail_in)&&(le=te),W=0===le?0:(Z.avail_in-=le,w.arraySet(X,Z.input,Z.next_in,le,j),1===Z.state.wrap?Z.adler=y(Z.adler,X,le,j):2===Z.state.wrap&&(Z.adler=N(Z.adler,X,le,j)),Z.next_in+=le,Z.total_in+=le,le),o.lookahead+=W,o.lookahead+o.insert>=K)for(o.ins_h=o.window[x=o.strstart-o.insert],o.ins_h=(o.ins_h<<o.hash_shift^o.window[x+1])&o.hash_mask;o.insert&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[x+K-1])&o.hash_mask,o.prev[x&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=x,x++,o.insert--,!(o.lookahead+o.insert<K)););}while(o.lookahead<he&&0!==o.strm.avail_in)}function Se(o,q){for(var W,D;;){if(o.lookahead<he){if(ge(o),o.lookahead<he&&q===m)return 1;if(0===o.lookahead)break}if(W=0,o.lookahead>=K&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+K-1])&o.hash_mask,W=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),0!==W&&o.strstart-W<=o.w_size-he&&(o.match_length=Y(o,W)),o.match_length>=K)if(D=_._tr_tally(o,o.strstart-o.match_start,o.match_length-K),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=K){for(o.match_length--;o.strstart++,o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+K-1])&o.hash_mask,W=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart,0!=--o.match_length;);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+1])&o.hash_mask;else D=_._tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(D&&(H(o,!1),0===o.strm.avail_out))return 1}return o.insert=o.strstart<K-1?o.strstart:K-1,4===q?(H(o,!0),0===o.strm.avail_out?3:4):o.last_lit&&(H(o,!1),0===o.strm.avail_out)?1:2}function fe(o,q){for(var W,D,v;;){if(o.lookahead<he){if(ge(o),o.lookahead<he&&q===m)return 1;if(0===o.lookahead)break}if(W=0,o.lookahead>=K&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+K-1])&o.hash_mask,W=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=K-1,0!==W&&o.prev_length<o.max_lazy_match&&o.strstart-W<=o.w_size-he&&(o.match_length=Y(o,W),o.match_length<=5&&(1===o.strategy||o.match_length===K&&4096<o.strstart-o.match_start)&&(o.match_length=K-1)),o.prev_length>=K&&o.match_length<=o.prev_length){for(v=o.strstart+o.lookahead-K,D=_._tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-K),o.lookahead-=o.prev_length-1,o.prev_length-=2;++o.strstart<=v&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+K-1])&o.hash_mask,W=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),0!=--o.prev_length;);if(o.match_available=0,o.match_length=K-1,o.strstart++,D&&(H(o,!1),0===o.strm.avail_out))return 1}else if(o.match_available){if((D=_._tr_tally(o,0,o.window[o.strstart-1]))&&H(o,!1),o.strstart++,o.lookahead--,0===o.strm.avail_out)return 1}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(D=_._tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<K-1?o.strstart:K-1,4===q?(H(o,!0),0===o.strm.avail_out?3:4):o.last_lit&&(H(o,!1),0===o.strm.avail_out)?1:2}function ue(o,q,W,D,v){this.good_length=o,this.max_lazy=q,this.nice_length=W,this.max_chain=D,this.func=v}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(2*$),this.dyn_dtree=new w.Buf16(2*(2*R+1)),this.bl_tree=new w.Buf16(2*(2*Q+1)),de(this.dyn_ltree),de(this.dyn_dtree),de(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(ee+1),this.heap=new w.Buf16(2*k+1),de(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(2*k+1),de(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function me(o){var q;return o&&o.state?(o.total_in=o.total_out=0,o.data_type=u,(q=o.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?A:F,o.adler=2===q.wrap?0:1,q.last_flush=m,_._tr_init(q),h):oe(o,C)}function xe(o){var W,q=me(o);return q===h&&((W=o.state).window_size=2*W.w_size,de(W.head),W.max_lazy_match=S[W.level].max_lazy,W.good_match=S[W.level].good_length,W.nice_match=S[W.level].nice_length,W.max_chain_length=S[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=K-1,W.match_available=0,W.ins_h=0),q}function Ae(o,q,W,D,v,x){if(!o)return C;var Z=1;if(-1===q&&(q=6),D<0?(Z=0,D=-D):15<D&&(Z=2,D-=16),v<1||9<v||W!==g||D<8||15<D||q<0||9<q||x<0||4<x)return oe(o,C);8===D&&(D=9);var X=new be;return(o.state=X).strm=o,X.wrap=Z,X.gzhead=null,X.w_bits=D,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=v+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+K-1)/K),X.window=new w.Buf8(2*X.w_size),X.head=new w.Buf16(X.hash_size),X.prev=new w.Buf16(X.w_size),X.lit_bufsize=1<<v+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new w.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=q,X.strategy=x,X.method=W,xe(o)}S=[new ue(0,0,0,0,function(o,q){var W=65535;for(W>o.pending_buf_size-5&&(W=o.pending_buf_size-5);;){if(o.lookahead<=1){if(ge(o),0===o.lookahead&&q===m)return 1;if(0===o.lookahead)break}o.strstart+=o.lookahead,o.lookahead=0;var D=o.block_start+W;if((0===o.strstart||o.strstart>=D)&&(o.lookahead=o.strstart-D,o.strstart=D,H(o,!1),0===o.strm.avail_out)||o.strstart-o.block_start>=o.w_size-he&&(H(o,!1),0===o.strm.avail_out))return 1}return o.insert=0,4===q?(H(o,!0),0===o.strm.avail_out?3:4):(o.strstart>o.block_start&&H(o,!1),1)}),new ue(4,4,8,4,Se),new ue(4,5,16,8,Se),new ue(4,6,32,32,Se),new ue(4,4,16,16,fe),new ue(8,16,32,32,fe),new ue(8,16,128,128,fe),new ue(8,32,128,256,fe),new ue(32,128,258,1024,fe),new ue(32,258,258,4096,fe)],i.deflateInit=function(o,q){return Ae(o,q,g,15,8,0)},i.deflateInit2=Ae,i.deflateReset=xe,i.deflateResetKeep=me,i.deflateSetHeader=function(o,q){return o&&o.state?2!==o.state.wrap?C:(o.state.gzhead=q,h):C},i.deflate=function(o,q){var W,D,v,x;if(!o||!o.state||5<q||q<0)return o?oe(o,C):C;if(D=o.state,!o.output||!o.input&&0!==o.avail_in||666===D.status&&4!==q)return oe(o,0===o.avail_out?-5:C);if(D.strm=o,W=D.last_flush,D.last_flush=q,D.status===A)if(2===D.wrap)o.adler=0,U(D,31),U(D,139),U(D,8),D.gzhead?(U(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),U(D,255&D.gzhead.time),U(D,D.gzhead.time>>8&255),U(D,D.gzhead.time>>16&255),U(D,D.gzhead.time>>24&255),U(D,9===D.level?2:2<=D.strategy||D.level<2?4:0),U(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(U(D,255&D.gzhead.extra.length),U(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(o.adler=N(o.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(U(D,0),U(D,0),U(D,0),U(D,0),U(D,0),U(D,9===D.level?2:2<=D.strategy||D.level<2?4:0),U(D,3),D.status=F);else{var Z=g+(D.w_bits-8<<4)<<8;Z|=(2<=D.strategy||D.level<2?0:D.level<6?1:6===D.level?2:3)<<6,0!==D.strstart&&(Z|=32),Z+=31-Z%31,D.status=F,B(D,Z),0!==D.strstart&&(B(D,o.adler>>>16),B(D,65535&o.adler)),o.adler=1}if(69===D.status)if(D.gzhead.extra){for(v=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>v&&(o.adler=N(o.adler,D.pending_buf,D.pending-v,v)),V(o),v=D.pending,D.pending!==D.pending_buf_size));)U(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>v&&(o.adler=N(o.adler,D.pending_buf,D.pending-v,v)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(73===D.status)if(D.gzhead.name){v=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>v&&(o.adler=N(o.adler,D.pending_buf,D.pending-v,v)),V(o),v=D.pending,D.pending===D.pending_buf_size)){x=1;break}x=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,U(D,x)}while(0!==x);D.gzhead.hcrc&&D.pending>v&&(o.adler=N(o.adler,D.pending_buf,D.pending-v,v)),0===x&&(D.gzindex=0,D.status=91)}else D.status=91;if(91===D.status)if(D.gzhead.comment){v=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>v&&(o.adler=N(o.adler,D.pending_buf,D.pending-v,v)),V(o),v=D.pending,D.pending===D.pending_buf_size)){x=1;break}x=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,U(D,x)}while(0!==x);D.gzhead.hcrc&&D.pending>v&&(o.adler=N(o.adler,D.pending_buf,D.pending-v,v)),0===x&&(D.status=103)}else D.status=103;if(103===D.status&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&V(o),D.pending+2<=D.pending_buf_size&&(U(D,255&o.adler),U(D,o.adler>>8&255),o.adler=0,D.status=F)):D.status=F),0!==D.pending){if(V(o),0===o.avail_out)return D.last_flush=-1,h}else if(0===o.avail_in&&J(q)<=J(W)&&4!==q)return oe(o,-5);if(666===D.status&&0!==o.avail_in)return oe(o,-5);if(0!==o.avail_in||0!==D.lookahead||q!==m&&666!==D.status){var X=2===D.strategy?function(j,te){for(var le;;){if(0===j.lookahead&&(ge(j),0===j.lookahead)){if(te===m)return 1;break}if(j.match_length=0,le=_._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++,le&&(H(j,!1),0===j.strm.avail_out))return 1}return j.insert=0,4===te?(H(j,!0),0===j.strm.avail_out?3:4):j.last_lit&&(H(j,!1),0===j.strm.avail_out)?1:2}(D,q):3===D.strategy?function(j,te){for(var le,re,pe,Oe,De=j.window;;){if(j.lookahead<=ne){if(ge(j),j.lookahead<=ne&&te===m)return 1;if(0===j.lookahead)break}if(j.match_length=0,j.lookahead>=K&&0<j.strstart&&(re=De[pe=j.strstart-1])===De[++pe]&&re===De[++pe]&&re===De[++pe]){Oe=j.strstart+ne;do{}while(re===De[++pe]&&re===De[++pe]&&re===De[++pe]&&re===De[++pe]&&re===De[++pe]&&re===De[++pe]&&re===De[++pe]&&re===De[++pe]&&pe<Oe);j.match_length=ne-(Oe-pe),j.match_length>j.lookahead&&(j.match_length=j.lookahead)}if(j.match_length>=K?(le=_._tr_tally(j,1,j.match_length-K),j.lookahead-=j.match_length,j.strstart+=j.match_length,j.match_length=0):(le=_._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++),le&&(H(j,!1),0===j.strm.avail_out))return 1}return j.insert=0,4===te?(H(j,!0),0===j.strm.avail_out?3:4):j.last_lit&&(H(j,!1),0===j.strm.avail_out)?1:2}(D,q):S[D.level].func(D,q);if(3!==X&&4!==X||(D.status=666),1===X||3===X)return 0===o.avail_out&&(D.last_flush=-1),h;if(2===X&&(1===q?_._tr_align(D):5!==q&&(_._tr_stored_block(D,0,0,!1),3===q&&(de(D.head),0===D.lookahead&&(D.strstart=0,D.block_start=0,D.insert=0))),V(o),0===o.avail_out))return D.last_flush=-1,h}return 4!==q?h:D.wrap<=0?1:(2===D.wrap?(U(D,255&o.adler),U(D,o.adler>>8&255),U(D,o.adler>>16&255),U(D,o.adler>>24&255),U(D,255&o.total_in),U(D,o.total_in>>8&255),U(D,o.total_in>>16&255),U(D,o.total_in>>24&255)):(B(D,o.adler>>>16),B(D,65535&o.adler)),V(o),0<D.wrap&&(D.wrap=-D.wrap),0!==D.pending?h:1)},i.deflateEnd=function(o){var q;return o&&o.state?(q=o.state.status)!==A&&69!==q&&73!==q&&91!==q&&103!==q&&q!==F&&666!==q?oe(o,C):(o.state=null,q===F?oe(o,-3):h):C},i.deflateSetDictionary=function(o,q){var W,D,v,x,Z,X,j,te,le=q.length;if(!o||!o.state||2===(x=(W=o.state).wrap)||1===x&&W.status!==A||W.lookahead)return C;for(1===x&&(o.adler=y(o.adler,q,le,0)),W.wrap=0,le>=W.w_size&&(0===x&&(de(W.head),W.strstart=0,W.block_start=0,W.insert=0),te=new w.Buf8(W.w_size),w.arraySet(te,q,le-W.w_size,W.w_size,0),q=te,le=W.w_size),Z=o.avail_in,X=o.next_in,j=o.input,o.avail_in=le,o.next_in=0,o.input=q,ge(W);W.lookahead>=K;){for(D=W.strstart,v=W.lookahead-(K-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[D+K-1])&W.hash_mask,W.prev[D&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=D,D++,--v;);W.strstart=D,W.lookahead=K-1,ge(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=K-1,W.match_available=0,o.next_in=X,o.input=j,o.avail_in=Z,W.wrap=x,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(M,I,i){"use strict";I.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(M,I,i){"use strict";I.exports=function(S,w){var _,y,N,d,m,b,h,C,p,f,u,g,E,k,R,Q,$,ee,K,ne,he,A,F,c,T;c=S.input,N=(y=S.next_in)+(S.avail_in-5),T=S.output,m=(d=S.next_out)-(w-S.avail_out),b=d+(S.avail_out-257),h=(_=S.state).dmax,C=_.wsize,p=_.whave,f=_.wnext,u=_.window,g=_.hold,E=_.bits,k=_.lencode,R=_.distcode,Q=(1<<_.lenbits)-1,$=(1<<_.distbits)-1;e:do{E<15&&(g+=c[y++]<<E,g+=c[y++]<<(E+=8),E+=8),ee=k[g&Q];t:for(;;){if(g>>>=K=ee>>>24,E-=K,0==(K=ee>>>16&255))T[d++]=65535&ee;else{if(!(16&K)){if(!(64&K)){ee=k[(65535&ee)+(g&(1<<K)-1)];continue t}if(32&K){_.mode=12;break e}S.msg="invalid literal/length code",_.mode=30;break e}ne=65535&ee,(K&=15)&&(E<K&&(g+=c[y++]<<E,E+=8),ne+=g&(1<<K)-1,g>>>=K,E-=K),E<15&&(g+=c[y++]<<E,g+=c[y++]<<(E+=8),E+=8),ee=R[g&$];n:for(;;){if(g>>>=K=ee>>>24,E-=K,!(16&(K=ee>>>16&255))){if(!(64&K)){ee=R[(65535&ee)+(g&(1<<K)-1)];continue n}S.msg="invalid distance code",_.mode=30;break e}if(he=65535&ee,E<(K&=15)&&(g+=c[y++]<<E,(E+=8)<K&&(g+=c[y++]<<E,E+=8)),h<(he+=g&(1<<K)-1)){S.msg="invalid distance too far back",_.mode=30;break e}if(g>>>=K,E-=K,(K=d-m)<he){if(p<(K=he-K)&&_.sane){S.msg="invalid distance too far back",_.mode=30;break e}if(F=u,(A=0)===f){if(A+=C-K,K<ne){for(ne-=K;T[d++]=u[A++],--K;);A=d-he,F=T}}else if(f<K){if(A+=C+f-K,(K-=f)<ne){for(ne-=K;T[d++]=u[A++],--K;);if(A=0,f<ne){for(ne-=K=f;T[d++]=u[A++],--K;);A=d-he,F=T}}}else if(A+=f-K,K<ne){for(ne-=K;T[d++]=u[A++],--K;);A=d-he,F=T}for(;2<ne;)T[d++]=F[A++],T[d++]=F[A++],T[d++]=F[A++],ne-=3;ne&&(T[d++]=F[A++],1<ne&&(T[d++]=F[A++]))}else{for(A=d-he;T[d++]=T[A++],T[d++]=T[A++],T[d++]=T[A++],2<(ne-=3););ne&&(T[d++]=T[A++],1<ne&&(T[d++]=T[A++]))}break}}break}}while(y<N&&d<b);y-=ne=E>>3,g&=(1<<(E-=ne<<3))-1,S.next_in=y,S.next_out=d,S.avail_in=y<N?N-y+5:5-(y-N),S.avail_out=d<b?b-d+257:257-(d-b),_.hold=g,_.bits=E}},{}],49:[function(M,I,i){"use strict";var S=M("../utils/common"),w=M("./adler32"),_=M("./crc32"),y=M("./inffast"),N=M("./inftrees"),b=0,h=-2,C=1,p=852,f=592;function u(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new S.Buf16(320),this.work=new S.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(A){var F;return A&&A.state?(A.total_in=A.total_out=(F=A.state).total=0,A.msg="",F.wrap&&(A.adler=1&F.wrap),F.mode=C,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new S.Buf32(p),F.distcode=F.distdyn=new S.Buf32(f),F.sane=1,F.back=-1,b):h}function k(A){var F;return A&&A.state?((F=A.state).wsize=0,F.whave=0,F.wnext=0,E(A)):h}function R(A,F){var c,T;return A&&A.state?(T=A.state,F<0?(c=0,F=-F):(c=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?h:(null!==T.window&&T.wbits!==F&&(T.window=null),T.wrap=c,T.wbits=F,k(A))):h}function Q(A,F){var c,T;return A?(T=new g,(A.state=T).window=null,(c=R(A,F))!==b&&(A.state=null),c):h}var $,ee,K=!0;function ne(A){if(K){var F;for($=new S.Buf32(512),ee=new S.Buf32(32),F=0;F<144;)A.lens[F++]=8;for(;F<256;)A.lens[F++]=9;for(;F<280;)A.lens[F++]=7;for(;F<288;)A.lens[F++]=8;for(N(1,A.lens,0,288,$,0,A.work,{bits:9}),F=0;F<32;)A.lens[F++]=5;N(2,A.lens,0,32,ee,0,A.work,{bits:5}),K=!1}A.lencode=$,A.lenbits=9,A.distcode=ee,A.distbits=5}function he(A,F,c,T){var ie,L=A.state;return null===L.window&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new S.Buf8(L.wsize)),T>=L.wsize?(S.arraySet(L.window,F,c-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(T<(ie=L.wsize-L.wnext)&&(ie=T),S.arraySet(L.window,F,c-T,ie,L.wnext),(T-=ie)?(S.arraySet(L.window,F,c-T,T,0),L.wnext=T,L.whave=L.wsize):(L.wnext+=ie,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=ie))),0}i.inflateReset=k,i.inflateReset2=R,i.inflateResetKeep=E,i.inflateInit=function(A){return Q(A,15)},i.inflateInit2=Q,i.inflate=function(A,F){var c,T,ie,L,oe,J,de,V,H,U,B,Y,ge,Se,fe,ue,be,me,xe,Ae,o,q,W,D,v=0,x=new S.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&0!==A.avail_in)return h;12===(c=A.state).mode&&(c.mode=13),oe=A.next_out,ie=A.output,L=A.next_in,T=A.input,V=c.hold,H=c.bits,U=J=A.avail_in,B=de=A.avail_out,q=b;e:for(;;)switch(c.mode){case C:if(0===c.wrap){c.mode=13;break}for(;H<16;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}if(2&c.wrap&&35615===V){x[c.check=0]=255&V,x[1]=V>>>8&255,c.check=_(c.check,x,2,0),H=V=0,c.mode=2;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&V)<<8)+(V>>8))%31){A.msg="incorrect header check",c.mode=30;break}if(8!=(15&V)){A.msg="unknown compression method",c.mode=30;break}if(H-=4,o=8+(15&(V>>>=4)),0===c.wbits)c.wbits=o;else if(o>c.wbits){A.msg="invalid window size",c.mode=30;break}c.dmax=1<<o,A.adler=c.check=1,c.mode=512&V?10:12,H=V=0;break;case 2:for(;H<16;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}if(c.flags=V,8!=(255&c.flags)){A.msg="unknown compression method",c.mode=30;break}if(57344&c.flags){A.msg="unknown header flags set",c.mode=30;break}c.head&&(c.head.text=V>>8&1),512&c.flags&&(x[0]=255&V,x[1]=V>>>8&255,c.check=_(c.check,x,2,0)),H=V=0,c.mode=3;case 3:for(;H<32;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}c.head&&(c.head.time=V),512&c.flags&&(x[0]=255&V,x[1]=V>>>8&255,x[2]=V>>>16&255,x[3]=V>>>24&255,c.check=_(c.check,x,4,0)),H=V=0,c.mode=4;case 4:for(;H<16;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}c.head&&(c.head.xflags=255&V,c.head.os=V>>8),512&c.flags&&(x[0]=255&V,x[1]=V>>>8&255,c.check=_(c.check,x,2,0)),H=V=0,c.mode=5;case 5:if(1024&c.flags){for(;H<16;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}c.length=V,c.head&&(c.head.extra_len=V),512&c.flags&&(x[0]=255&V,x[1]=V>>>8&255,c.check=_(c.check,x,2,0)),H=V=0}else c.head&&(c.head.extra=null);c.mode=6;case 6:if(1024&c.flags&&(J<(Y=c.length)&&(Y=J),Y&&(c.head&&(o=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),S.arraySet(c.head.extra,T,L,Y,o)),512&c.flags&&(c.check=_(c.check,T,Y,L)),J-=Y,L+=Y,c.length-=Y),c.length))break e;c.length=0,c.mode=7;case 7:if(2048&c.flags){if(0===J)break e;for(Y=0;o=T[L+Y++],c.head&&o&&c.length<65536&&(c.head.name+=String.fromCharCode(o)),o&&Y<J;);if(512&c.flags&&(c.check=_(c.check,T,Y,L)),J-=Y,L+=Y,o)break e}else c.head&&(c.head.name=null);c.length=0,c.mode=8;case 8:if(4096&c.flags){if(0===J)break e;for(Y=0;o=T[L+Y++],c.head&&o&&c.length<65536&&(c.head.comment+=String.fromCharCode(o)),o&&Y<J;);if(512&c.flags&&(c.check=_(c.check,T,Y,L)),J-=Y,L+=Y,o)break e}else c.head&&(c.head.comment=null);c.mode=9;case 9:if(512&c.flags){for(;H<16;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}if(V!==(65535&c.check)){A.msg="header crc mismatch",c.mode=30;break}H=V=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),A.adler=c.check=0,c.mode=12;break;case 10:for(;H<32;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}A.adler=c.check=u(V),H=V=0,c.mode=11;case 11:if(0===c.havedict)return A.next_out=oe,A.avail_out=de,A.next_in=L,A.avail_in=J,c.hold=V,c.bits=H,2;A.adler=c.check=1,c.mode=12;case 12:if(5===F||6===F)break e;case 13:if(c.last){V>>>=7&H,H-=7&H,c.mode=27;break}for(;H<3;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}switch(c.last=1&V,H-=1,3&(V>>>=1)){case 0:c.mode=14;break;case 1:if(ne(c),c.mode=20,6!==F)break;V>>>=2,H-=2;break e;case 2:c.mode=17;break;case 3:A.msg="invalid block type",c.mode=30}V>>>=2,H-=2;break;case 14:for(V>>>=7&H,H-=7&H;H<32;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}if((65535&V)!=(V>>>16^65535)){A.msg="invalid stored block lengths",c.mode=30;break}if(c.length=65535&V,H=V=0,c.mode=15,6===F)break e;case 15:c.mode=16;case 16:if(Y=c.length){if(J<Y&&(Y=J),de<Y&&(Y=de),0===Y)break e;S.arraySet(ie,T,L,Y,oe),J-=Y,L+=Y,de-=Y,oe+=Y,c.length-=Y;break}c.mode=12;break;case 17:for(;H<14;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}if(c.nlen=257+(31&V),H-=5,c.ndist=1+(31&(V>>>=5)),H-=5,c.ncode=4+(15&(V>>>=5)),V>>>=4,H-=4,286<c.nlen||30<c.ndist){A.msg="too many length or distance symbols",c.mode=30;break}c.have=0,c.mode=18;case 18:for(;c.have<c.ncode;){for(;H<3;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}c.lens[Z[c.have++]]=7&V,V>>>=3,H-=3}for(;c.have<19;)c.lens[Z[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,q=N(0,c.lens,0,19,c.lencode,0,c.work,W={bits:c.lenbits}),c.lenbits=W.bits,q){A.msg="invalid code lengths set",c.mode=30;break}c.have=0,c.mode=19;case 19:for(;c.have<c.nlen+c.ndist;){for(;ue=(v=c.lencode[V&(1<<c.lenbits)-1])>>>16&255,be=65535&v,!((fe=v>>>24)<=H);){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}if(be<16)V>>>=fe,H-=fe,c.lens[c.have++]=be;else{if(16===be){for(D=fe+2;H<D;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}if(V>>>=fe,H-=fe,0===c.have){A.msg="invalid bit length repeat",c.mode=30;break}o=c.lens[c.have-1],Y=3+(3&V),V>>>=2,H-=2}else if(17===be){for(D=fe+3;H<D;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}H-=fe,o=0,Y=3+(7&(V>>>=fe)),V>>>=3,H-=3}else{for(D=fe+7;H<D;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}H-=fe,o=0,Y=11+(127&(V>>>=fe)),V>>>=7,H-=7}if(c.have+Y>c.nlen+c.ndist){A.msg="invalid bit length repeat",c.mode=30;break}for(;Y--;)c.lens[c.have++]=o}}if(30===c.mode)break;if(0===c.lens[256]){A.msg="invalid code -- missing end-of-block",c.mode=30;break}if(c.lenbits=9,q=N(1,c.lens,0,c.nlen,c.lencode,0,c.work,W={bits:c.lenbits}),c.lenbits=W.bits,q){A.msg="invalid literal/lengths set",c.mode=30;break}if(c.distbits=6,c.distcode=c.distdyn,q=N(2,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,W={bits:c.distbits}),c.distbits=W.bits,q){A.msg="invalid distances set",c.mode=30;break}if(c.mode=20,6===F)break e;case 20:c.mode=21;case 21:if(6<=J&&258<=de){A.next_out=oe,A.avail_out=de,A.next_in=L,A.avail_in=J,c.hold=V,c.bits=H,y(A,B),oe=A.next_out,ie=A.output,de=A.avail_out,L=A.next_in,T=A.input,J=A.avail_in,V=c.hold,H=c.bits,12===c.mode&&(c.back=-1);break}for(c.back=0;ue=(v=c.lencode[V&(1<<c.lenbits)-1])>>>16&255,be=65535&v,!((fe=v>>>24)<=H);){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}if(ue&&!(240&ue)){for(me=fe,xe=ue,Ae=be;ue=(v=c.lencode[Ae+((V&(1<<me+xe)-1)>>me)])>>>16&255,be=65535&v,!(me+(fe=v>>>24)<=H);){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}V>>>=me,H-=me,c.back+=me}if(V>>>=fe,H-=fe,c.back+=fe,c.length=be,0===ue){c.mode=26;break}if(32&ue){c.back=-1,c.mode=12;break}if(64&ue){A.msg="invalid literal/length code",c.mode=30;break}c.extra=15&ue,c.mode=22;case 22:if(c.extra){for(D=c.extra;H<D;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}c.length+=V&(1<<c.extra)-1,V>>>=c.extra,H-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=23;case 23:for(;ue=(v=c.distcode[V&(1<<c.distbits)-1])>>>16&255,be=65535&v,!((fe=v>>>24)<=H);){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}if(!(240&ue)){for(me=fe,xe=ue,Ae=be;ue=(v=c.distcode[Ae+((V&(1<<me+xe)-1)>>me)])>>>16&255,be=65535&v,!(me+(fe=v>>>24)<=H);){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}V>>>=me,H-=me,c.back+=me}if(V>>>=fe,H-=fe,c.back+=fe,64&ue){A.msg="invalid distance code",c.mode=30;break}c.offset=be,c.extra=15&ue,c.mode=24;case 24:if(c.extra){for(D=c.extra;H<D;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}c.offset+=V&(1<<c.extra)-1,V>>>=c.extra,H-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){A.msg="invalid distance too far back",c.mode=30;break}c.mode=25;case 25:if(0===de)break e;if(c.offset>(Y=B-de)){if((Y=c.offset-Y)>c.whave&&c.sane){A.msg="invalid distance too far back",c.mode=30;break}ge=Y>c.wnext?c.wsize-(Y-=c.wnext):c.wnext-Y,Y>c.length&&(Y=c.length),Se=c.window}else Se=ie,ge=oe-c.offset,Y=c.length;for(de<Y&&(Y=de),de-=Y,c.length-=Y;ie[oe++]=Se[ge++],--Y;);0===c.length&&(c.mode=21);break;case 26:if(0===de)break e;ie[oe++]=c.length,de--,c.mode=21;break;case 27:if(c.wrap){for(;H<32;){if(0===J)break e;J--,V|=T[L++]<<H,H+=8}if(A.total_out+=B-=de,c.total+=B,B&&(A.adler=c.check=c.flags?_(c.check,ie,B,oe-B):w(c.check,ie,B,oe-B)),B=de,(c.flags?V:u(V))!==c.check){A.msg="incorrect data check",c.mode=30;break}H=V=0}c.mode=28;case 28:if(c.wrap&&c.flags){for(;H<32;){if(0===J)break e;J--,V+=T[L++]<<H,H+=8}if(V!==(4294967295&c.total)){A.msg="incorrect length check",c.mode=30;break}H=V=0}c.mode=29;case 29:q=1;break e;case 30:q=-3;break e;case 31:return-4;default:return h}return A.next_out=oe,A.avail_out=de,A.next_in=L,A.avail_in=J,c.hold=V,c.bits=H,(c.wsize||B!==A.avail_out&&c.mode<30&&(c.mode<27||4!==F))&&he(A,A.output,A.next_out,B-A.avail_out)?(c.mode=31,-4):(B-=A.avail_out,A.total_in+=U-=A.avail_in,A.total_out+=B,c.total+=B,c.wrap&&B&&(A.adler=c.check=c.flags?_(c.check,ie,B,A.next_out-B):w(c.check,ie,B,A.next_out-B)),A.data_type=c.bits+(c.last?64:0)+(12===c.mode?128:0)+(20===c.mode||15===c.mode?256:0),(0==U&&0===B||4===F)&&q===b&&(q=-5),q)},i.inflateEnd=function(A){if(!A||!A.state)return h;var F=A.state;return F.window&&(F.window=null),A.state=null,b},i.inflateGetHeader=function(A,F){var c;return A&&A.state&&2&(c=A.state).wrap?((c.head=F).done=!1,b):h},i.inflateSetDictionary=function(A,F){var c,T=F.length;return A&&A.state?0!==(c=A.state).wrap&&11!==c.mode?h:11===c.mode&&w(1,F,T,0)!==c.check?-3:he(A,F,T,T)?(c.mode=31,-4):(c.havedict=1,b):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(M,I,i){"use strict";var S=M("../utils/common"),w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],N=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];I.exports=function(d,m,b,h,C,p,f,u){var g,E,k,R,Q,$,ee,K,ne,he=u.bits,A=0,F=0,c=0,T=0,ie=0,L=0,oe=0,J=0,de=0,V=0,H=null,U=0,B=new S.Buf16(16),Y=new S.Buf16(16),ge=null,Se=0;for(A=0;A<=15;A++)B[A]=0;for(F=0;F<h;F++)B[m[b+F]]++;for(ie=he,T=15;1<=T&&0===B[T];T--);if(T<ie&&(ie=T),0===T)return C[p++]=20971520,C[p++]=20971520,u.bits=1,0;for(c=1;c<T&&0===B[c];c++);for(ie<c&&(ie=c),A=J=1;A<=15;A++)if(J<<=1,(J-=B[A])<0)return-1;if(0<J&&(0===d||1!==T))return-1;for(Y[1]=0,A=1;A<15;A++)Y[A+1]=Y[A]+B[A];for(F=0;F<h;F++)0!==m[b+F]&&(f[Y[m[b+F]]++]=F);if($=0===d?(H=ge=f,19):1===d?(H=w,U-=257,ge=_,Se-=257,256):(H=y,ge=N,-1),A=c,Q=p,oe=F=V=0,k=-1,R=(de=1<<(L=ie))-1,1===d&&852<de||2===d&&592<de)return 1;for(;;){for(ee=A-oe,ne=f[F]<$?(K=0,f[F]):f[F]>$?(K=ge[Se+f[F]],H[U+f[F]]):(K=96,0),g=1<<A-oe,c=E=1<<L;C[Q+(V>>oe)+(E-=g)]=ee<<24|K<<16|ne,0!==E;);for(g=1<<A-1;V&g;)g>>=1;if(0!==g?(V&=g-1,V+=g):V=0,F++,0==--B[A]){if(A===T)break;A=m[b+f[F]]}if(ie<A&&(V&R)!==k){for(0===oe&&(oe=ie),Q+=c,J=1<<(L=A-oe);L+oe<T&&!((J-=B[L+oe])<=0);)L++,J<<=1;if(de+=1<<L,1===d&&852<de||2===d&&592<de)return 1;C[k=V&R]=ie<<24|L<<16|Q-p}}return 0!==V&&(C[Q+V]=A-oe<<24|64<<16),u.bits=ie,0}},{"../utils/common":41}],51:[function(M,I,i){"use strict";I.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(M,I,i){"use strict";var S=M("../utils/common");function y(v){for(var x=v.length;0<=--x;)v[x]=0}var m=256,b=286,h=30,f=15,u=16,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=new Array(576);y(he);var A=new Array(60);y(A);var F=new Array(512);y(F);var c=new Array(256);y(c);var T=new Array(29);y(T);var ie,L,oe,J=new Array(h);function de(v,x,Z,X,j){this.static_tree=v,this.extra_bits=x,this.extra_base=Z,this.elems=X,this.max_length=j,this.has_stree=v&&v.length}function V(v,x){this.dyn_tree=v,this.max_code=0,this.stat_desc=x}function H(v){return v<256?F[v]:F[256+(v>>>7)]}function U(v,x){v.pending_buf[v.pending++]=255&x,v.pending_buf[v.pending++]=x>>>8&255}function B(v,x,Z){v.bi_valid>u-Z?(v.bi_buf|=x<<v.bi_valid&65535,U(v,v.bi_buf),v.bi_buf=x>>u-v.bi_valid,v.bi_valid+=Z-u):(v.bi_buf|=x<<v.bi_valid&65535,v.bi_valid+=Z)}function Y(v,x,Z){B(v,Z[2*x],Z[2*x+1])}function ge(v,x){for(var Z=0;Z|=1&v,v>>>=1,Z<<=1,0<--x;);return Z>>>1}function Se(v,x,Z){var X,j,te=new Array(f+1),le=0;for(X=1;X<=f;X++)te[X]=le=le+Z[X-1]<<1;for(j=0;j<=x;j++){var re=v[2*j+1];0!==re&&(v[2*j]=ge(te[re]++,re))}}function fe(v){var x;for(x=0;x<b;x++)v.dyn_ltree[2*x]=0;for(x=0;x<h;x++)v.dyn_dtree[2*x]=0;for(x=0;x<19;x++)v.bl_tree[2*x]=0;v.dyn_ltree[512]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function ue(v){8<v.bi_valid?U(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function be(v,x,Z,X){var j=2*x,te=2*Z;return v[j]<v[te]||v[j]===v[te]&&X[x]<=X[Z]}function me(v,x,Z){for(var X=v.heap[Z],j=Z<<1;j<=v.heap_len&&(j<v.heap_len&&be(x,v.heap[j+1],v.heap[j],v.depth)&&j++,!be(x,X,v.heap[j],v.depth));)v.heap[Z]=v.heap[j],Z=j,j<<=1;v.heap[Z]=X}function xe(v,x,Z){var X,j,te,le,re=0;if(0!==v.last_lit)for(;X=v.pending_buf[v.d_buf+2*re]<<8|v.pending_buf[v.d_buf+2*re+1],j=v.pending_buf[v.l_buf+re],re++,0===X?Y(v,j,x):(Y(v,(te=c[j])+m+1,x),0!==(le=$[te])&&B(v,j-=T[te],le),Y(v,te=H(--X),Z),0!==(le=ee[te])&&B(v,X-=J[te],le)),re<v.last_lit;);Y(v,256,x)}function Ae(v,x){var Z,X,j,te=x.dyn_tree,le=x.stat_desc.static_tree,re=x.stat_desc.has_stree,pe=x.stat_desc.elems,Oe=-1;for(v.heap_len=0,v.heap_max=573,Z=0;Z<pe;Z++)0!==te[2*Z]?(v.heap[++v.heap_len]=Oe=Z,v.depth[Z]=0):te[2*Z+1]=0;for(;v.heap_len<2;)te[2*(j=v.heap[++v.heap_len]=Oe<2?++Oe:0)]=1,v.depth[j]=0,v.opt_len--,re&&(v.static_len-=le[2*j+1]);for(x.max_code=Oe,Z=v.heap_len>>1;1<=Z;Z--)me(v,te,Z);for(j=pe;Z=v.heap[1],v.heap[1]=v.heap[v.heap_len--],me(v,te,1),X=v.heap[1],v.heap[--v.heap_max]=Z,v.heap[--v.heap_max]=X,te[2*j]=te[2*Z]+te[2*X],v.depth[j]=(v.depth[Z]>=v.depth[X]?v.depth[Z]:v.depth[X])+1,te[2*Z+1]=te[2*X+1]=j,v.heap[1]=j++,me(v,te,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],function(De,ze){var st,Ze,dt,Ie,St,At,Je=ze.dyn_tree,Lt=ze.max_code,cn=ze.stat_desc.static_tree,ln=ze.stat_desc.has_stree,dn=ze.stat_desc.extra_bits,Ve=ze.stat_desc.extra_base,Ke=ze.stat_desc.max_length,Le=0;for(Ie=0;Ie<=f;Ie++)De.bl_count[Ie]=0;for(Je[2*De.heap[De.heap_max]+1]=0,st=De.heap_max+1;st<573;st++)Ke<(Ie=Je[2*Je[2*(Ze=De.heap[st])+1]+1]+1)&&(Ie=Ke,Le++),Je[2*Ze+1]=Ie,Lt<Ze||(De.bl_count[Ie]++,St=0,Ve<=Ze&&(St=dn[Ze-Ve]),De.opt_len+=(At=Je[2*Ze])*(Ie+St),ln&&(De.static_len+=At*(cn[2*Ze+1]+St)));if(0!==Le){do{for(Ie=Ke-1;0===De.bl_count[Ie];)Ie--;De.bl_count[Ie]--,De.bl_count[Ie+1]+=2,De.bl_count[Ke]--,Le-=2}while(0<Le);for(Ie=Ke;0!==Ie;Ie--)for(Ze=De.bl_count[Ie];0!==Ze;)Lt<(dt=De.heap[--st])||(Je[2*dt+1]!==Ie&&(De.opt_len+=(Ie-Je[2*dt+1])*Je[2*dt],Je[2*dt+1]=Ie),Ze--)}}(v,x),Se(te,Oe,v.bl_count)}function o(v,x,Z){var X,j,te=-1,le=x[1],re=0,pe=7,Oe=4;for(0===le&&(pe=138,Oe=3),x[2*(Z+1)+1]=65535,X=0;X<=Z;X++)j=le,le=x[2*(X+1)+1],++re<pe&&j===le||(re<Oe?v.bl_tree[2*j]+=re:0!==j?(j!==te&&v.bl_tree[2*j]++,v.bl_tree[32]++):re<=10?v.bl_tree[34]++:v.bl_tree[36]++,te=j,Oe=(re=0)===le?(pe=138,3):j===le?(pe=6,3):(pe=7,4))}function q(v,x,Z){var X,j,te=-1,le=x[1],re=0,pe=7,Oe=4;for(0===le&&(pe=138,Oe=3),X=0;X<=Z;X++)if(j=le,le=x[2*(X+1)+1],!(++re<pe&&j===le)){if(re<Oe)for(;Y(v,j,v.bl_tree),0!=--re;);else 0!==j?(j!==te&&(Y(v,j,v.bl_tree),re--),Y(v,16,v.bl_tree),B(v,re-3,2)):re<=10?(Y(v,17,v.bl_tree),B(v,re-3,3)):(Y(v,18,v.bl_tree),B(v,re-11,7));te=j,Oe=(re=0)===le?(pe=138,3):j===le?(pe=6,3):(pe=7,4)}}y(J);var W=!1;function D(v,x,Z,X){var j,te,le;B(v,0+(X?1:0),3),te=x,le=Z,ue(j=v),U(j,le),U(j,~le),S.arraySet(j.pending_buf,j.window,te,le,j.pending),j.pending+=le}i._tr_init=function(v){W||(function(){var x,Z,X,j,te,le=new Array(f+1);for(j=X=0;j<28;j++)for(T[j]=X,x=0;x<1<<$[j];x++)c[X++]=j;for(c[X-1]=j,j=te=0;j<16;j++)for(J[j]=te,x=0;x<1<<ee[j];x++)F[te++]=j;for(te>>=7;j<h;j++)for(J[j]=te<<7,x=0;x<1<<ee[j]-7;x++)F[256+te++]=j;for(Z=0;Z<=f;Z++)le[Z]=0;for(x=0;x<=143;)he[2*x+1]=8,x++,le[8]++;for(;x<=255;)he[2*x+1]=9,x++,le[9]++;for(;x<=279;)he[2*x+1]=7,x++,le[7]++;for(;x<=287;)he[2*x+1]=8,x++,le[8]++;for(Se(he,287,le),x=0;x<h;x++)A[2*x+1]=5,A[2*x]=ge(x,5);ie=new de(he,$,257,b,f),L=new de(A,ee,0,h,f),oe=new de(new Array(0),K,0,19,7)}(),W=!0),v.l_desc=new V(v.dyn_ltree,ie),v.d_desc=new V(v.dyn_dtree,L),v.bl_desc=new V(v.bl_tree,oe),v.bi_buf=0,v.bi_valid=0,fe(v)},i._tr_stored_block=D,i._tr_flush_block=function(v,x,Z,X){var j,te,le=0;0<v.level?(2===v.strm.data_type&&(v.strm.data_type=function(re){var pe,Oe=4093624447;for(pe=0;pe<=31;pe++,Oe>>>=1)if(1&Oe&&0!==re.dyn_ltree[2*pe])return 0;if(0!==re.dyn_ltree[18]||0!==re.dyn_ltree[20]||0!==re.dyn_ltree[26])return 1;for(pe=32;pe<m;pe++)if(0!==re.dyn_ltree[2*pe])return 1;return 0}(v)),Ae(v,v.l_desc),Ae(v,v.d_desc),le=function(re){var pe;for(o(re,re.dyn_ltree,re.l_desc.max_code),o(re,re.dyn_dtree,re.d_desc.max_code),Ae(re,re.bl_desc),pe=18;3<=pe&&0===re.bl_tree[2*ne[pe]+1];pe--);return re.opt_len+=3*(pe+1)+5+5+4,pe}(v),(te=v.static_len+3+7>>>3)<=(j=v.opt_len+3+7>>>3)&&(j=te)):j=te=Z+5,Z+4<=j&&-1!==x?D(v,x,Z,X):4===v.strategy||te===j?(B(v,2+(X?1:0),3),xe(v,he,A)):(B(v,4+(X?1:0),3),function(re,pe,Oe,De){var ze;for(B(re,pe-257,5),B(re,Oe-1,5),B(re,De-4,4),ze=0;ze<De;ze++)B(re,re.bl_tree[2*ne[ze]+1],3);q(re,re.dyn_ltree,pe-1),q(re,re.dyn_dtree,Oe-1)}(v,v.l_desc.max_code+1,v.d_desc.max_code+1,le+1),xe(v,v.dyn_ltree,v.dyn_dtree)),fe(v),X&&ue(v)},i._tr_tally=function(v,x,Z){return v.pending_buf[v.d_buf+2*v.last_lit]=x>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&x,v.pending_buf[v.l_buf+v.last_lit]=255&Z,v.last_lit++,0===x?v.dyn_ltree[2*Z]++:(v.matches++,x--,v.dyn_ltree[2*(c[Z]+m+1)]++,v.dyn_dtree[2*H(x)]++),v.last_lit===v.lit_bufsize-1},i._tr_align=function(v){var x;B(v,2,3),Y(v,256,he),16===(x=v).bi_valid?(U(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}},{"../utils/common":41}],53:[function(M,I,i){"use strict";I.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(M,I,i){(function(S){!function(w,_){"use strict";if(!w.setImmediate){var y,N,d,m,b=1,h={},C=!1,p=w.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(w);f=f&&f.setTimeout?f:w,y="[object process]"==={}.toString.call(w.process)?function(k){process.nextTick(function(){g(k)})}:function(){if(w.postMessage&&!w.importScripts){var k=!0,R=w.onmessage;return w.onmessage=function(){k=!1},w.postMessage("","*"),w.onmessage=R,k}}()?(m="setImmediate$"+Math.random()+"$",w.addEventListener?w.addEventListener("message",E,!1):w.attachEvent("onmessage",E),function(k){w.postMessage(m+k,"*")}):w.MessageChannel?((d=new MessageChannel).port1.onmessage=function(k){g(k.data)},function(k){d.port2.postMessage(k)}):p&&"onreadystatechange"in p.createElement("script")?(N=p.documentElement,function(k){var R=p.createElement("script");R.onreadystatechange=function(){g(k),R.onreadystatechange=null,N.removeChild(R),R=null},N.appendChild(R)}):function(k){setTimeout(g,0,k)},f.setImmediate=function(k){"function"!=typeof k&&(k=new Function(""+k));for(var R=new Array(arguments.length-1),Q=0;Q<R.length;Q++)R[Q]=arguments[Q+1];return h[b]={callback:k,args:R},y(b),b++},f.clearImmediate=u}function u(k){delete h[k]}function g(k){if(C)setTimeout(g,0,k);else{var R=h[k];if(R){C=!0;try{!function(Q){var $=Q.callback,ee=Q.args;switch(ee.length){case 0:$();break;case 1:$(ee[0]);break;case 2:$(ee[0],ee[1]);break;case 3:$(ee[0],ee[1],ee[2]);break;default:$.apply(_,ee)}}(R)}finally{u(k),C=!1}}}}function E(k){k.source===w&&"string"==typeof k.data&&0===k.data.indexOf(m)&&g(+k.data.slice(m.length))}}(typeof self>"u"?void 0===S?this:S:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)},6450:(at,M,I)=>{"use strict";I.d(M,{I:()=>_});var i=I(6354);const{isArray:S}=Array;function _(y){return(0,i.T)(N=>function w(y,N){return S(N)?y(...N):y(N)}(y,N))}},3932:(at,M,I)=>{"use strict";I.d(M,{Lw:()=>Vn,wA:()=>Nn,$G:()=>Sn,HC:()=>Tn,tg:()=>Xt,U0:()=>Ln,zH:()=>Hn,do:()=>Gi,Bq:()=>zi,XZ:()=>Un,UN:()=>uc,RS:()=>lc});var i=I(5399),w=(I(9079),I(1985)),_=I(983),y=I(7673),N=I(1413),d=I(8750),m=I(1397),b=I(7441),h=I(8071),C=I(6450);const p=["addListener","removeListener"],f=["addEventListener","removeEventListener"],u=["on","off"];function g(t,a,e,n){if((0,h.T)(e)&&(n=e,e=void 0),n)return g(t,a,e).pipe((0,C.I)(n));const[r,s]=function Q(t){return(0,h.T)(t.addEventListener)&&(0,h.T)(t.removeEventListener)}(t)?f.map(l=>O=>t[l](a,O,e)):function k(t){return(0,h.T)(t.addListener)&&(0,h.T)(t.removeListener)}(t)?p.map(E(t,a)):function R(t){return(0,h.T)(t.on)&&(0,h.T)(t.off)}(t)?u.map(E(t,a)):[];if(!r&&(0,b.X)(t))return(0,m.Z)(l=>g(l,a,e))((0,d.Tg)(t));if(!r)throw new TypeError("Invalid event target");return new w.c(l=>{const O=(...P)=>l.next(1<P.length?P:P[0]);return r(O),()=>s(O)})}function E(t,a){return e=>n=>t[e](a,n)}var $=I(1807);const{isArray:ee}=Array;function K(t){return 1===t.length&&ee(t[0])?t[0]:t}var ne=I(4360);function he(...t){return 1===(t=K(t)).length?(0,d.Tg)(t[0]):new w.c(function A(t){return a=>{let e=[];for(let n=0;e&&!a.closed&&n<t.length;n++)e.push((0,d.Tg)(t[n]).subscribe((0,ne._)(a,r=>{if(e){for(let s=0;s<e.length;s++)s!==n&&e[s].unsubscribe();e=null}a.next(r)})))}}(t))}I(7786);var c=I(9326);function T(...t){const a=(0,c.ms)(t),e=K(t);return e.length?new w.c(n=>{let r=e.map(()=>[]),s=e.map(()=>!1);n.add(()=>{r=s=null});for(let l=0;!n.closed&&l<e.length;l++)(0,d.Tg)(e[l]).subscribe((0,ne._)(n,O=>{if(r[l].push(O),r.every(P=>P.length)){const P=r.map(G=>G.shift());n.next(a?a(...P):P),r.some((G,z)=>!G.length&&s[z])&&n.complete()}},()=>{s[l]=!0,!r[l].length&&n.complete()}));return()=>{r=s=null}}):_.w}var ie=I(8793),oe=I(6977),J=I(5964),de=I(8141),V=I(6354),H=I(3993),U=I(5335),B=I(6697),Y=I(5558),ue=(I(9172),I(3294),I(5245),I(980)),be=I(825),xe=(I(2003),{left:"right",right:"left",bottom:"top",top:"bottom"});function Ae(t){return t.replace(/left|right|bottom|top/g,function(a){return xe[a]})}function o(t){return t.split("-")[0]}var q={start:"end",end:"start"};function W(t){return t.replace(/start|end/g,function(a){return q[a]})}var D="top",v="bottom",x="right",Z="left",X="auto",j=[D,v,x,Z],te="start",le="end",pe="viewport",Oe="popper",ze=j.reduce(function(t,a){return t.concat([a+"-"+te,a+"-"+le])},[]),st=[].concat(j,[X]).reduce(function(t,a){return t.concat([a,a+"-"+te,a+"-"+le])},[]),dn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ve(t){if(null==t)return window;if("[object Window]"!==t.toString()){var a=t.ownerDocument;return a&&a.defaultView||window}return t}function Ke(t){return t instanceof Ve(t).Element||t instanceof Element}function Le(t){return t instanceof Ve(t).HTMLElement||t instanceof HTMLElement}function un(t){return!(typeof ShadowRoot>"u")&&(t instanceof Ve(t).ShadowRoot||t instanceof ShadowRoot)}function ot(t){return((Ke(t)?t.ownerDocument:t.document)||window.document).documentElement}var ut=Math.max,Ht=Math.min,Ct=Math.round;function hn(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function Jn(){return!/^((?!chrome|android).)*safari/i.test(hn())}function Dt(t,a,e){void 0===a&&(a=!1),void 0===e&&(e=!1);var n=t.getBoundingClientRect(),r=1,s=1;a&&Le(t)&&(r=t.offsetWidth>0&&Ct(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ct(n.height)/t.offsetHeight||1);var O=(Ke(t)?Ve(t):window).visualViewport,P=!Jn()&&e,G=(n.left+(P&&O?O.offsetLeft:0))/r,z=(n.top+(P&&O?O.offsetTop:0))/s,se=n.width/r,ae=n.height/s;return{width:se,height:ae,top:z,right:G+se,bottom:z+ae,left:G,x:G,y:z}}function fn(t){var a=Ve(t);return{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function pn(t){return Dt(ot(t)).left+fn(t).scrollLeft}function rt(t){return Ve(t).getComputedStyle(t)}function nt(t){return t?(t.nodeName||"").toLowerCase():null}function Vt(t){return"html"===nt(t)?t:t.assignedSlot||t.parentNode||(un(t)?t.host:null)||ot(t)}function _n(t){var a=rt(t);return/auto|scroll|overlay|hidden/.test(a.overflow+a.overflowY+a.overflowX)}function qn(t){return["html","body","#document"].indexOf(nt(t))>=0?t.ownerDocument.body:Le(t)&&_n(t)?t:qn(Vt(t))}function Mt(t,a){var e;void 0===a&&(a=[]);var n=qn(t),r=n===(null==(e=t.ownerDocument)?void 0:e.body),s=Ve(n),l=r?[s].concat(s.visualViewport||[],_n(n)?n:[]):n,O=a.concat(l);return r?O:O.concat(Mt(Vt(l)))}function Cr(t){return["table","td","th"].indexOf(nt(t))>=0}function Xn(t){return Le(t)&&"fixed"!==rt(t).position?t.offsetParent:null}function xt(t){for(var a=Ve(t),e=Xn(t);e&&Cr(e)&&"static"===rt(e).position;)e=Xn(e);return e&&("html"===nt(e)||"body"===nt(e)&&"static"===rt(e).position)?a:e||function Dr(t){var a=/firefox/i.test(hn());if(/Trident/i.test(hn())&&Le(t)&&"fixed"===rt(t).position)return null;var r=Vt(t);for(un(r)&&(r=r.host);Le(r)&&["html","body"].indexOf(nt(r))<0;){var s=rt(r);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||a&&"filter"===s.willChange||a&&s.filter&&"none"!==s.filter)return r;r=r.parentNode}return null}(t)||a}function ei(t,a){var e=a.getRootNode&&a.getRootNode();if(t.contains(a))return!0;if(e&&un(e)){var n=a;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function gn(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ti(t,a,e){return a===pe?gn(function wr(t,a){var e=Ve(t),n=ot(t),r=e.visualViewport,s=n.clientWidth,l=n.clientHeight,O=0,P=0;if(r){s=r.width,l=r.height;var G=Jn();(G||!G&&"fixed"===a)&&(O=r.offsetLeft,P=r.offsetTop)}return{width:s,height:l,x:O+pn(t),y:P}}(t,e)):Ke(a)?function Nr(t,a){var e=Dt(t,!1,"fixed"===a);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(a,e):gn(function Sr(t){var a,e=ot(t),n=fn(t),r=null==(a=t.ownerDocument)?void 0:a.body,s=ut(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=ut(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),O=-n.scrollLeft+pn(t),P=-n.scrollTop;return"rtl"===rt(r||e).direction&&(O+=ut(e.clientWidth,r?r.clientWidth:0)-s),{width:s,height:l,x:O,y:P}}(ot(t)))}function Nt(t){return t.split("-")[1]}function mn(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ni(t){var P,a=t.reference,e=t.element,n=t.placement,r=n?o(n):null,s=n?Nt(n):null,l=a.x+a.width/2-e.width/2,O=a.y+a.height/2-e.height/2;switch(r){case D:P={x:l,y:a.y-e.height};break;case v:P={x:l,y:a.y+a.height};break;case x:P={x:a.x+a.width,y:O};break;case Z:P={x:a.x-e.width,y:O};break;default:P={x:a.x,y:a.y}}var G=r?mn(r):null;if(null!=G){var z="y"===G?"height":"width";switch(s){case te:P[G]=P[G]-(a[z]/2-e[z]/2);break;case le:P[G]=P[G]+(a[z]/2-e[z]/2)}}return P}function ri(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function ai(t,a){return a.reduce(function(e,n){return e[n]=t,e},{})}function bn(t,a){void 0===a&&(a={});var n=a.placement,r=void 0===n?t.placement:n,s=a.strategy,l=void 0===s?t.strategy:s,O=a.boundary,P=void 0===O?"clippingParents":O,G=a.rootBoundary,z=void 0===G?pe:G,se=a.elementContext,ae=void 0===se?Oe:se,ce=a.altBoundary,ve=void 0!==ce&&ce,_e=a.padding,ye=void 0===_e?0:_e,Ne=ri("number"!=typeof ye?ye:ai(ye,j)),Pe=t.rects.popper,we=t.elements[ve?ae===Oe?"reference":Oe:ae],Te=function Or(t,a,e,n){var r="clippingParents"===a?function Tr(t){var a=Mt(Vt(t)),n=["absolute","fixed"].indexOf(rt(t).position)>=0&&Le(t)?xt(t):t;return Ke(n)?a.filter(function(r){return Ke(r)&&ei(r,n)&&"body"!==nt(r)}):[]}(t):[].concat(a),s=[].concat(r,[e]),O=s.reduce(function(P,G){var z=ti(t,G,n);return P.top=ut(z.top,P.top),P.right=Ht(z.right,P.right),P.bottom=Ht(z.bottom,P.bottom),P.left=ut(z.left,P.left),P},ti(t,s[0],n));return O.width=O.right-O.left,O.height=O.bottom-O.top,O.x=O.left,O.y=O.top,O}(Ke(we)?we:we.contextElement||ot(t.elements.popper),P,z,l),Ee=Dt(t.elements.reference),ke=ni({reference:Ee,element:Pe,strategy:"absolute",placement:r}),Me=gn(Object.assign({},Pe,ke)),je=ae===Oe?Me:Ee,Be={top:Te.top-je.top+Ne.top,bottom:je.bottom-Te.bottom+Ne.bottom,left:Te.left-je.left+Ne.left,right:je.right-Te.right+Ne.right},Ue=t.modifiersData.offset;if(ae===Oe&&Ue){var et=Ue[r];Object.keys(Be).forEach(function(We){var mt=[x,v].indexOf(We)>=0?1:-1,bt=[D,v].indexOf(We)>=0?"y":"x";Be[We]+=et[bt]*mt})}return Be}const xr={name:"flip",enabled:!0,phase:"main",fn:function Mr(t){var a=t.state,e=t.options,n=t.name;if(!a.modifiersData[n]._skip){for(var r=e.mainAxis,s=void 0===r||r,l=e.altAxis,O=void 0===l||l,P=e.fallbackPlacements,G=e.padding,z=e.boundary,se=e.rootBoundary,ae=e.altBoundary,ce=e.flipVariations,ve=void 0===ce||ce,_e=e.allowedAutoPlacements,ye=a.options.placement,Ne=o(ye),Pe=P||(Ne!==ye&&ve?function Ar(t){if(o(t)===X)return[];var a=Ae(t);return[W(t),a,W(a)]}(ye):[Ae(ye)]),we=[ye].concat(Pe).reduce(function(Et,lt){return Et.concat(o(lt)===X?function Er(t,a){void 0===a&&(a={});var r=a.boundary,s=a.rootBoundary,l=a.padding,O=a.flipVariations,P=a.allowedAutoPlacements,G=void 0===P?st:P,z=Nt(a.placement),se=z?O?ze:ze.filter(function(ve){return Nt(ve)===z}):j,ae=se.filter(function(ve){return G.indexOf(ve)>=0});0===ae.length&&(ae=se);var ce=ae.reduce(function(ve,_e){return ve[_e]=bn(t,{placement:_e,boundary:r,rootBoundary:s,padding:l})[o(_e)],ve},{});return Object.keys(ce).sort(function(ve,_e){return ce[ve]-ce[_e]})}(a,{placement:lt,boundary:z,rootBoundary:se,padding:G,flipVariations:ve,allowedAutoPlacements:_e}):lt)},[]),Te=a.rects.reference,Ee=a.rects.popper,ke=new Map,Me=!0,je=we[0],Be=0;Be<we.length;Be++){var Ue=we[Be],et=o(Ue),We=Nt(Ue)===te,mt=[D,v].indexOf(et)>=0,bt=mt?"width":"height",Qe=bn(a,{placement:Ue,boundary:z,rootBoundary:se,altBoundary:ae,padding:G}),tt=mt?We?x:Z:We?v:D;Te[bt]>Ee[bt]&&(tt=Ae(tt));var nn=Ae(tt),vt=[];if(s&&vt.push(Qe[et]<=0),O&&vt.push(Qe[tt]<=0,Qe[nn]<=0),vt.every(function(Et){return Et})){je=Ue,Me=!1;break}ke.set(Ue,vt)}if(Me)for(var Yn=function(lt){var jt=we.find(function(sn){var yt=ke.get(sn);if(yt)return yt.slice(0,lt).every(function(Kn){return Kn})});if(jt)return je=jt,"break"},Bt=ve?3:1;Bt>0&&"break"!==Yn(Bt);Bt--);a.placement!==je&&(a.modifiersData[n]._skip=!0,a.placement=je,a.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Pt(t,a,e){return ut(t,Ht(a,e))}function vn(t){var a=Dt(t),e=t.offsetWidth,n=t.offsetHeight;return Math.abs(a.width-e)<=1&&(e=a.width),Math.abs(a.height-n)<=1&&(n=a.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:n}}const Ir={name:"preventOverflow",enabled:!0,phase:"main",fn:function Rr(t){var a=t.state,e=t.options,n=t.name,r=e.mainAxis,s=void 0===r||r,l=e.altAxis,O=void 0!==l&&l,ae=e.tether,ce=void 0===ae||ae,ve=e.tetherOffset,_e=void 0===ve?0:ve,ye=bn(a,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),Ne=o(a.placement),Ce=Nt(a.placement),Pe=!Ce,we=mn(Ne),Te=function Pr(t){return"x"===t?"y":"x"}(we),Ee=a.modifiersData.popperOffsets,ke=a.rects.reference,Me=a.rects.popper,je="function"==typeof _e?_e(Object.assign({},a.rects,{placement:a.placement})):_e,Be="number"==typeof je?{mainAxis:je,altAxis:je}:Object.assign({mainAxis:0,altAxis:0},je),Ue=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,et={x:0,y:0};if(Ee){if(s){var We,mt="y"===we?D:Z,bt="y"===we?v:x,Qe="y"===we?"height":"width",tt=Ee[we],nn=tt+ye[mt],vt=tt-ye[bt],rn=ce?-Me[Qe]/2:0,Yn=Ce===te?ke[Qe]:Me[Qe],Bt=Ce===te?-Me[Qe]:-ke[Qe],an=a.elements.arrow,Et=ce&&an?vn(an):{width:0,height:0},lt=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},jt=lt[mt],sn=lt[bt],yt=Pt(0,ke[Qe],Et[Qe]),Kn=Pe?ke[Qe]/2-rn-yt-jt-Be.mainAxis:Yn-yt-jt-Be.mainAxis,hc=Pe?-ke[Qe]/2+rn+yt+sn+Be.mainAxis:Bt+yt+sn+Be.mainAxis,Qn=a.elements.arrow&&xt(a.elements.arrow),fc=Qn?"y"===we?Qn.clientTop||0:Qn.clientLeft||0:0,hr=null!=(We=Ue?.[we])?We:0,_c=tt+hc-hr,fr=Pt(ce?Ht(nn,tt+Kn-hr-fc):nn,tt,ce?ut(vt,_c):vt);Ee[we]=fr,et[we]=fr-tt}if(O){var pr,wt=Ee[Te],on="y"===Te?"height":"width",_r=wt+ye["x"===we?D:Z],gr=wt-ye["x"===we?v:x],Zn=-1!==[D,Z].indexOf(Ne),mr=null!=(pr=Ue?.[Te])?pr:0,br=Zn?_r:wt-ke[on]-Me[on]-mr+Be.altAxis,vr=Zn?wt+ke[on]+Me[on]-mr-Be.altAxis:gr,yr=ce&&Zn?function kr(t,a,e){var n=Pt(t,a,e);return n>e?e:n}(br,wt,vr):Pt(ce?br:_r,wt,ce?vr:gr);Ee[Te]=yr,et[Te]=yr-wt}a.modifiersData[n]=et}},requiresIfExists:["offset"]},Lr={name:"arrow",enabled:!0,phase:"main",fn:function Br(t){var a,e=t.state,n=t.name,r=t.options,s=e.elements.arrow,l=e.modifiersData.popperOffsets,O=o(e.placement),P=mn(O),z=[Z,x].indexOf(O)>=0?"height":"width";if(s&&l){var se=function(a,e){return ri("number"!=typeof(a="function"==typeof a?a(Object.assign({},e.rects,{placement:e.placement})):a)?a:ai(a,j))}(r.padding,e),ae=vn(s),ce="y"===P?D:Z,ve="y"===P?v:x,_e=e.rects.reference[z]+e.rects.reference[P]-l[P]-e.rects.popper[z],ye=l[P]-e.rects.reference[P],Ne=xt(s),Ce=Ne?"y"===P?Ne.clientHeight||0:Ne.clientWidth||0:0,Ee=Ce/2-ae[z]/2+(_e/2-ye/2),ke=Pt(se[ce],Ee,Ce-ae[z]-se[ve]);e.modifiersData[n]=((a={})[P]=ke,a.centerOffset=ke-Ee,a)}},effect:function jr(t){var a=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"==typeof r&&!(r=a.elements.popper.querySelector(r))||ei(a.elements.popper,r)&&(a.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ur(t,a,e){void 0===e&&(e=!1);var n=Le(a),r=Le(a)&&function Gr(t){var a=t.getBoundingClientRect(),e=Ct(a.width)/t.offsetWidth||1,n=Ct(a.height)/t.offsetHeight||1;return 1!==e||1!==n}(a),s=ot(a),l=Dt(t,r,e),O={scrollLeft:0,scrollTop:0},P={x:0,y:0};return(n||!n&&!e)&&(("body"!==nt(a)||_n(s))&&(O=function Vr(t){return t!==Ve(t)&&Le(t)?function Hr(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):fn(t)}(a)),Le(a)?((P=Dt(a,!0)).x+=a.clientLeft,P.y+=a.clientTop):s&&(P.x=pn(s))),{x:l.left+O.scrollLeft-P.x,y:l.top+O.scrollTop-P.y,width:l.width,height:l.height}}function zr(t){var a=new Map,e=new Set,n=[];function r(s){e.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(O){if(!e.has(O)){var P=a.get(O);P&&r(P)}}),n.push(s)}return t.forEach(function(s){a.set(s.name,s)}),t.forEach(function(s){e.has(s.name)||r(s)}),n}function $r(t){var a;return function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=void 0,e(t())})})),a}}var si={placement:"bottom",modifiers:[],strategy:"absolute"};function oi(){for(var t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];return!a.some(function(n){return!(n&&"function"==typeof n.getBoundingClientRect)})}function Kr(t){void 0===t&&(t={});var e=t.defaultModifiers,n=void 0===e?[]:e,r=t.defaultOptions,s=void 0===r?si:r;return function(O,P,G){void 0===G&&(G=s);var z={placement:"bottom",orderedModifiers:[],options:Object.assign({},si,s),modifiersData:{},elements:{reference:O,popper:P},attributes:{},styles:{}},se=[],ae=!1,ce={state:z,setOptions:function(Ne){var Ce="function"==typeof Ne?Ne(z.options):Ne;_e(),z.options=Object.assign({},s,z.options,Ce),z.scrollParents={reference:Ke(O)?Mt(O):O.contextElement?Mt(O.contextElement):[],popper:Mt(P)};var Pe=function Wr(t){var a=zr(t);return dn.reduce(function(e,n){return e.concat(a.filter(function(r){return r.phase===n}))},[])}(function Yr(t){var a=t.reduce(function(e,n){var r=e[n.name];return e[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,e},{});return Object.keys(a).map(function(e){return a[e]})}([].concat(n,z.options.modifiers)));return z.orderedModifiers=Pe.filter(function(we){return we.enabled}),function ve(){z.orderedModifiers.forEach(function(ye){var Ce=ye.options,we=ye.effect;if("function"==typeof we){var Te=we({state:z,name:ye.name,instance:ce,options:void 0===Ce?{}:Ce});se.push(Te||function(){})}})}(),ce.update()},forceUpdate:function(){if(!ae){var Ne=z.elements,Ce=Ne.reference,Pe=Ne.popper;if(oi(Ce,Pe)){z.rects={reference:Ur(Ce,xt(Pe),"fixed"===z.options.strategy),popper:vn(Pe)},z.reset=!1,z.placement=z.options.placement,z.orderedModifiers.forEach(function(Be){return z.modifiersData[Be.name]=Object.assign({},Be.data)});for(var we=0;we<z.orderedModifiers.length;we++)if(!0!==z.reset){var Te=z.orderedModifiers[we],Ee=Te.fn,ke=Te.options;"function"==typeof Ee&&(z=Ee({state:z,options:void 0===ke?{}:ke,name:Te.name,instance:ce})||z)}else z.reset=!1,we=-1}}},update:$r(function(){return new Promise(function(ye){ce.forceUpdate(),ye(z)})}),destroy:function(){_e(),ae=!0}};if(!oi(O,P))return ce;function _e(){se.forEach(function(ye){return ye()}),se=[]}return ce.setOptions(G).then(function(ye){!ae&&G.onFirstUpdate&&G.onFirstUpdate(ye)}),ce}}var Gt={passive:!0},Xr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ci(t){var a,e=t.popper,n=t.popperRect,r=t.placement,s=t.variation,l=t.offsets,O=t.position,P=t.gpuAcceleration,G=t.adaptive,z=t.roundOffsets,se=t.isFixed,ae=l.x,ce=void 0===ae?0:ae,ve=l.y,_e=void 0===ve?0:ve,ye="function"==typeof z?z({x:ce,y:_e}):{x:ce,y:_e};ce=ye.x,_e=ye.y;var Ne=l.hasOwnProperty("x"),Ce=l.hasOwnProperty("y"),Pe=Z,we=D,Te=window;if(G){var Ee=xt(e),ke="clientHeight",Me="clientWidth";Ee===Ve(e)&&"static"!==rt(Ee=ot(e)).position&&"absolute"===O&&(ke="scrollHeight",Me="scrollWidth"),(r===D||(r===Z||r===x)&&s===le)&&(we=v,_e-=(se&&Ee===Te&&Te.visualViewport?Te.visualViewport.height:Ee[ke])-n.height,_e*=P?1:-1),r!==Z&&(r!==D&&r!==v||s!==le)||(Pe=x,ce-=(se&&Ee===Te&&Te.visualViewport?Te.visualViewport.width:Ee[Me])-n.width,ce*=P?1:-1)}var We,Ue=Object.assign({position:O},G&&Xr),et=!0===z?function ea(t,a){var n=t.y,r=a.devicePixelRatio||1;return{x:Ct(t.x*r)/r||0,y:Ct(n*r)/r||0}}({x:ce,y:_e},Ve(e)):{x:ce,y:_e};return ce=et.x,_e=et.y,Object.assign({},Ue,P?((We={})[we]=Ce?"0":"",We[Pe]=Ne?"0":"",We.transform=(Te.devicePixelRatio||1)<=1?"translate("+ce+"px, "+_e+"px)":"translate3d("+ce+"px, "+_e+"px, 0)",We):((a={})[we]=Ce?_e+"px":"",a[Pe]=Ne?ce+"px":"",a.transform="",a))}var sa=Kr({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Qr(t){var a=t.state,e=t.instance,n=t.options,r=n.scroll,s=void 0===r||r,l=n.resize,O=void 0===l||l,P=Ve(a.elements.popper),G=[].concat(a.scrollParents.reference,a.scrollParents.popper);return s&&G.forEach(function(z){z.addEventListener("scroll",e.update,Gt)}),O&&P.addEventListener("resize",e.update,Gt),function(){s&&G.forEach(function(z){z.removeEventListener("scroll",e.update,Gt)}),O&&P.removeEventListener("resize",e.update,Gt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Jr(t){var a=t.state;a.modifiersData[t.name]=ni({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function ta(t){var a=t.state,e=t.options,n=e.gpuAcceleration,r=void 0===n||n,s=e.adaptive,l=void 0===s||s,O=e.roundOffsets,P=void 0===O||O,G={placement:o(a.placement),variation:Nt(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:r,isFixed:"fixed"===a.options.strategy};null!=a.modifiersData.popperOffsets&&(a.styles.popper=Object.assign({},a.styles.popper,ci(Object.assign({},G,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:l,roundOffsets:P})))),null!=a.modifiersData.arrow&&(a.styles.arrow=Object.assign({},a.styles.arrow,ci(Object.assign({},G,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:P})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function ia(t){var a=t.state;Object.keys(a.elements).forEach(function(e){var n=a.styles[e]||{},r=a.attributes[e]||{},s=a.elements[e];!Le(s)||!nt(s)||(Object.assign(s.style,n),Object.keys(r).forEach(function(l){var O=r[l];!1===O?s.removeAttribute(l):s.setAttribute(l,!0===O?"":O)}))})},effect:function ra(t){var a=t.state,e={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,e.popper),a.styles=e,a.elements.arrow&&Object.assign(a.elements.arrow.style,e.arrow),function(){Object.keys(a.elements).forEach(function(n){var r=a.elements[n],s=a.attributes[n]||{},O=Object.keys(a.styles.hasOwnProperty(n)?a.styles[n]:e[n]).reduce(function(P,G){return P[G]="",P},{});!Le(r)||!nt(r)||(Object.assign(r.style,O),Object.keys(s).forEach(function(P){r.removeAttribute(P)}))})}},requires:["computeStyles"]}]});const la={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ca(t){var a=t.state,n=t.name,r=t.options.offset,s=void 0===r?[0,0]:r,l=st.reduce(function(z,se){return z[se]=function oa(t,a,e){var n=o(t),r=[Z,D].indexOf(n)>=0?-1:1,s="function"==typeof e?e(Object.assign({},a,{placement:t})):e,l=s[0],O=s[1];return l=l||0,O=(O||0)*r,[Z,x].indexOf(n)>=0?{x:O,y:l}:{x:l,y:O}}(se,a.rects,s),z},{}),O=l[a.placement],G=O.y;null!=a.modifiersData.popperOffsets&&(a.modifiersData.popperOffsets.x+=O.x,a.modifiersData.popperOffsets.y+=G),a.modifiersData[n]=l}},yn=["*"],Va=["dialog"],di={animation:!0,transitionTimerDelayMs:5};let kt=(()=>{class t{constructor(){this.animation=di.animation}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ht(t){return"string"==typeof t}function it(t){return null!=t}function ui(t){return t&&t.then}function ct(t){return(t||document.body).getBoundingClientRect()}function fi(t=document){const a=t?.activeElement;return a?a.shadowRoot?fi(a.shadowRoot):a:null}const Rs=()=>{},{transitionTimerDelayMs:Is}=di,Rt=new Map,Ge=(t,a,e,n)=>{let r=n.context||{};const s=Rt.get(a);if(s)switch(n.runningTransition){case"continue":return _.w;case"stop":t.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Rt.delete(a)}const l=e(a,n.animation,r)||Rs;if(!n.animation||"none"===window.getComputedStyle(a).transitionProperty)return t.run(()=>l()),(0,y.of)(void 0).pipe(function ks(t){return a=>new w.c(e=>a.subscribe({next:l=>t.run(()=>e.next(l)),error:l=>t.run(()=>e.error(l)),complete:()=>t.run(()=>e.complete())}))}(t));const O=new N.B,P=new N.B,G=O.pipe(function L(...t){return a=>(0,ie.x)(a,(0,y.of)(...t))}(!0));Rt.set(a,{transition$:O,complete:()=>{P.next(),P.complete()},context:r});const z=function Ms(t){const{transitionDelay:a,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(a)+parseFloat(e))}(a);return t.runOutsideAngular(()=>{const se=g(a,"transitionend").pipe((0,oe.Q)(G),(0,J.p)(({target:ce})=>ce===a));he((0,$.O)(z+Is).pipe((0,oe.Q)(G)),se,P).pipe((0,oe.Q)(G)).subscribe(()=>{Rt.delete(a),t.run(()=>{l(),O.next(),O.complete()})})}),O.asObservable()},Bs=(t,a,e)=>{let{direction:n,maxSize:r,dimension:s}=e;const{classList:l}=t;function O(){l.add("collapse"),"show"===n?l.add("show"):l.remove("show")}if(a)return r||(r=function Fs(t,a){if(typeof navigator>"u")return"0px";const{classList:e}=t,n=e.contains("show");n||e.add("show"),t.style[a]="";const r=t.getBoundingClientRect()[a]+"px";return n||e.remove("show"),r}(t,s),e.maxSize=r,t.style[s]="show"!==n?r:"0px",l.remove("collapse","collapsing","show"),ct(t),l.add("collapsing")),t.style[s]="show"===n?r:"0px",()=>{O(),l.remove("collapsing"),t.style[s]=""};O()};let js=(()=>{class t{constructor(){this._ngbConfig=(0,i.inject)(kt),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Sn=(()=>{class t{constructor(){this._config=(0,i.inject)(js),this._element=(0,i.inject)(i.ElementRef),this._zone=(0,i.inject)(i.NgZone),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new i.EventEmitter,this.horizontal=this._config.horizontal,this.shown=new i.EventEmitter,this.hidden=new i.EventEmitter}set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,n){return Ge(this._zone,this._element.nativeElement,Bs,{animation:n,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,n){this._runTransition(e,n).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:t,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(n,r){2&n&&i.\u0275\u0275classProp("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return t})(),gi=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),mi=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),Nn=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),Tn=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})();const Kt=(t,a)=>!!a&&a.some(e=>e.contains(t)),Di=(t,a)=>!a||null!=function Ps(t,a){return!a||typeof t.closest>"u"?null:t.closest(a)}(t,a),co=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ti=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Pn(t){const a=Array.from(t.querySelectorAll(Ti)).filter(e=>-1!==e.tabIndex);return[a[0],a[a.length-1]]}const kn=(t,a,e,n=!1)=>{t.runOutsideAngular(()=>{const r=g(a,"focusin").pipe((0,oe.Q)(e),(0,V.T)(s=>s.target));g(a,"keydown").pipe((0,oe.Q)(e),(0,J.p)(s=>"Tab"===s.key),(0,H.E)(r)).subscribe(([s,l])=>{const[O,P]=Pn(a);(l===O||l===a)&&s.shiftKey&&(P.focus(),s.preventDefault()),l===P&&!s.shiftKey&&(O.focus(),s.preventDefault())}),n&&g(a,"click").pipe((0,oe.Q)(e),(0,H.E)(r),(0,V.T)(s=>s[1])).subscribe(s=>s.focus())})};let uo=(()=>{class t{constructor(){this._element=(0,i.inject)(be.DOCUMENT).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const ho=/\s+/,fo=/  +/gi,po={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},go=/^left/,mo=/^right/,bo=/^start/,vo=/^end/;function Oi({placement:t,baseClass:a},e){let n=Array.isArray(t)?t:t.split(ho),s=n.findIndex(G=>"auto"===G);s>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(G){null==n.find(z=>-1!==z.search("^"+G))&&n.splice(s++,1,G)});const l=n.map(G=>function _o(t,a){const[e,n]=po[t];return a&&n||e}(G,e.isRTL()));return{placement:l.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!a,phase:"write",fn({state:G}){const z=new RegExp(a+"(-[a-z]+)*","gi"),se=G.elements.popper,ae=G.placement;let ce=se.className;ce=ce.replace(z,""),ce+=` ${function yo(t,a){let[e,n]=a.split("-");const r=e.replace(go,"start").replace(mo,"end");let s=[r];if(n){let l=n;("left"===e||"right"===e)&&(l=l.replace(bo,"top").replace(vo,"bottom")),s.push(`${r}-${l}`)}return t&&(s=s.map(l=>`${t}-${l}`)),s.join(" ")}(a,ae)}`,ce=ce.trim().replace(fo," "),se.className=ce}},xr,Ir,Lr,{enabled:!0,name:"flip",options:{fallbackPlacements:l}}]}}function Ei(t){return t}new Date(1882,10,12),new Date(2174,10,25);let Vi=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),Fo=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.container=null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jn=(()=>{class t{constructor(){this._disabled=!1,this.nativeElement=(0,i.inject)(i.ElementRef).nativeElement,this.tabindex=0}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(n,r){2&n&&(i.\u0275\u0275hostProperty("tabIndex",r.disabled?-1:r.tabindex),i.\u0275\u0275classProp("disabled",r.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}}return t})(),Ln=(()=>{class t{constructor(){this.dropdown=(0,i.inject)(Xt),this.nativeElement=(0,i.inject)(i.ElementRef).nativeElement}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(n,r,s){if(1&n&&i.\u0275\u0275contentQuery(s,jn,4),2&n){let l;i.\u0275\u0275queryRefresh(l=i.\u0275\u0275loadQuery())&&(r.menuItems=l)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(n,r){1&n&&i.\u0275\u0275listener("keydown.ArrowUp",function(l){return r.dropdown.onKeyDown(l)})("keydown.ArrowDown",function(l){return r.dropdown.onKeyDown(l)})("keydown.Home",function(l){return r.dropdown.onKeyDown(l)})("keydown.End",function(l){return r.dropdown.onKeyDown(l)})("keydown.Enter",function(l){return r.dropdown.onKeyDown(l)})("keydown.Space",function(l){return r.dropdown.onKeyDown(l)})("keydown.Tab",function(l){return r.dropdown.onKeyDown(l)})("keydown.Shift.Tab",function(l){return r.dropdown.onKeyDown(l)}),2&n&&i.\u0275\u0275classProp("show",r.dropdown.isOpen())},standalone:!0})}}return t})(),qt=(()=>{class t{constructor(){this.dropdown=(0,i.inject)(Xt),this.nativeElement=(0,i.inject)(i.ElementRef).nativeElement}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(n,r){2&n&&(i.\u0275\u0275attribute("aria-expanded",r.dropdown.isOpen()),i.\u0275\u0275classProp("show",r.dropdown.isOpen()))},standalone:!0})}}return t})(),Gi=(()=>{class t extends qt{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=i.\u0275\u0275getInheritedFactory(t)))(r||t)}})()}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(n,r){1&n&&i.\u0275\u0275listener("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(l){return r.dropdown.onKeyDown(l)})("keydown.ArrowDown",function(l){return r.dropdown.onKeyDown(l)})("keydown.Home",function(l){return r.dropdown.onKeyDown(l)})("keydown.End",function(l){return r.dropdown.onKeyDown(l)})("keydown.Tab",function(l){return r.dropdown.onKeyDown(l)})("keydown.Shift.Tab",function(l){return r.dropdown.onKeyDown(l)}),2&n&&(i.\u0275\u0275attribute("aria-expanded",r.dropdown.isOpen()),i.\u0275\u0275classProp("show",r.dropdown.isOpen()))},standalone:!0,features:[i.\u0275\u0275ProvidersFeature([{provide:qt,useExisting:(0,i.forwardRef)(()=>t)}]),i.\u0275\u0275InheritDefinitionFeature]})}}return t})(),Xt=(()=>{class t{constructor(){this._changeDetector=(0,i.inject)(i.ChangeDetectorRef),this._config=(0,i.inject)(Fo),this._document=(0,i.inject)(be.DOCUMENT),this._injector=(0,i.inject)(i.Injector),this._ngZone=(0,i.inject)(i.NgZone),this._nativeElement=(0,i.inject)(i.ElementRef).nativeElement,this._destroyCloseHandlers$=new N.B,this._bodyContainer=null,this._positioning=function Ai(){const t=(0,i.inject)(uo);let a=null;return{createPopper(e){if(!a){let r=(e.updatePopperOptions||Ei)(Oi(e,t));a=sa(e.hostElement,e.targetElement,r)}},update(){a&&a.update()},setOptions(e){if(a){let r=(e.updatePopperOptions||Ei)(Oi(e,t));a.setOptions(r)}},destroy(){a&&(a.destroy(),a=null)}}}(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new i.EventEmitter}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){(0,i.afterNextRender)({write:()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()}},{injector:this._injector})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),e.dropdownClass){const{currentValue:n,previousValue:r}=e.dropdownClass;this._applyCustomDropdownClass(n,r)}e.autoClose&&this._open&&(this.autoClose=e.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:e=>this.popperOptions(function Pi(t){return a=>(a.modifiers.push(la,{name:"offset",options:{offset:()=>t}}),a)}([0,2])(e))}),this._applyPlacementClasses(),this._afterRenderRef=(0,i.afterRender)({write:()=>{this._positionMenu()}},{injector:this._injector})})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function Ni(t,a,e,n,r,s,l,O){e&&t.runOutsideAngular((t=>co?()=>setTimeout(()=>t(),100):t)(()=>{const G=g(a,"keydown").pipe((0,oe.Q)(r),(0,J.p)(ae=>"Escape"===ae.key),(0,de.M)(ae=>ae.preventDefault())),z=g(a,"mousedown").pipe((0,V.T)(ae=>{const ce=ae.target;return 2!==ae.button&&!Kt(ce,l)&&("inside"===e?Kt(ce,s)&&Di(ce,O):"outside"===e?!Kt(ce,s):Di(ce,O)||!Kt(ce,s))}),(0,oe.Q)(r)),se=g(a,"mouseup").pipe((0,H.E)(z),(0,J.p)(([ae,ce])=>ce),(0,U.c)(0),(0,oe.Q)(r));he([G.pipe((0,V.T)(ae=>0)),se.pipe((0,V.T)(ae=>1))]).subscribe(ae=>t.run(()=>n(ae)))}))}(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(e){const{key:n}=e,r=this._getMenuElements();let s=-1,l=null;const O=this._isEventFromToggle(e);if(!O&&r.length&&r.forEach((P,G)=>{P.contains(e.target)&&(l=P),P===fi(this._document)&&(s=G)})," "!==n&&"Enter"!==n){if("Tab"!==n){if(O||l){if(this.open(),r.length){switch(n){case"ArrowDown":s=Math.min(s+1,r.length-1);break;case"ArrowUp":if(this._isDropup()&&-1===s){s=r.length-1;break}s=Math.max(s-1,0);break;case"Home":s=0;break;case"End":s=r.length-1}r[s].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const P=this._menu.nativeElement.querySelectorAll(Ti);e.shiftKey&&e.target===P[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===P[P.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else g(e.target,"focusout").pipe((0,B.s)(1)).subscribe(({relatedTarget:P})=>{this._nativeElement.contains(P)||this.close()})}}else l&&(!0===this.autoClose||"inside"===this.autoClose)&&g(l,"click").pipe((0,B.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:e})=>!e).map(({nativeElement:e})=>e):[]}_positionMenu(){const e=this._menu;this.isOpen()&&e&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const n=this._menu.nativeElement,r=this._bodyContainer=this._bodyContainer||this._document.createElement("div");r.style.position="absolute",n.style.position="static",r.style.zIndex="1055",r.appendChild(n),this._document.body.appendChild(r)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,n){const r="body"===this.container?this._bodyContainer:this._nativeElement;r&&(n&&r.classList.remove(n),e&&r.classList.add(e))}_applyPlacementClasses(e){if(this._menu){e||(e=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const n=-1!==e.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(n),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(n))}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(n,r,s){if(1&n&&(i.\u0275\u0275contentQuery(s,Ln,5),i.\u0275\u0275contentQuery(s,qt,5)),2&n){let l;i.\u0275\u0275queryRefresh(l=i.\u0275\u0275loadQuery())&&(r._menu=l.first),i.\u0275\u0275queryRefresh(l=i.\u0275\u0275loadQuery())&&(r._anchor=l.first)}},hostVars:2,hostBindings:function(n,r){2&n&&i.\u0275\u0275classProp("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[i.\u0275\u0275NgOnChangesFeature]})}}return t})(),Hn=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),jo=(()=>{class t{constructor(){this._ngbConfig=(0,i.inject)(kt),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Xe{constructor(a,e,n){this.nodes=a,this.viewRef=e,this.componentRef=n}}let Ui=(()=>{class t{constructor(){this._document=(0,i.inject)(be.DOCUMENT)}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,r=n.style,{overflow:s,paddingRight:l}=r;if(e>0){const O=parseFloat(window.getComputedStyle(n).paddingRight);r.paddingRight=`${O+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=l),r.overflow=s}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Lo=(()=>{class t{constructor(){this._nativeElement=(0,i.inject)(i.ElementRef).nativeElement,this._zone=(0,i.inject)(i.NgZone),this._injector=(0,i.inject)(i.Injector)}ngOnInit(){(0,i.afterNextRender)({mixedReadWrite:()=>Ge(this._zone,this._nativeElement,(e,n)=>{n&&ct(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return Ge(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,r){2&n&&(i.\u0275\u0275classMap("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),i.\u0275\u0275classProp("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[i.\u0275\u0275StandaloneFeature],decls:0,vars:0,template:function(n,r){},encapsulation:2})}}return t})();class Vn{update(a){}close(a){}dismiss(a){}}const Ho=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],Vo=["animation","backdropClass"];class Go{_applyWindowOptions(a,e){Ho.forEach(n=>{it(e[n])&&(a[n]=e[n])})}_applyBackdropOptions(a,e){Vo.forEach(n=>{it(e[n])&&(a[n]=e[n])})}update(a){this._applyWindowOptions(this._windowCmptRef.instance,a),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,a)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,oe.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,oe.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(a,e,n,r){this._windowCmptRef=a,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new N.B,this._dismissed=new N.B,this._hidden=new N.B,a.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,l)=>{this._resolve=s,this._reject=l}),this.result.then(null,()=>{})}close(a){this._windowCmptRef&&(this._closed.next(a),this._resolve(a),this._removeModalElements())}_dismiss(a){this._dismissed.next(a),this._reject(a),this._removeModalElements()}dismiss(a){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();ui(e)?e.then(n=>{!1!==n&&this._dismiss(a)},()=>{}):!1!==e&&this._dismiss(a)}else this._dismiss(a)}_removeModalElements(){const a=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,y.of)(void 0);a.subscribe(()=>{const{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),T(a,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Gn=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Gn||{});let Uo=(()=>{class t{constructor(){this._document=(0,i.inject)(be.DOCUMENT),this._elRef=(0,i.inject)(i.ElementRef),this._zone=(0,i.inject)(i.NgZone),this._injector=(0,i.inject)(i.Injector),this._closed$=new N.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new i.EventEmitter,this.shown=new N.B,this.hidden=new N.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ht(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,(0,i.afterNextRender)({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,n={animation:this.animation,runningTransition:"stop"},l=T(Ge(this._zone,e,()=>e.classList.remove("show"),n),Ge(this._zone,this._dialogEl.nativeElement,()=>{},n));return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){const e={animation:this.animation,runningTransition:"continue"};T(Ge(this._zone,this._elRef.nativeElement,(s,l)=>{l&&ct(s),s.classList.add("show")},e),Ge(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{g(e,"keydown").pipe((0,oe.Q)(this._closed$),(0,J.p)(r=>"Escape"===r.key)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Gn.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let n=!1;g(this._dialogEl.nativeElement,"mousedown").pipe((0,oe.Q)(this._closed$),(0,de.M)(()=>n=!1),(0,Y.n)(()=>g(e,"mouseup").pipe((0,oe.Q)(this._closed$),(0,B.s)(1))),(0,J.p)(({target:r})=>e===r)).subscribe(()=>{n=!0}),g(e,"click").pipe((0,oe.Q)(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!n&&this._zone.run(()=>this.dismiss(Gn.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const n=e.querySelector("[ngbAutofocus]"),r=Pn(e)[0];(n||r||e).focus()}}_restoreFocus(){const e=this._document.body,n=this._elWithFocus;let r;r=n&&n.focus&&e.contains(n)?n:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ge(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(n,r){if(1&n&&i.\u0275\u0275viewQuery(Va,7),2&n){let s;i.\u0275\u0275queryRefresh(s=i.\u0275\u0275loadQuery())&&(r._dialogEl=s.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(n,r){2&n&&(i.\u0275\u0275attribute("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy)("role",r.role),i.\u0275\u0275classMap("modal d-block"+(r.windowClass?" "+r.windowClass:"")),i.\u0275\u0275classProp("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[i.\u0275\u0275StandaloneFeature],ngContentSelectors:yn,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(n,r){1&n&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275elementStart(0,"div",1,0)(2,"div",2),i.\u0275\u0275projection(3),i.\u0275\u0275elementEnd()()),2&n&&i.\u0275\u0275classMap("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return t})(),zo=(()=>{class t{constructor(){this._applicationRef=(0,i.inject)(i.ApplicationRef),this._injector=(0,i.inject)(i.Injector),this._environmentInjector=(0,i.inject)(i.EnvironmentInjector),this._document=(0,i.inject)(be.DOCUMENT),this._scrollBar=(0,i.inject)(Ui),this._activeWindowCmptHasChanged=new N.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new i.EventEmitter;const e=(0,i.inject)(i.NgZone);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const n=this._windowCmpts[this._windowCmpts.length-1];kn(e,n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(n.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,n,r){const s=r.container instanceof HTMLElement?r.container:it(r.container)?this._document.querySelector(r.container):this._document.body;if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const l=new Vn,O=(e=r.injector||e).get(i.EnvironmentInjector,null)||this._environmentInjector,P=this._getContentRef(e,O,n,l,r);let G=!1!==r.backdrop?this._attachBackdrop(s):void 0,z=this._attachWindowComponent(s,P.nodes),se=new Go(z,P,G,r.beforeDismiss);return this._registerModalRef(se),this._registerWindowCmpt(z),se.hidden.pipe((0,B.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=ae=>{se.close(ae)},l.dismiss=ae=>{se.dismiss(ae)},l.update=ae=>{se.update(ae)},se.update(r),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),G&&G.instance&&G.changeDetectorRef.detectChanges(),z.changeDetectorRef.detectChanges(),se}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(n=>n.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let n=(0,i.createComponent)(Lo,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,n){let r=(0,i.createComponent)(Uo,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,n,r,s,l){return r?r instanceof i.TemplateRef?this._createFromTemplateRef(r,s):ht(r)?this._createFromString(r):this._createFromComponent(e,n,r,s,l):new Xe([])}_createFromTemplateRef(e,n){const s=e.createEmbeddedView({$implicit:n,close(l){n.close(l)},dismiss(l){n.dismiss(l)}});return this._applicationRef.attachView(s),new Xe([s.rootNodes],s)}_createFromString(e){const n=this._document.createTextNode(`${e}`);return new Xe([[n]])}_createFromComponent(e,n,r,s,l){const O=i.Injector.create({providers:[{provide:Vn,useValue:s}],parent:e}),P=(0,i.createComponent)(r,{environmentInjector:n,elementInjector:O}),G=P.location.nativeElement;return l.scrollable&&G.classList.add("component-host-scrollable"),this._applicationRef.attachView(P.hostView),new Xe([[G]],P.hostView,P)}_setAriaHidden(e){const n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,n)=>{e?n.setAttribute("aria-hidden",e):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const n=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const n=this._windowCmpts.indexOf(e);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zi=(()=>{class t{constructor(){this._injector=(0,i.inject)(i.Injector),this._modalStack=(0,i.inject)(zo),this._config=(0,i.inject)(jo)}open(e,n={}){const r={...this._config,animation:this._config.animation,...n};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Un=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[zi]})}}return t})(),Yi=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),tr=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),nr=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),ir=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),rr=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),ar=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),sr=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),or=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),cr=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})();new i.InjectionToken("live announcer delay",{providedIn:"root",factory:()=>100});let lr=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})(),rc=(()=>{class t{constructor(){this._ngbConfig=(0,i.inject)(kt),this.backdrop=!0,this.keyboard=!0,this.position="start",this.scroll=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class dr{close(a){}dismiss(a){}}class ac{get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,oe.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,oe.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._panelCmptRef.instance.shown.asObservable()}constructor(a,e,n,r){this._panelCmptRef=a,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new N.B,this._dismissed=new N.B,this._hidden=new N.B,a.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),n&&n.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,l)=>{this._resolve=s,this._reject=l}),this.result.then(null,()=>{})}close(a){this._panelCmptRef&&(this._closed.next(a),this._resolve(a),this._removeOffcanvasElements())}_dismiss(a){this._dismissed.next(a),this._reject(a),this._removeOffcanvasElements()}dismiss(a){if(this._panelCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();ui(e)?e.then(n=>{!1!==n&&this._dismiss(a)},()=>{}):!1!==e&&this._dismiss(a)}else this._dismiss(a)}_removeOffcanvasElements(){const a=this._panelCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,y.of)(void 0);a.subscribe(()=>{const{nativeElement:n}=this._panelCmptRef.location;n.parentNode.removeChild(n),this._panelCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._panelCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),T(a,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var $n=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}($n||{});let sc=(()=>{class t{constructor(){this._nativeElement=(0,i.inject)(i.ElementRef).nativeElement,this._zone=(0,i.inject)(i.NgZone),this._injector=(0,i.inject)(i.Injector),this.dismissEvent=new i.EventEmitter}ngOnInit(){(0,i.afterNextRender)({mixedReadWrite:()=>Ge(this._zone,this._nativeElement,(e,n)=>{n&&ct(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return Ge(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}dismiss(){this.static||this.dismissEvent.emit($n.BACKDROP_CLICK)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:t,selectors:[["ngb-offcanvas-backdrop"]],hostVars:6,hostBindings:function(n,r){1&n&&i.\u0275\u0275listener("mousedown",function(){return r.dismiss()}),2&n&&(i.\u0275\u0275classMap("offcanvas-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),i.\u0275\u0275classProp("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass",static:"static"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[i.\u0275\u0275StandaloneFeature],decls:0,vars:0,template:function(n,r){},encapsulation:2})}}return t})(),oc=(()=>{class t{constructor(){this._document=(0,i.inject)(be.DOCUMENT),this._elRef=(0,i.inject)(i.ElementRef),this._zone=(0,i.inject)(i.NgZone),this._injector=(0,i.inject)(i.Injector),this._closed$=new N.B,this._elWithFocus=null,this.keyboard=!0,this.position="start",this.dismissEvent=new i.EventEmitter,this.shown=new N.B,this.hidden=new N.B}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,(0,i.afterNextRender)({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){const n=Ge(this._zone,this._elRef.nativeElement,r=>(r.classList.remove("showing"),r.classList.add("hiding"),()=>r.classList.remove("show","hiding")),{animation:this.animation,runningTransition:"stop"});return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){Ge(this._zone,this._elRef.nativeElement,(r,s)=>(s&&ct(r),r.classList.add("show","showing"),()=>r.classList.remove("showing")),{animation:this.animation,runningTransition:"continue"}).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{g(e,"keydown").pipe((0,oe.Q)(this._closed$),(0,J.p)(n=>"Escape"===n.key)).subscribe(n=>{this.keyboard&&requestAnimationFrame(()=>{n.defaultPrevented||this._zone.run(()=>this.dismiss($n.ESC))})})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const n=e.querySelector("[ngbAutofocus]"),r=Pn(e)[0];(n||r||e).focus()}}_restoreFocus(){const e=this._document.body,n=this._elWithFocus;let r;r=n&&n.focus&&e.contains(n)?n:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:t,selectors:[["ngb-offcanvas-panel"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(n,r){2&n&&(i.\u0275\u0275attribute("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),i.\u0275\u0275classMap("offcanvas offcanvas-"+r.position+(r.panelClass?" "+r.panelClass:"")))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",keyboard:"keyboard",panelClass:"panelClass",position:"position"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[i.\u0275\u0275StandaloneFeature],ngContentSelectors:yn,decls:1,vars:0,template:function(n,r){1&n&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275projection(0))},encapsulation:2})}}return t})(),cc=(()=>{class t{constructor(){this._applicationRef=(0,i.inject)(i.ApplicationRef),this._injector=(0,i.inject)(i.Injector),this._document=(0,i.inject)(be.DOCUMENT),this._scrollBar=(0,i.inject)(Ui),this._activePanelCmptHasChanged=new N.B,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._panelAttributes=["animation","ariaDescribedBy","ariaLabelledBy","keyboard","panelClass","position"],this._activeInstance=new i.EventEmitter;const e=(0,i.inject)(i.NgZone);this._activePanelCmptHasChanged.subscribe(()=>{this._panelCmpt&&kn(e,this._panelCmpt.location.nativeElement,this._activePanelCmptHasChanged)})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,n,r){const s=r.container instanceof HTMLElement?r.container:it(r.container)?this._document.querySelector(r.container):this._document.body;if(!s)throw new Error(`The specified offcanvas container "${r.container||"body"}" was not found in the DOM.`);r.scroll||this._hideScrollBar();const l=new dr,O=this._getContentRef(r.injector||e,n,l);let P=!1!==r.backdrop?this._attachBackdrop(s):void 0,G=this._attachWindowComponent(s,O.nodes),z=new ac(G,O,P,r.beforeDismiss);return this._registerOffcanvasRef(z),this._registerPanelCmpt(G),z.hidden.pipe((0,ue.j)(()=>this._restoreScrollBar())).subscribe(),l.close=se=>{z.close(se)},l.dismiss=se=>{z.dismiss(se)},this._applyPanelOptions(G.instance,r),P&&P.instance&&(this._applyBackdropOptions(P.instance,r),P.changeDetectorRef.detectChanges()),G.changeDetectorRef.detectChanges(),z}get activeInstance(){return this._activeInstance}dismiss(e){this._offcanvasRef?.dismiss(e)}hasOpenOffcanvas(){return!!this._offcanvasRef}_attachBackdrop(e){let n=(0,i.createComponent)(sc,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,n){let r=(0,i.createComponent)(oc,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyPanelOptions(e,n){this._panelAttributes.forEach(r=>{it(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){this._backdropAttributes.forEach(r=>{it(n[r])&&(e[r]=n[r])}),e.static="static"===n.backdrop}_getContentRef(e,n,r){return n?n instanceof i.TemplateRef?this._createFromTemplateRef(n,r):ht(n)?this._createFromString(n):this._createFromComponent(e,n,r):new Xe([])}_createFromTemplateRef(e,n){const s=e.createEmbeddedView({$implicit:n,close(l){n.close(l)},dismiss(l){n.dismiss(l)}});return this._applicationRef.attachView(s),new Xe([s.rootNodes],s)}_createFromString(e){const n=this._document.createTextNode(`${e}`);return new Xe([[n]])}_createFromComponent(e,n,r){const s=i.Injector.create({providers:[{provide:dr,useValue:r}],parent:e}),l=(0,i.createComponent)(n,{environmentInjector:this._applicationRef.injector,elementInjector:s}),O=l.location.nativeElement;return this._applicationRef.attachView(l.hostView),new Xe([[O]],l.hostView,l)}_registerOffcanvasRef(e){const n=()=>{this._offcanvasRef=void 0,this._activeInstance.emit(this._offcanvasRef)};this._offcanvasRef=e,this._activeInstance.emit(this._offcanvasRef),e.result.then(n,n)}_registerPanelCmpt(e){this._panelCmpt=e,this._activePanelCmptHasChanged.next(),e.onDestroy(()=>{this._panelCmpt=void 0,this._activePanelCmptHasChanged.next()})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lc=(()=>{class t{constructor(){this._injector=(0,i.inject)(i.Injector),this._offcanvasStack=(0,i.inject)(cc),this._config=(0,i.inject)(rc)}open(e,n={}){const r={...this._config,animation:this._config.animation,...n};return this._offcanvasStack.open(this._injector,e,r)}get activeInstance(){return this._offcanvasStack.activeInstance}dismiss(e){this._offcanvasStack.dismiss(e)}hasOpenOffcanvas(){return this._offcanvasStack.hasOpenOffcanvas()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ur=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({})}}return t})();const dc=[gi,mi,Nn,Tn,Vi,Hn,Un,Yi,ur,tr,nr,ir,rr,ar,sr,or,cr,lr];let uc=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=i.\u0275\u0275defineInjector({imports:[dc,gi,mi,Nn,Tn,Vi,Hn,Un,Yi,ur,tr,nr,ir,rr,ar,sr,or,cr,lr]})}}return t})()},943:(at,M,I)=>{"use strict";I.d(M,{P2:()=>K});var i=I(467);function S(U,B){this.v=U,this.k=B}function w(U){return new S(U,0)}function y(U){var B,Y;function ge(fe,ue){try{var be=U[fe](ue),me=be.value,xe=me instanceof S;Promise.resolve(xe?me.v:me).then(function(Ae){if(xe){var o="return"===fe?"return":"next";if(!me.k||Ae.done)return ge(o,Ae);Ae=U[o](Ae).value}Se(be.done?"return":"normal",Ae)},function(Ae){ge("throw",Ae)})}catch(Ae){Se("throw",Ae)}}function Se(fe,ue){switch(fe){case"return":B.resolve({value:ue,done:!0});break;case"throw":B.reject(ue);break;default:B.resolve({value:ue,done:!1})}(B=B.next)?ge(B.key,B.arg):Y=null}this._invoke=function(fe,ue){return new Promise(function(be,me){var xe={key:fe,arg:ue,resolve:be,reject:me,next:null};Y?Y=Y.next=xe:(B=Y=xe,ge(fe,ue))})},"function"!=typeof U.return&&(this.return=void 0)}y.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},y.prototype.next=function(U){return this._invoke("next",U)},y.prototype.throw=function(U){return this._invoke("throw",U)},y.prototype.return=function(U){return this._invoke("return",U)};const N=(U,B)=>B.some(Y=>U instanceof Y);let d,m;const C=new WeakMap,p=new WeakMap,f=new WeakMap;let E={get(U,B,Y){if(U instanceof IDBTransaction){if("done"===B)return C.get(U);if("store"===B)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return $(U[B])},set:(U,B,Y)=>(U[B]=Y,!0),has:(U,B)=>U instanceof IDBTransaction&&("done"===B||"store"===B)||B in U};function k(U){E=U(E)}function Q(U){return"function"==typeof U?function R(U){return function h(){return m||(m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...B){return U.apply(ee(this),B),$(this.request)}:function(...B){return $(U.apply(ee(this),B))}}(U):(U instanceof IDBTransaction&&function g(U){if(C.has(U))return;const B=new Promise((Y,ge)=>{const Se=()=>{U.removeEventListener("complete",fe),U.removeEventListener("error",ue),U.removeEventListener("abort",ue)},fe=()=>{Y(),Se()},ue=()=>{ge(U.error||new DOMException("AbortError","AbortError")),Se()};U.addEventListener("complete",fe),U.addEventListener("error",ue),U.addEventListener("abort",ue)});C.set(U,B)}(U),N(U,function b(){return d||(d=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,E):U)}function $(U){if(U instanceof IDBRequest)return function u(U){const B=new Promise((Y,ge)=>{const Se=()=>{U.removeEventListener("success",fe),U.removeEventListener("error",ue)},fe=()=>{Y($(U.result)),Se()},ue=()=>{ge(U.error),Se()};U.addEventListener("success",fe),U.addEventListener("error",ue)});return f.set(B,U),B}(U);if(p.has(U))return p.get(U);const B=Q(U);return B!==U&&(p.set(U,B),f.set(B,U)),B}const ee=U=>f.get(U);function K(U,B,{blocked:Y,upgrade:ge,blocking:Se,terminated:fe}={}){const ue=indexedDB.open(U,B),be=$(ue);return ge&&ue.addEventListener("upgradeneeded",me=>{ge($(ue.result),me.oldVersion,me.newVersion,$(ue.transaction),me)}),Y&&ue.addEventListener("blocked",me=>Y(me.oldVersion,me.newVersion,me)),be.then(me=>{fe&&me.addEventListener("close",()=>fe()),Se&&me.addEventListener("versionchange",xe=>Se(xe.oldVersion,xe.newVersion,xe))}).catch(()=>{}),be}const he=["get","getKey","getAll","getAllKeys","count"],A=["put","add","delete","clear"],F=new Map;function c(U,B){if(!(U instanceof IDBDatabase)||B in U||"string"!=typeof B)return;if(F.get(B))return F.get(B);const Y=B.replace(/FromIndex$/,""),ge=B!==Y,Se=A.includes(Y);if(!(Y in(ge?IDBIndex:IDBObjectStore).prototype)||!Se&&!he.includes(Y))return;const fe=function(){var ue=(0,i.A)(function*(be,...me){const xe=this.transaction(be,Se?"readwrite":"readonly");let Ae=xe.store;return ge&&(Ae=Ae.index(me.shift())),(yield Promise.all([Ae[Y](...me),Se&&xe.done]))[0]});return function(me){return ue.apply(this,arguments)}}();return F.set(B,fe),fe}k(U=>({...U,get:(B,Y,ge)=>c(B,Y)||U.get(B,Y,ge),has:(B,Y)=>!!c(B,Y)||U.has(B,Y)}));const T=["continue","continuePrimaryKey","advance"],ie={},L=new WeakMap,oe=new WeakMap,J={get(U,B){if(!T.includes(B))return U[B];let Y=ie[B];return Y||(Y=ie[B]=function(...ge){L.set(this,oe.get(this)[B](...ge))}),Y}};function de(){return V.apply(this,arguments)}function V(){return V=function _(U){return function(){return new y(U.apply(this,arguments))}}(function*(...U){let B=this;if(B instanceof IDBCursor||(B=yield w(B.openCursor(...U))),!B)return;const Y=new Proxy(B,J);for(oe.set(Y,B),f.set(Y,ee(B));B;)yield Y,B=yield w(L.get(Y)||B.continue()),L.delete(Y)}),V.apply(this,arguments)}function H(U,B){return B===Symbol.asyncIterator&&N(U,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===B&&N(U,[IDBIndex,IDBObjectStore])}k(U=>({...U,get:(B,Y,ge)=>H(B,Y)?de:U.get(B,Y,ge),has:(B,Y)=>H(B,Y)||U.has(B,Y)}))}}]);