<div class="docs-container">
    <div class="docs-sidebar">
      <div class="docs-nav">
        <h4>Features</h4>
        <ul class="nav flex-column">
          <li class="nav-item" *ngFor="let section of sections">
            <a class="nav-link" 
               [class.active]="activeSection === section.id"
               (click)="setActiveSection(section.id)">
              <i [class]="'bi ' + section.icon"></i>
              {{ section.title }}
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div class="docs-content">
      <div [ngSwitch]="activeSection">
        <div *ngSwitchCase="'notifications'" class="feature-demo">
          <h2>Notification System</h2>
          <p class="lead">A flexible notification system for displaying alerts and messages.</p>
          
          <div class="demo-card">
            <h4>Try It Out</h4>
            <div class="btn-group">
              <button class="btn btn-success" (click)="showNotification('success')">Success</button>
              <button class="btn btn-info" (click)="showNotification('info')">Info</button>
              <button class="btn btn-warning" (click)="showNotification('warning')">Warning</button>
              <button class="btn btn-danger" (click)="showNotification('error')">Error</button>
            </div>

            <div class="code-example mt-4">
              <h5>Usage Example</h5>
              <pre><code>notificationService.success('Operation completed successfully');
notificationService.error('An error occurred');</code></pre>
            </div>
          </div>
        </div>

        <div *ngSwitchCase="'config'" class="feature-demo">
          <h2>Configuration Management</h2>
          <p class="lead">Dynamic configuration system with environment support.</p>
          
          <div class="demo-card">
            <h4>Current Configuration</h4>
            <pre class="config-display">{{ currentConfig | json }}</pre>

            <div class="code-example mt-4">
              <h5>Usage Example</h5>
              <pre><code>const config = configService.getConfig();
const isDarkMode = configService.isFeatureEnabled('darkMode');</code></pre>
            </div>
          </div>
        </div>

        <div *ngSwitchCase="'websocket'" class="feature-demo">
          <h2>WebSocket Integration</h2>
          <p class="lead">Real-time communication with automatic reconnection.</p>
          
          <div class="demo-card">
            <h4>WebSocket Status</h4>
            <div class="status-display mb-3">
              <span class="badge" [ngClass]="(wsStatus$ | async)?.connected ? 'bg-success' : 'bg-danger'">
                {{ (wsStatus$ | async)?.connected ? 'Connected' : 'Disconnected' }}
              </span>
            </div>

            <button class="btn btn-primary" (click)="sendTestMessage()">Send Test Message</button>

            <div class="code-example mt-4">
              <h5>Usage Example</h5>
              <pre><code>wsService.sendMessage('notification', {{ '{' }} message: 'Test' {{ '}' }});
wsService.messages$.subscribe(message => {{ '{' }}
  console.log('Received:', message);
{{ '}' }});</code></pre>
            </div>
          </div>
        </div>

        <div *ngSwitchCase="'state'" class="feature-demo">
          <h2>State Management</h2>
          <p class="lead">NgRx-based state management with facades.</p>
          
          <div class="demo-card">
            <h4>Current UI State</h4>
            <div class="state-display mb-3">
              <p><strong>Theme:</strong> {{ theme$ | async }}</p>
              <p><strong>Sidebar:</strong> {{ (sidebarExpanded$ | async) ? 'Expanded' : 'Collapsed' }}</p>
            </div>

            <button class="btn btn-primary me-2" (click)="toggleTheme()">Toggle Theme</button>
            <button class="btn btn-secondary" (click)="toggleSidebar()">Toggle Sidebar</button>

            <div class="code-example mt-4">
              <h5>Usage Example</h5>
              <pre><code>uiFacade.setTheme('dark');
uiFacade.theme$.subscribe(theme => {{ '{' }}
  console.log(theme);
{{ '}' }});</code></pre>
            </div>
          </div>
        </div>

        <div *ngSwitchCase="'preferences'" class="feature-demo">
          <h2>User Preferences</h2>
          <p class="lead">Persistent user preferences with automatic sync.</p>
          
          <div class="demo-card">
            <h4>Current Preferences</h4>
            <pre class="preferences-display">{{ userPreferences$ | async | json }}</pre>

            <button class="btn btn-primary mt-3" (click)="resetPreferences()">Reset Preferences</button>

            <div class="code-example mt-4">
              <h5>Usage Example</h5>
              <pre><code>preferencesService.updatePreferences({{ '{' }}
  theme: 'dark',
  fontSize: 'large'
{{ '}' }});</code></pre>
            </div>
          </div>
        </div>

        <div *ngSwitchCase="'routing'" class="feature-demo">
          <h2>Routing & Navigation</h2>
          <p class="lead">Dynamic routing system with lazy-loaded MFEs.</p>
          
          <div class="demo-card">
            <h4>Route Configuration</h4>
            <pre class="config-display">{{ routeConfig | json }}</pre>

            <div class="code-example mt-4">
              <h5>Usage Example</h5>
              <pre><code>// Lazy loading MFE routes
{{ '{' }}
  path: 'feature',
  loadComponent: () => import('./mfes/feature')
    .then(m => m.FeatureComponent)
{{ '}' }}</code></pre>
            </div>
          </div>
        </div>

        <div *ngSwitchCase="'theming'" class="feature-demo">
          <h2>Dynamic Theming</h2>
          <p class="lead">CSS variable-based theme system with light/dark modes.</p>
          
          <div class="demo-card">
            <h4>Theme Preview</h4>
            <div class="theme-preview">
              <div class="color-sample" *ngFor="let color of themeColors">
                <div class="color-box" [style.background-color]="'var(--' + color + ')'"></div>
                <span class="color-name">--{{ color }}</span>
              </div>
            </div>

            <div class="code-example mt-4">
              <h5>Usage Example</h5>
              <pre><code>// Apply theme variables
element {{ '{' }}
  color: var(--text-primary);
  background: var(--bg-primary);
{{ '}' }}</code></pre>
            </div>
          </div>
        </div>

        </div>
